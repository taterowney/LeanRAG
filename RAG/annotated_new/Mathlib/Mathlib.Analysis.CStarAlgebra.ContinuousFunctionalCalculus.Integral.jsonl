{"name":"cfcL_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœâ· : RCLike ğ•œ\ninstâœâ¶ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâµ : NormedRing A\ninstâœâ´ : StarRing A\ninstâœÂ³ : NormedAlgebra ğ•œ A\ninstâœÂ² : NormedAlgebra Real A\ninstâœÂ¹ : CompleteSpace A\ninstâœ : ContinuousFunctionalCalculus ğ•œ p\na : A\nf : X â†’ ContinuousMap (â†‘(spectrum ğ•œ a)) ğ•œ\nhfâ‚ : MeasureTheory.Integrable f Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (MeasureTheory.integral Î¼ fun x => (cfcL ha) (f x)) ((cfcL ha) (MeasureTheory.integral Î¼ fun x => f x))","decl":"lemma cfcL_integral (a : A) (f : X â†’ C(spectrum ğ•œ a, ğ•œ)) (hfâ‚ : Integrable f Î¼)\n    (ha : p a := by cfc_tac) :\n    âˆ« x, cfcL (a := a) ha (f x) âˆ‚Î¼ = cfcL (a := a) ha (âˆ« x, f x âˆ‚Î¼) := by\n  rw [ContinuousLinearMap.integral_comp_comm _ hfâ‚]\n\n"}
{"name":"cfcHom_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœâ· : RCLike ğ•œ\ninstâœâ¶ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâµ : NormedRing A\ninstâœâ´ : StarRing A\ninstâœÂ³ : NormedAlgebra ğ•œ A\ninstâœÂ² : NormedAlgebra Real A\ninstâœÂ¹ : CompleteSpace A\ninstâœ : ContinuousFunctionalCalculus ğ•œ p\na : A\nf : X â†’ ContinuousMap (â†‘(spectrum ğ•œ a)) ğ•œ\nhfâ‚ : MeasureTheory.Integrable f Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (MeasureTheory.integral Î¼ fun x => (cfcHom ha) (f x)) ((cfcHom ha) (MeasureTheory.integral Î¼ fun x => f x))","decl":"lemma cfcHom_integral (a : A) (f : X â†’ C(spectrum ğ•œ a, ğ•œ)) (hfâ‚ : Integrable f Î¼)\n    (ha : p a := by cfc_tac) :\n    âˆ« x, cfcHom (a := a) ha (f x) âˆ‚Î¼ = cfcHom (a := a) ha (âˆ« x, f x âˆ‚Î¼) :=\n  cfcL_integral a f hfâ‚ ha\n\n"}
{"name":"cfc_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœÂ¹â° : RCLike ğ•œ\ninstâœâ¹ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâ¸ : NormedRing A\ninstâœâ· : StarRing A\ninstâœâ¶ : NormedAlgebra ğ•œ A\ninstâœâµ : NormedAlgebra Real A\ninstâœâ´ : CompleteSpace A\ninstâœÂ³ : ContinuousFunctionalCalculus ğ•œ p\ninstâœÂ² : TopologicalSpace X\ninstâœÂ¹ : OpensMeasurableSpace X\nf : X â†’ ğ•œ â†’ ğ•œ\nbound : X â†’ Real\na : A\ninstâœ : SecondCountableTopologyEither X (ContinuousMap (â†‘(spectrum ğ•œ a)) ğ•œ)\nhfâ‚ : âˆ€ (x : X), ContinuousOn (f x) (spectrum ğ•œ a)\nhfâ‚‚ : Continuous fun x => { toFun := (spectrum ğ•œ a).restrict (f x), continuous_toFun := â‹¯ }\nhbound : âˆ€ (x : X) (z : ğ•œ), Membership.mem (spectrum ğ•œ a) z â†’ LE.le (Norm.norm (f x z)) (Norm.norm (bound x))\nhbound_finite_integral : MeasureTheory.HasFiniteIntegral bound Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (cfc (fun r => MeasureTheory.integral Î¼ fun x => f x r) a) (MeasureTheory.integral Î¼ fun x => cfc (f x) a)","decl":"open ContinuousMap in\n/-- The continuous functional calculus commutes with integration. -/\nlemma cfc_integral [TopologicalSpace X] [OpensMeasurableSpace X] (f : X â†’ ğ•œ â†’ ğ•œ)\n    (bound : X â†’ â„) (a : A) [SecondCountableTopologyEither X C(spectrum ğ•œ a, ğ•œ)]\n    (hfâ‚ : âˆ€ x, ContinuousOn (f x) (spectrum ğ•œ a))\n    (hfâ‚‚ : Continuous (fun x â†¦ (âŸ¨_, hfâ‚ x |>.restrictâŸ© : C(spectrum ğ•œ a, ğ•œ))))\n    (hbound : âˆ€ x, âˆ€ z âˆˆ spectrum ğ•œ a, â€–f x zâ€– â‰¤ â€–bound xâ€–)\n    (hbound_finite_integral : HasFiniteIntegral bound Î¼) (ha : p a := by cfc_tac) :\n    cfc (fun r => âˆ« x, f x r âˆ‚Î¼) a = âˆ« x, cfc (f x) a âˆ‚Î¼ := by\n  let fc : X â†’ C(spectrum ğ•œ a, ğ•œ) := fun x => âŸ¨_, (hfâ‚ x).restrictâŸ©\n  have fc_integrable : Integrable fc Î¼ := by\n    refine âŸ¨hfâ‚‚.aestronglyMeasurable, ?_âŸ©\n    refine hbound_finite_integral.mono <| .of_forall fun x â†¦ ?_\n    rw [norm_le _ (norm_nonneg (bound x))]\n    exact fun z â†¦ hbound x z.1 z.2\n  have h_int_fc : (spectrum ğ•œ a).restrict (âˆ« x, f x Â· âˆ‚Î¼) = âˆ« x, fc x âˆ‚Î¼ := by\n    ext; simp [integral_apply fc_integrable, fc]\n  have hcontâ‚‚ : ContinuousOn (fun r => âˆ« x, f x r âˆ‚Î¼) (spectrum ğ•œ a) := by\n    rw [continuousOn_iff_continuous_restrict]\n    convert map_continuous (âˆ« x, fc x âˆ‚Î¼)\n  rw [integral_congr_ae (.of_forall fun _ â†¦ cfc_apply ..), cfc_apply ..,\n    cfcHom_integral _ _ fc_integrable]\n  congr\n\n"}
{"name":"cfc_integral'","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœÂ¹â° : RCLike ğ•œ\ninstâœâ¹ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâ¸ : NormedRing A\ninstâœâ· : StarRing A\ninstâœâ¶ : NormedAlgebra ğ•œ A\ninstâœâµ : NormedAlgebra Real A\ninstâœâ´ : CompleteSpace A\ninstâœÂ³ : ContinuousFunctionalCalculus ğ•œ p\ninstâœÂ² : TopologicalSpace X\ninstâœÂ¹ : OpensMeasurableSpace X\nf : X â†’ ğ•œ â†’ ğ•œ\nbound : X â†’ Real\na : A\ninstâœ : SecondCountableTopologyEither X (ContinuousMap (â†‘(spectrum ğ•œ a)) ğ•œ)\nhf : Continuous (Function.uncurry fun x => (spectrum ğ•œ a).restrict (f x))\nhbound : âˆ€ (x : X) (z : ğ•œ), Membership.mem (spectrum ğ•œ a) z â†’ LE.le (Norm.norm (f x z)) (Norm.norm (bound x))\nhbound_finite_integral : MeasureTheory.HasFiniteIntegral bound Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (cfc (fun r => MeasureTheory.integral Î¼ fun x => f x r) a) (MeasureTheory.integral Î¼ fun x => cfc (f x) a)","decl":"/-- The continuous functional calculus commutes with integration. -/\nlemma cfc_integral' [TopologicalSpace X] [OpensMeasurableSpace X] (f : X â†’ ğ•œ â†’ ğ•œ)\n    (bound : X â†’ â„) (a : A) [SecondCountableTopologyEither X C(spectrum ğ•œ a, ğ•œ)]\n    (hf : Continuous (fun x => (spectrum ğ•œ a).restrict (f x)).uncurry)\n    (hbound : âˆ€ x, âˆ€ z âˆˆ spectrum ğ•œ a, â€–f x zâ€– â‰¤ â€–bound xâ€–)\n    (hbound_finite_integral : HasFiniteIntegral bound Î¼) (ha : p a := by cfc_tac) :\n    cfc (fun r => âˆ« x, f x r âˆ‚Î¼) a = âˆ« x, cfc (f x) a âˆ‚Î¼ := by\n  refine cfc_integral f bound a ?_ ?_ hbound hbound_finite_integral\n  Â· exact (continuousOn_iff_continuous_restrict.mpr <| hf.uncurry_left Â·)\n  Â· exact ContinuousMap.curry âŸ¨_, hfâŸ© |>.continuous\n\n"}
{"name":"cfcâ‚™L_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœâ¹ : RCLike ğ•œ\ninstâœâ¸ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâ· : NonUnitalNormedRing A\ninstâœâ¶ : StarRing A\ninstâœâµ : CompleteSpace A\ninstâœâ´ : NormedSpace ğ•œ A\ninstâœÂ³ : NormedSpace Real A\ninstâœÂ² : IsScalarTower ğ•œ A A\ninstâœÂ¹ : SMulCommClass ğ•œ A A\ninstâœ : NonUnitalContinuousFunctionalCalculus ğ•œ p\na : A\nf : X â†’ ContinuousMapZero (â†‘(quasispectrum ğ•œ a)) ğ•œ\nhfâ‚ : MeasureTheory.Integrable f Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (MeasureTheory.integral Î¼ fun x => (cfcâ‚™L ha) (f x)) ((cfcâ‚™L ha) (MeasureTheory.integral Î¼ fun x => f x))","decl":"lemma cfcâ‚™L_integral (a : A) (f : X â†’ C(quasispectrum ğ•œ a, ğ•œ)â‚€) (hfâ‚ : Integrable f Î¼)\n    (ha : p a := by cfc_tac) :\n    âˆ« x, cfcâ‚™L (a := a) ha (f x) âˆ‚Î¼ = cfcâ‚™L (a := a) ha (âˆ« x, f x âˆ‚Î¼) := by\n  rw [ContinuousLinearMap.integral_comp_comm _ hfâ‚]\n\n"}
{"name":"cfcâ‚™Hom_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœâ¹ : RCLike ğ•œ\ninstâœâ¸ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœâ· : NonUnitalNormedRing A\ninstâœâ¶ : StarRing A\ninstâœâµ : CompleteSpace A\ninstâœâ´ : NormedSpace ğ•œ A\ninstâœÂ³ : NormedSpace Real A\ninstâœÂ² : IsScalarTower ğ•œ A A\ninstâœÂ¹ : SMulCommClass ğ•œ A A\ninstâœ : NonUnitalContinuousFunctionalCalculus ğ•œ p\na : A\nf : X â†’ ContinuousMapZero (â†‘(quasispectrum ğ•œ a)) ğ•œ\nhfâ‚ : MeasureTheory.Integrable f Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (MeasureTheory.integral Î¼ fun x => (cfcâ‚™Hom ha) (f x)) ((cfcâ‚™Hom ha) (MeasureTheory.integral Î¼ fun x => f x))","decl":"lemma cfcâ‚™Hom_integral (a : A) (f : X â†’ C(quasispectrum ğ•œ a, ğ•œ)â‚€) (hfâ‚ : Integrable f Î¼)\n    (ha : p a := by cfc_tac) :\n    âˆ« x, cfcâ‚™Hom (a := a) ha (f x) âˆ‚Î¼ = cfcâ‚™Hom (a := a) ha (âˆ« x, f x âˆ‚Î¼) :=\n  cfcâ‚™L_integral a f hfâ‚ ha\n\n"}
{"name":"cfcâ‚™_integral","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœÂ¹Â² : RCLike ğ•œ\ninstâœÂ¹Â¹ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœÂ¹â° : NonUnitalNormedRing A\ninstâœâ¹ : StarRing A\ninstâœâ¸ : CompleteSpace A\ninstâœâ· : NormedSpace ğ•œ A\ninstâœâ¶ : NormedSpace Real A\ninstâœâµ : IsScalarTower ğ•œ A A\ninstâœâ´ : SMulCommClass ğ•œ A A\ninstâœÂ³ : NonUnitalContinuousFunctionalCalculus ğ•œ p\ninstâœÂ² : TopologicalSpace X\ninstâœÂ¹ : OpensMeasurableSpace X\nf : X â†’ ğ•œ â†’ ğ•œ\nbound : X â†’ Real\na : A\ninstâœ : SecondCountableTopologyEither X (ContinuousMapZero (â†‘(quasispectrum ğ•œ a)) ğ•œ)\nhfâ‚ : âˆ€ (x : X), ContinuousOn (f x) (quasispectrum ğ•œ a)\nhfâ‚‚ : âˆ€ (x : X), Eq (f x 0) 0\nhfâ‚ƒ : Continuous fun x => { toFun := (quasispectrum ğ•œ a).restrict (f x), continuous_toFun := â‹¯, map_zero' := â‹¯ }\nhbound : âˆ€ (x : X) (z : ğ•œ), Membership.mem (quasispectrum ğ•œ a) z â†’ LE.le (Norm.norm (f x z)) (Norm.norm (bound x))\nhbound_finite_integral : MeasureTheory.HasFiniteIntegral bound Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (cfcâ‚™ (fun r => MeasureTheory.integral Î¼ fun x => f x r) a) (MeasureTheory.integral Î¼ fun x => cfcâ‚™ (f x) a)","decl":"open ContinuousMapZero in\n/-- The non-unital continuous functional calculus commutes with integration. -/\nlemma cfcâ‚™_integral [TopologicalSpace X] [OpensMeasurableSpace X] (f : X â†’ ğ•œ â†’ ğ•œ)\n    (bound : X â†’ â„) (a : A) [SecondCountableTopologyEither X C(quasispectrum ğ•œ a, ğ•œ)â‚€]\n    (hfâ‚ : âˆ€ x, ContinuousOn (f x) (quasispectrum ğ•œ a))\n    (hfâ‚‚ : âˆ€ x, f x 0 = 0)\n    (hfâ‚ƒ : Continuous (fun x â†¦ (âŸ¨âŸ¨_, hfâ‚ x |>.restrictâŸ©, hfâ‚‚ xâŸ© : C(quasispectrum ğ•œ a, ğ•œ)â‚€)))\n    (hbound : âˆ€ x, âˆ€ z âˆˆ quasispectrum ğ•œ a, â€–f x zâ€– â‰¤ â€–bound xâ€–)\n    (hbound_finite_integral : HasFiniteIntegral bound Î¼) (ha : p a := by cfc_tac) :\n    cfcâ‚™ (fun r => âˆ« x, f x r âˆ‚Î¼) a = âˆ« x, cfcâ‚™ (f x) a âˆ‚Î¼ := by\n  let fc : X â†’ C(quasispectrum ğ•œ a, ğ•œ)â‚€ := fun x => âŸ¨âŸ¨_, (hfâ‚ x).restrictâŸ©, hfâ‚‚ xâŸ©\n  have fc_integrable : Integrable fc Î¼ := by\n    refine âŸ¨hfâ‚ƒ.aestronglyMeasurable, ?_âŸ©\n    refine hbound_finite_integral.mono <| .of_forall fun x â†¦ ?_\n    change â€–(fc x : C(quasispectrum  ğ•œ a, ğ•œ))â€– â‰¤ â€–bound xâ€–\n    rw [ContinuousMap.norm_le _ (norm_nonneg (bound x))]\n    exact fun z â†¦ hbound x z.1 z.2\n  have h_int_fc : (quasispectrum ğ•œ a).restrict (âˆ« x, f x Â· âˆ‚Î¼) = âˆ« x, fc x âˆ‚Î¼ := by\n    ext; simp [integral_apply fc_integrable, fc]\n  have hcontâ‚‚ : ContinuousOn (fun r => âˆ« x, f x r âˆ‚Î¼) (quasispectrum ğ•œ a) := by\n    rw [continuousOn_iff_continuous_restrict]\n    convert map_continuous (âˆ« x, fc x âˆ‚Î¼)\n  rw [integral_congr_ae (.of_forall fun _ â†¦ cfcâ‚™_apply ..), cfcâ‚™_apply ..,\n    cfcâ‚™Hom_integral _ _ fc_integrable]\n  congr\n\n"}
{"name":"cfcâ‚™_integral'","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Integral","initialProofState":"X : Type u_1\nğ•œ : Type u_2\nA : Type u_3\np : A â†’ Prop\ninstâœÂ¹Â² : RCLike ğ•œ\ninstâœÂ¹Â¹ : MeasurableSpace X\nÎ¼ : MeasureTheory.Measure X\ninstâœÂ¹â° : NonUnitalNormedRing A\ninstâœâ¹ : StarRing A\ninstâœâ¸ : CompleteSpace A\ninstâœâ· : NormedSpace ğ•œ A\ninstâœâ¶ : NormedSpace Real A\ninstâœâµ : IsScalarTower ğ•œ A A\ninstâœâ´ : SMulCommClass ğ•œ A A\ninstâœÂ³ : NonUnitalContinuousFunctionalCalculus ğ•œ p\ninstâœÂ² : TopologicalSpace X\ninstâœÂ¹ : OpensMeasurableSpace X\nf : X â†’ ğ•œ â†’ ğ•œ\nbound : X â†’ Real\na : A\ninstâœ : SecondCountableTopologyEither X (ContinuousMapZero (â†‘(quasispectrum ğ•œ a)) ğ•œ)\nhf : Continuous (Function.uncurry fun x => (quasispectrum ğ•œ a).restrict (f x))\nhfâ‚‚ : âˆ€ (x : X), Eq (f x 0) 0\nhbound : âˆ€ (x : X) (z : ğ•œ), Membership.mem (quasispectrum ğ•œ a) z â†’ LE.le (Norm.norm (f x z)) (Norm.norm (bound x))\nhbound_finite_integral : MeasureTheory.HasFiniteIntegral bound Î¼\nha : autoParam (p a) _autoâœ\nâŠ¢ Eq (cfcâ‚™ (fun r => MeasureTheory.integral Î¼ fun x => f x r) a) (MeasureTheory.integral Î¼ fun x => cfcâ‚™ (f x) a)","decl":"/-- The non-unital continuous functional calculus commutes with integration. -/\nlemma cfcâ‚™_integral' [TopologicalSpace X] [OpensMeasurableSpace X] (f : X â†’ ğ•œ â†’ ğ•œ)\n    (bound : X â†’ â„) (a : A) [SecondCountableTopologyEither X C(quasispectrum ğ•œ a, ğ•œ)â‚€]\n    (hf : Continuous (fun x => (quasispectrum ğ•œ a).restrict (f x)).uncurry)\n    (hfâ‚‚ : âˆ€ x, f x 0 = 0)\n    (hbound : âˆ€ x, âˆ€ z âˆˆ quasispectrum ğ•œ a, â€–f x zâ€– â‰¤ â€–bound xâ€–)\n    (hbound_finite_integral : HasFiniteIntegral bound Î¼) (ha : p a := by cfc_tac) :\n    cfcâ‚™ (fun r => âˆ« x, f x r âˆ‚Î¼) a = âˆ« x, cfcâ‚™ (f x) a âˆ‚Î¼ := by\n  refine cfcâ‚™_integral f bound a ?_ hfâ‚‚ ?_ hbound hbound_finite_integral\n  Â· exact (continuousOn_iff_continuous_restrict.mpr <| hf.uncurry_left Â·)\n  Â· let g := ((â†‘) : C(quasispectrum ğ•œ a, ğ•œ)â‚€ â†’ C(quasispectrum ğ•œ a, ğ•œ))\n    refine ((isInducing_iff g).mpr rfl).continuous_iff.mpr ?_\n    exact ContinuousMap.curry âŸ¨_, hfâŸ© |>.continuous\n\n"}
