{"name":"CategoryTheory.Subpresheaf.range_obj","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\nU : Opposite C\n‚ä¢ Eq ((CategoryTheory.Subpresheaf.range p).obj U) (Set.range (p.app U))","decl":"/-- The range of a morphism of presheaves of types, as a subpresheaf of the target. -/\n@[simps]\ndef range (p : F' ‚ü∂ F) : Subpresheaf F where\n  obj U := Set.range (p.app U)\n  map := by\n    rintro U V i _ ‚ü®x, rfl‚ü©\n    exact ‚ü®_, FunctorToTypes.naturality  _ _ p i x‚ü©\n\n"}
{"name":"CategoryTheory.Subpresheaf.range_id","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF : CategoryTheory.Functor (Opposite C) (Type w)\n‚ä¢ Eq (CategoryTheory.Subpresheaf.range (CategoryTheory.CategoryStruct.id F)) Top.top","decl":"variable (F) in\nlemma range_id : range (ùüô F) = ‚ä§ := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.range_Œπ","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\n‚ä¢ Eq (CategoryTheory.Subpresheaf.range G.Œπ) G","decl":"@[simp]\nlemma range_Œπ (G : Subpresheaf F) : range G.Œπ = G := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.lift_app_coe","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F' F\nG : CategoryTheory.Subpresheaf F\nhf : LE.le (CategoryTheory.Subpresheaf.range f) G\nU : Opposite C\nx : F'.obj U\n‚ä¢ Eq (‚Üë((CategoryTheory.Subpresheaf.lift f hf).app U x)) (f.app U x)","decl":"/-- If the image of a morphism falls in a subpresheaf, then the morphism factors through it. -/\n@[simps!]\ndef lift : F' ‚ü∂ G.toPresheaf where\n  app U x := ‚ü®f.app U x, hf U (by simp)‚ü©\n  naturality _ _ g := by\n    ext x\n    simpa [Subtype.ext_iff] using FunctorToTypes.naturality _ _ f g x\n\n"}
{"name":"CategoryTheory.Subpresheaf.lift_Œπ","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F' F\nG : CategoryTheory.Subpresheaf F\nhf : LE.le (CategoryTheory.Subpresheaf.range f) G\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.lift f hf) G.Œπ) f","decl":"@[reassoc (attr := simp)]\ntheorem lift_Œπ : lift f hf ‚â´ G.Œπ = f := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.lift_Œπ_assoc","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F' F\nG : CategoryTheory.Subpresheaf F\nhf : LE.le (CategoryTheory.Subpresheaf.range f) G\nZ : CategoryTheory.Functor (Opposite C) (Type w)\nh : Quiver.Hom F Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.lift f hf) (CategoryTheory.CategoryStruct.comp G.Œπ h)) (CategoryTheory.CategoryStruct.comp f h)","decl":"@[reassoc (attr := simp)]\ntheorem lift_Œπ : lift f hf ‚â´ G.Œπ = f := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.toRange_Œπ_assoc","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\nZ : CategoryTheory.Functor (Opposite C) (Type w)\nh : Quiver.Hom F Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.toRange p) (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.range p).Œπ h)) (CategoryTheory.CategoryStruct.comp p h)","decl":"@[reassoc (attr := simp)]\nlemma toRange_Œπ : toRange p ‚â´ (range p).Œπ = p := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.toRange_Œπ","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.toRange p) (CategoryTheory.Subpresheaf.range p).Œπ) p","decl":"@[reassoc (attr := simp)]\nlemma toRange_Œπ : toRange p ‚â´ (range p).Œπ = p := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.toRange_app_val","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\ni : Opposite C\nx : F'.obj i\n‚ä¢ Eq (‚Üë((CategoryTheory.Subpresheaf.toRange p).app i x)) (p.app i x)","decl":"lemma toRange_app_val {i : C·µí·µñ} (x : F'.obj i) :\n    ((toRange p).app i x).val = p.app i x := by\n  simp [toRange]\n\n"}
{"name":"CategoryTheory.Subpresheaf.range_toRange","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\n‚ä¢ Eq (CategoryTheory.Subpresheaf.range (CategoryTheory.Subpresheaf.toRange p)) Top.top","decl":"@[simp]\nlemma range_toRange : range (toRange p) = ‚ä§ := by\n  ext i ‚ü®x, hx‚ü©\n  dsimp at hx ‚ä¢\n  simp only [Set.mem_range, Set.mem_univ, iff_true]\n  simp only [Set.mem_range] at hx\n  obtain ‚ü®y, rfl‚ü© := hx\n  exact ‚ü®y, rfl‚ü©\n\n"}
{"name":"CategoryTheory.Subpresheaf.epi_iff_range_eq_top","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\n‚ä¢ Iff (CategoryTheory.Epi p) (Eq (CategoryTheory.Subpresheaf.range p) Top.top)","decl":"lemma epi_iff_range_eq_top :\n    Epi p ‚Üî range p = ‚ä§ := by\n  simp [NatTrans.epi_iff_epi_app, epi_iff_surjective, Subpresheaf.ext_iff, funext_iff,\n    Set.range_eq_univ]\n\n"}
{"name":"CategoryTheory.Subpresheaf.instEpiFunctorOppositeTypeToRange","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\n‚ä¢ CategoryTheory.Epi (CategoryTheory.Subpresheaf.toRange p)","decl":"instance : Epi (toRange p) := by simp [epi_iff_range_eq_top]\n\n"}
{"name":"CategoryTheory.Subpresheaf.instIsIsoFunctorOppositeTypeToRangeOfMono","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù¬π : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\ninst‚úù : CategoryTheory.Mono p\n‚ä¢ CategoryTheory.IsIso (CategoryTheory.Subpresheaf.toRange p)","decl":"instance [Mono p] : IsIso (toRange p) := by\n  have := mono_of_mono_fac (toRange_Œπ p)\n  rw [NatTrans.isIso_iff_isIso_app]\n  intro i\n  rw [isIso_iff_bijective]\n  constructor\n  ¬∑ rw [‚Üê mono_iff_injective]\n    infer_instance\n  ¬∑ rw [‚Üê epi_iff_surjective]\n    infer_instance\n\n"}
{"name":"CategoryTheory.Subpresheaf.range_comp_le","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' F'' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F F'\ng : Quiver.Hom F' F''\n‚ä¢ LE.le (CategoryTheory.Subpresheaf.range (CategoryTheory.CategoryStruct.comp f g)) (CategoryTheory.Subpresheaf.range g)","decl":"lemma range_comp_le (f : F ‚ü∂ F') (g : F' ‚ü∂ F'') :\n    range (f ‚â´ g) ‚â§ range g := fun _ _ _ ‚Ü¶ by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.image_obj","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\nf : Quiver.Hom F F'\ni : Opposite C\n‚ä¢ Eq ((G.image f).obj i) (Set.image (f.app i) (G.obj i))","decl":"/-- The image of a subpresheaf by a morphism of presheaves of types. -/\n@[simps]\ndef image : Subpresheaf F' where\n  obj i := (f.app i) '' (G.obj i)\n  map := by\n    rintro Œî Œî' œÜ _ ‚ü®x, hx, rfl‚ü©\n    exact ‚ü®F.map œÜ x, G.map œÜ hx, by apply FunctorToTypes.naturality‚ü©\n\n"}
{"name":"CategoryTheory.Subpresheaf.image_top","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F F'\n‚ä¢ Eq (Top.top.image f) (CategoryTheory.Subpresheaf.range f)","decl":"lemma image_top : (‚ä§ : Subpresheaf F).image f = range f := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.image_comp","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' F'' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\nf : Quiver.Hom F F'\ng : Quiver.Hom F' F''\n‚ä¢ Eq (G.image (CategoryTheory.CategoryStruct.comp f g)) ((G.image f).image g)","decl":"lemma image_comp (g : F' ‚ü∂ F'') :\n    G.image (f ‚â´ g) = (G.image f).image g := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.range_comp","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' F'' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F F'\ng : Quiver.Hom F' F''\n‚ä¢ Eq (CategoryTheory.Subpresheaf.range (CategoryTheory.CategoryStruct.comp f g)) ((CategoryTheory.Subpresheaf.range f).image g)","decl":"lemma range_comp (g : F' ‚ü∂ F'') :\n    range (f ‚â´ g) = (range f).image g := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.preimage_obj","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\np : Quiver.Hom F' F\nn : Opposite C\n‚ä¢ Eq ((G.preimage p).obj n) (Set.preimage (p.app n) (G.obj n))","decl":"/-- The preimage of a subpresheaf by a morphism of presheaves of types. -/\n@[simps]\ndef preimage (G : Subpresheaf F) (p : F' ‚ü∂ F) : Subpresheaf F' where\n  obj n := p.app n ‚Åª¬π' (G.obj n)\n  map f := (Set.preimage_mono (G.map f)).trans (by\n    simp only [Set.preimage_preimage, FunctorToTypes.naturality _ _ p f]\n    rfl)\n\n"}
{"name":"CategoryTheory.Subpresheaf.preimage_id","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\n‚ä¢ Eq (G.preimage (CategoryTheory.CategoryStruct.id F)) G","decl":"@[simp]\nlemma preimage_id (G : Subpresheaf F) :\n    G.preimage (ùüô F) = G := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.preimage_comp","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' F'' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\nf : Quiver.Hom F'' F'\ng : Quiver.Hom F' F\n‚ä¢ Eq (G.preimage (CategoryTheory.CategoryStruct.comp f g)) ((G.preimage g).preimage f)","decl":"lemma preimage_comp (G : Subpresheaf F) (f : F'' ‚ü∂ F') (g : F' ‚ü∂ F) :\n    G.preimage (f ‚â´ g) = (G.preimage g).preimage f := by aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.image_le_iff","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\nf : Quiver.Hom F F'\nG' : CategoryTheory.Subpresheaf F'\n‚ä¢ Iff (LE.le (G.image f) G') (LE.le G (G'.preimage f))","decl":"lemma image_le_iff (G : Subpresheaf F) (f : F ‚ü∂ F') (G' : Subpresheaf F') :\n    G.image f ‚â§ G' ‚Üî G ‚â§ G'.preimage f := by\n  simp [Subpresheaf.le_def]\n\n"}
{"name":"CategoryTheory.Subpresheaf.fromPreimage_Œπ_assoc","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\np : Quiver.Hom F' F\nZ : CategoryTheory.Functor (Opposite C) (Type w)\nh : Quiver.Hom F Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (G.fromPreimage p) (CategoryTheory.CategoryStruct.comp G.Œπ h)) (CategoryTheory.CategoryStruct.comp (G.preimage p).Œπ (CategoryTheory.CategoryStruct.comp p h))","decl":"@[reassoc]\nlemma fromPreimage_Œπ (G : Subpresheaf F) (p : F' ‚ü∂ F) :\n    G.fromPreimage p ‚â´ G.Œπ = (G.preimage p).Œπ ‚â´ p := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.fromPreimage_Œπ","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\np : Quiver.Hom F' F\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (G.fromPreimage p) G.Œπ) (CategoryTheory.CategoryStruct.comp (G.preimage p).Œπ p)","decl":"@[reassoc]\nlemma fromPreimage_Œπ (G : Subpresheaf F) (p : F' ‚ü∂ F) :\n    G.fromPreimage p ‚â´ G.Œπ = (G.preimage p).Œπ ‚â´ p := rfl\n\n"}
{"name":"CategoryTheory.Subpresheaf.preimage_eq_top_iff","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\np : Quiver.Hom F' F\n‚ä¢ Iff (Eq (G.preimage p) Top.top) (LE.le (CategoryTheory.Subpresheaf.range p) G)","decl":"lemma preimage_eq_top_iff (G : Subpresheaf F) (p : F' ‚ü∂ F) :\n    G.preimage p = ‚ä§ ‚Üî range p ‚â§ G := by\n  rw [‚Üê image_top, image_le_iff]\n  aesop\n\n"}
{"name":"CategoryTheory.Subpresheaf.preimage_image_of_epi","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\nG : CategoryTheory.Subpresheaf F\np : Quiver.Hom F' F\nhp : CategoryTheory.Epi p\n‚ä¢ Eq ((G.preimage p).image p) G","decl":"@[simp]\nlemma preimage_image_of_epi (G : Subpresheaf F) (p : F' ‚ü∂ F) [hp : Epi p] :\n    (G.preimage p).image p = G := by\n  apply le_antisymm\n  ¬∑ rw [image_le_iff]\n  ¬∑ intro i x hx\n    simp only [NatTrans.epi_iff_epi_app, epi_iff_surjective] at hp\n    obtain ‚ü®y, rfl‚ü© := hp _ x\n    exact ‚ü®y, hx, rfl‚ü©\n\n"}
{"name":"CategoryTheory.imagePresheaf_id","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF : CategoryTheory.Functor (Opposite C) (Type w)\n‚ä¢ Eq (CategoryTheory.Subpresheaf.range (CategoryTheory.CategoryStruct.id F)) Top.top","decl":"@[deprecated (since := \"2025-01-25\")] alias imagePresheaf_id := Subpresheaf.range_id\n"}
{"name":"CategoryTheory.toImagePresheaf_Œπ","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' : CategoryTheory.Functor (Opposite C) (Type w)\np : Quiver.Hom F' F\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (CategoryTheory.Subpresheaf.toRange p) (CategoryTheory.Subpresheaf.range p).Œπ) p","decl":"@[deprecated (since := \"2025-01-25\")] alias toImagePresheaf_Œπ := Subpresheaf.toRange_Œπ\n"}
{"name":"CategoryTheory.imagePresheaf_comp_le","module":"Mathlib.CategoryTheory.Subpresheaf.Image","initialProofState":"C : Type u\ninst‚úù : CategoryTheory.Category.{v, u} C\nF F' F'' : CategoryTheory.Functor (Opposite C) (Type w)\nf : Quiver.Hom F F'\ng : Quiver.Hom F' F''\n‚ä¢ LE.le (CategoryTheory.Subpresheaf.range (CategoryTheory.CategoryStruct.comp f g)) (CategoryTheory.Subpresheaf.range g)","decl":"@[deprecated (since := \"2025-01-25\")] alias imagePresheaf_comp_le := Subpresheaf.range_comp_le\n\n"}
