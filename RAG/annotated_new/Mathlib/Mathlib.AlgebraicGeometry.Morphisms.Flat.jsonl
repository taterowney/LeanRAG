{"name":"AlgebraicGeometry.flat_iff","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\n⊢ Iff (AlgebraicGeometry.Flat f) (∀ (U : ↑Y.affineOpens) (V : ↑X.affineOpens) (e : LE.le (↑V) ((TopologicalSpace.Opens.map f.base).obj ↑U)), (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.appLE f (↑U) (↑V) e)).Flat)","decl":"/-- A morphism of schemes `f : X ⟶ Y` is flat if for each affine `U ⊆ Y` and\n`V ⊆ f ⁻¹' U`, the induced map `Γ(Y, U) ⟶ Γ(X, V)` is flat. This is equivalent to\nasking that all stalk maps are flat (see `AlgebraicGeometry.Flat.iff_flat_stalkMap`).\n-/\n@[mk_iff]\nclass Flat (f : X ⟶ Y) : Prop where\n  flat_of_affine_subset :\n    ∀ (U : Y.affineOpens) (V : X.affineOpens) (e : V.1 ≤ f ⁻¹ᵁ U.1), (f.appLE U V e).hom.Flat\n\n"}
{"name":"AlgebraicGeometry.Flat.flat_of_affine_subset","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nself : AlgebraicGeometry.Flat f\nU : ↑Y.affineOpens\nV : ↑X.affineOpens\ne : LE.le (↑V) ((TopologicalSpace.Opens.map f.base).obj ↑U)\n⊢ (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.appLE f (↑U) (↑V) e)).Flat","decl":"/-- A morphism of schemes `f : X ⟶ Y` is flat if for each affine `U ⊆ Y` and\n`V ⊆ f ⁻¹' U`, the induced map `Γ(Y, U) ⟶ Γ(X, V)` is flat. This is equivalent to\nasking that all stalk maps are flat (see `AlgebraicGeometry.Flat.iff_flat_stalkMap`).\n-/\n@[mk_iff]\nclass Flat (f : X ⟶ Y) : Prop where\n  flat_of_affine_subset :\n    ∀ (U : Y.affineOpens) (V : X.affineOpens) (e : V.1 ≤ f ⁻¹ᵁ U.1), (f.appLE U V e).hom.Flat\n\n"}
{"name":"AlgebraicGeometry.Flat.instHasRingHomPropertyFlat","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"⊢ AlgebraicGeometry.HasRingHomProperty @AlgebraicGeometry.Flat fun {R S} [CommRing R] [CommRing S] => RingHom.Flat","decl":"instance : HasRingHomProperty @Flat RingHom.Flat where\n  isLocal_ringHomProperty := RingHom.Flat.propertyIsLocal\n  eq_affineLocally' := by\n    ext X Y f\n    rw [flat_iff, affineLocally_iff_affineOpens_le]\n\n"}
{"name":"AlgebraicGeometry.Flat.instOfIsOpenImmersion","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst✝ : AlgebraicGeometry.IsOpenImmersion f\n⊢ AlgebraicGeometry.Flat f","decl":"instance (priority := 900) [IsOpenImmersion f] : Flat f :=\n  HasRingHomProperty.of_isOpenImmersion\n    RingHom.Flat.containsIdentities\n\n"}
{"name":"AlgebraicGeometry.Flat.instIsStableUnderCompositionScheme","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsStableUnderComposition @AlgebraicGeometry.Flat","decl":"instance : MorphismProperty.IsStableUnderComposition @Flat :=\n  HasRingHomProperty.stableUnderComposition RingHom.Flat.stableUnderComposition\n\n"}
{"name":"AlgebraicGeometry.Flat.comp","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y Z : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ng : Quiver.Hom Y Z\nhf : AlgebraicGeometry.Flat f\nhg : AlgebraicGeometry.Flat g\n⊢ AlgebraicGeometry.Flat (CategoryTheory.CategoryStruct.comp f g)","decl":"instance comp {X Y Z : Scheme} (f : X ⟶ Y) (g : Y ⟶ Z)\n    [hf : Flat f] [hg : Flat g] : Flat (f ≫ g) :=\n  MorphismProperty.comp_mem _ f g hf hg\n\n"}
{"name":"AlgebraicGeometry.Flat.instIsMultiplicativeScheme","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsMultiplicative @AlgebraicGeometry.Flat","decl":"instance : MorphismProperty.IsMultiplicative @Flat where\n  id_mem _ := inferInstance\n\n"}
{"name":"AlgebraicGeometry.Flat.isStableUnderBaseChange","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsStableUnderBaseChange @AlgebraicGeometry.Flat","decl":"instance isStableUnderBaseChange : MorphismProperty.IsStableUnderBaseChange @Flat :=\n  HasRingHomProperty.isStableUnderBaseChange RingHom.Flat.isStableUnderBaseChange\n\n"}
{"name":"AlgebraicGeometry.Flat.of_stalkMap","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nH : ∀ (x : ↑↑X.toPresheafedSpace), (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.stalkMap f x)).Flat\n⊢ AlgebraicGeometry.Flat f","decl":"lemma of_stalkMap (H : ∀ x, (f.stalkMap x).hom.Flat) : Flat f :=\n  HasRingHomProperty.of_stalkMap RingHom.Flat.ofLocalizationPrime H\n\n"}
{"name":"AlgebraicGeometry.Flat.stalkMap","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst✝ : AlgebraicGeometry.Flat f\nx : ↑↑X.toPresheafedSpace\n⊢ (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.stalkMap f x)).Flat","decl":"lemma stalkMap [Flat f] (x : X) : (f.stalkMap x).hom.Flat :=\n  HasRingHomProperty.stalkMap (P := @Flat)\n    (fun f hf J hJ ↦ hf.localRingHom J (J.comap f) rfl) ‹_› x\n\n"}
{"name":"AlgebraicGeometry.Flat.iff_flat_stalkMap","module":"Mathlib.AlgebraicGeometry.Morphisms.Flat","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\n⊢ Iff (AlgebraicGeometry.Flat f) (∀ (x : ↑↑X.toPresheafedSpace), (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.stalkMap f x)).Flat)","decl":"lemma iff_flat_stalkMap : Flat f ↔ ∀ x, (f.stalkMap x).hom.Flat :=\n  ⟨fun _ ↦ stalkMap f, fun H ↦ of_stalkMap f H⟩\n\n"}
