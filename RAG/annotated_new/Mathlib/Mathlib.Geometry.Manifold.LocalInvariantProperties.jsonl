{"name":"StructureGroupoid.LocalInvariantProp.left_invariance'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nself : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf : H â†’ H'\ne' : PartialHomeomorph H' H'\naâœÂ³ : Membership.mem G' e'\naâœÂ² : HasSubset.Subset s (Set.preimage f e'.source)\naâœÂ¹ : Membership.mem e'.source (f x)\naâœ : P f s x\nâŠ¢ P (Function.comp (â†‘e') f) s x","decl":"/-- Structure recording good behavior of a property of a triple `(f, s, x)` where `f` is a function,\n`s` a set and `x` a point. Good behavior here means locality and invariance under given groupoids\n(both in the source and in the target). Given such a good behavior, the lift of this property\nto charted spaces admitting these groupoids will inherit the good behavior. -/\nstructure LocalInvariantProp (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) : Prop where\n  is_local : âˆ€ {s x u} {f : H â†’ H'}, IsOpen u â†’ x âˆˆ u â†’ (P f s x â†” P f (s âˆ© u) x)\n  right_invariance' : âˆ€ {s x f} {e : PartialHomeomorph H H},\n    e âˆˆ G â†’ x âˆˆ e.source â†’ P f s x â†’ P (f âˆ˜ e.symm) (e.symm â»Â¹' s) (e x)\n  congr_of_forall : âˆ€ {s x} {f g : H â†’ H'}, (âˆ€ y âˆˆ s, f y = g y) â†’ f x = g x â†’ P f s x â†’ P g s x\n  left_invariance' : âˆ€ {s x f} {e' : PartialHomeomorph H' H'},\n    e' âˆˆ G' â†’ s âŠ† f â»Â¹' e'.source â†’ f x âˆˆ e'.source â†’ P f s x â†’ P (e' âˆ˜ f) s x\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.right_invariance'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nself : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf : H â†’ H'\ne : PartialHomeomorph H H\naâœÂ² : Membership.mem G e\naâœÂ¹ : Membership.mem e.source x\naâœ : P f s x\nâŠ¢ P (Function.comp f â†‘e.symm) (Set.preimage (â†‘e.symm) s) (â†‘e x)","decl":"/-- Structure recording good behavior of a property of a triple `(f, s, x)` where `f` is a function,\n`s` a set and `x` a point. Good behavior here means locality and invariance under given groupoids\n(both in the source and in the target). Given such a good behavior, the lift of this property\nto charted spaces admitting these groupoids will inherit the good behavior. -/\nstructure LocalInvariantProp (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) : Prop where\n  is_local : âˆ€ {s x u} {f : H â†’ H'}, IsOpen u â†’ x âˆˆ u â†’ (P f s x â†” P f (s âˆ© u) x)\n  right_invariance' : âˆ€ {s x f} {e : PartialHomeomorph H H},\n    e âˆˆ G â†’ x âˆˆ e.source â†’ P f s x â†’ P (f âˆ˜ e.symm) (e.symm â»Â¹' s) (e x)\n  congr_of_forall : âˆ€ {s x} {f g : H â†’ H'}, (âˆ€ y âˆˆ s, f y = g y) â†’ f x = g x â†’ P f s x â†’ P g s x\n  left_invariance' : âˆ€ {s x f} {e' : PartialHomeomorph H' H'},\n    e' âˆˆ G' â†’ s âŠ† f â»Â¹' e'.source â†’ f x âˆˆ e'.source â†’ P f s x â†’ P (e' âˆ˜ f) s x\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.is_local","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nself : G.LocalInvariantProp G' P\ns : Set H\nx : H\nu : Set H\nf : H â†’ H'\naâœÂ¹ : IsOpen u\naâœ : Membership.mem u x\nâŠ¢ Iff (P f s x) (P f (Inter.inter s u) x)","decl":"/-- Structure recording good behavior of a property of a triple `(f, s, x)` where `f` is a function,\n`s` a set and `x` a point. Good behavior here means locality and invariance under given groupoids\n(both in the source and in the target). Given such a good behavior, the lift of this property\nto charted spaces admitting these groupoids will inherit the good behavior. -/\nstructure LocalInvariantProp (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) : Prop where\n  is_local : âˆ€ {s x u} {f : H â†’ H'}, IsOpen u â†’ x âˆˆ u â†’ (P f s x â†” P f (s âˆ© u) x)\n  right_invariance' : âˆ€ {s x f} {e : PartialHomeomorph H H},\n    e âˆˆ G â†’ x âˆˆ e.source â†’ P f s x â†’ P (f âˆ˜ e.symm) (e.symm â»Â¹' s) (e x)\n  congr_of_forall : âˆ€ {s x} {f g : H â†’ H'}, (âˆ€ y âˆˆ s, f y = g y) â†’ f x = g x â†’ P f s x â†’ P g s x\n  left_invariance' : âˆ€ {s x f} {e' : PartialHomeomorph H' H'},\n    e' âˆˆ G' â†’ s âŠ† f â»Â¹' e'.source â†’ f x âˆˆ e'.source â†’ P f s x â†’ P (e' âˆ˜ f) s x\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_of_forall","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nself : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\naâœÂ² : âˆ€ (y : H), Membership.mem s y â†’ Eq (f y) (g y)\naâœÂ¹ : Eq (f x) (g x)\naâœ : P f s x\nâŠ¢ P g s x","decl":"/-- Structure recording good behavior of a property of a triple `(f, s, x)` where `f` is a function,\n`s` a set and `x` a point. Good behavior here means locality and invariance under given groupoids\n(both in the source and in the target). Given such a good behavior, the lift of this property\nto charted spaces admitting these groupoids will inherit the good behavior. -/\nstructure LocalInvariantProp (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) : Prop where\n  is_local : âˆ€ {s x u} {f : H â†’ H'}, IsOpen u â†’ x âˆˆ u â†’ (P f s x â†” P f (s âˆ© u) x)\n  right_invariance' : âˆ€ {s x f} {e : PartialHomeomorph H H},\n    e âˆˆ G â†’ x âˆˆ e.source â†’ P f s x â†’ P (f âˆ˜ e.symm) (e.symm â»Â¹' s) (e x)\n  congr_of_forall : âˆ€ {s x} {f g : H â†’ H'}, (âˆ€ y âˆˆ s, f y = g y) â†’ f x = g x â†’ P f s x â†’ P g s x\n  left_invariance' : âˆ€ {s x f} {e' : PartialHomeomorph H' H'},\n    e' âˆˆ G' â†’ s âŠ† f â»Â¹' e'.source â†’ f x âˆˆ e'.source â†’ P f s x â†’ P (e' âˆ˜ f) s x\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_set","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns t : Set H\nx : H\nf : H â†’ H'\nhu : (nhds x).EventuallyEq s t\nâŠ¢ Iff (P f s x) (P f t x)","decl":"theorem congr_set {s t : Set H} {x : H} {f : H â†’ H'} (hu : s =á¶ [ğ“ x] t) : P f s x â†” P f t x := by\n  obtain âŸ¨o, host, ho, hxoâŸ© := mem_nhds_iff.mp hu.mem_iff\n  simp_rw [subset_def, mem_setOf, â† and_congr_left_iff, â† mem_inter_iff, â† Set.ext_iff] at host\n  rw [hG.is_local ho hxo, host, â† hG.is_local ho hxo]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.is_local_nhds","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns u : Set H\nx : H\nf : H â†’ H'\nhu : Membership.mem (nhdsWithin x s) u\nâŠ¢ Iff (P f s x) (P f (Inter.inter s u) x)","decl":"theorem is_local_nhds {s u : Set H} {x : H} {f : H â†’ H'} (hu : u âˆˆ ğ“[s] x) :\n    P f s x â†” P f (s âˆ© u) x :=\n  hG.congr_set <| mem_nhdsWithin_iff_eventuallyEq.mp hu\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_iff_nhdsWithin","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh1 : (nhdsWithin x s).EventuallyEq f g\nh2 : Eq (f x) (g x)\nâŠ¢ Iff (P f s x) (P g s x)","decl":"theorem congr_iff_nhdsWithin {s : Set H} {x : H} {f g : H â†’ H'} (h1 : f =á¶ [ğ“[s] x] g)\n    (h2 : f x = g x) : P f s x â†” P g s x := by\n  simp_rw [hG.is_local_nhds h1]\n  exact âŸ¨hG.congr_of_forall (fun y hy â†¦ hy.2) h2, hG.congr_of_forall (fun y hy â†¦ hy.2.symm) h2.symmâŸ©\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_nhdsWithin","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh1 : (nhdsWithin x s).EventuallyEq f g\nh2 : Eq (f x) (g x)\nhP : P f s x\nâŠ¢ P g s x","decl":"theorem congr_nhdsWithin {s : Set H} {x : H} {f g : H â†’ H'} (h1 : f =á¶ [ğ“[s] x] g) (h2 : f x = g x)\n    (hP : P f s x) : P g s x :=\n  (hG.congr_iff_nhdsWithin h1 h2).mp hP\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_nhdsWithin'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh1 : (nhdsWithin x s).EventuallyEq f g\nh2 : Eq (f x) (g x)\nhP : P g s x\nâŠ¢ P f s x","decl":"theorem congr_nhdsWithin' {s : Set H} {x : H} {f g : H â†’ H'} (h1 : f =á¶ [ğ“[s] x] g) (h2 : f x = g x)\n    (hP : P g s x) : P f s x :=\n  (hG.congr_iff_nhdsWithin h1 h2).mpr hP\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh : (nhds x).EventuallyEq f g\nâŠ¢ Iff (P f s x) (P g s x)","decl":"theorem congr_iff {s : Set H} {x : H} {f g : H â†’ H'} (h : f =á¶ [ğ“ x] g) : P f s x â†” P g s x :=\n  hG.congr_iff_nhdsWithin (mem_nhdsWithin_of_mem_nhds h) (mem_of_mem_nhds h :)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh : (nhds x).EventuallyEq f g\nhP : P f s x\nâŠ¢ P g s x","decl":"theorem congr {s : Set H} {x : H} {f g : H â†’ H'} (h : f =á¶ [ğ“ x] g) (hP : P f s x) : P g s x :=\n  (hG.congr_iff h).mp hP\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.congr'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf g : H â†’ H'\nh : (nhds x).EventuallyEq f g\nhP : P g s x\nâŠ¢ P f s x","decl":"theorem congr' {s : Set H} {x : H} {f g : H â†’ H'} (h : f =á¶ [ğ“ x] g) (hP : P g s x) : P f s x :=\n  hG.congr h.symm hP\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.left_invariance","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf : H â†’ H'\ne' : PartialHomeomorph H' H'\nhe' : Membership.mem G' e'\nhfs : ContinuousWithinAt f s x\nhxe' : Membership.mem e'.source (f x)\nâŠ¢ Iff (P (Function.comp (â†‘e') f) s x) (P f s x)","decl":"theorem left_invariance {s : Set H} {x : H} {f : H â†’ H'} {e' : PartialHomeomorph H' H'}\n    (he' : e' âˆˆ G') (hfs : ContinuousWithinAt f s x) (hxe' : f x âˆˆ e'.source) :\n    P (e' âˆ˜ f) s x â†” P f s x := by\n  have h2f := hfs.preimage_mem_nhdsWithin (e'.open_source.mem_nhds hxe')\n  have h3f :=\n    ((e'.continuousAt hxe').comp_continuousWithinAt hfs).preimage_mem_nhdsWithin <|\n      e'.symm.open_source.mem_nhds <| e'.mapsTo hxe'\n  constructor\n  Â· intro h\n    rw [hG.is_local_nhds h3f] at h\n    have h2 := hG.left_invariance' (G'.symm he') inter_subset_right (e'.mapsTo hxe') h\n    rw [â† hG.is_local_nhds h3f] at h2\n    refine hG.congr_nhdsWithin ?_ (e'.left_inv hxe') h2\n    exact eventually_of_mem h2f fun x' â†¦ e'.left_inv\n  Â· simp_rw [hG.is_local_nhds h2f]\n    exact hG.left_invariance' he' inter_subset_right hxe'\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.right_invariance","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ns : Set H\nx : H\nf : H â†’ H'\ne : PartialHomeomorph H H\nhe : Membership.mem G e\nhxe : Membership.mem e.source x\nâŠ¢ Iff (P (Function.comp f â†‘e.symm) (Set.preimage (â†‘e.symm) s) (â†‘e x)) (P f s x)","decl":"theorem right_invariance {s : Set H} {x : H} {f : H â†’ H'} {e : PartialHomeomorph H H} (he : e âˆˆ G)\n    (hxe : x âˆˆ e.source) : P (f âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) â†” P f s x := by\n  refine âŸ¨fun h â†¦ ?_, hG.right_invariance' he hxeâŸ©\n  have := hG.right_invariance' (G.symm he) (e.mapsTo hxe) h\n  rw [e.symm_symm, e.left_inv hxe] at this\n  refine hG.congr ?_ ((hG.congr_set ?_).mp this)\n  Â· refine eventually_of_mem (e.open_source.mem_nhds hxe) fun x' hx' â†¦ ?_\n    simp_rw [Function.comp_apply, e.left_inv hx']\n  Â· rw [eventuallyEq_set]\n    refine eventually_of_mem (e.open_source.mem_nhds hxe) fun x' hx' â†¦ ?_\n    simp_rw [mem_preimage, e.left_inv hx']\n\n"}
{"name":"ChartedSpace.LiftPropWithinAt.prop","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : M â†’ M'\ns : Set M\nx : M\nself : ChartedSpace.LiftPropWithinAt P f s x\nâŠ¢ P (Function.comp (â†‘(chartAt H' (f x))) (Function.comp f â†‘(chartAt H x).symm)) (Set.preimage (â†‘(chartAt H x).symm) s) (â†‘(chartAt H x) x)","decl":"/-- Given a property of germs of functions and sets in the model space, then one defines\na corresponding property in a charted space, by requiring that it holds at the preferred chart at\nthis point. (When the property is local and invariant, it will in fact hold using any chart, see\n`liftPropWithinAt_indep_chart`). We require continuity in the lifted property, as otherwise one\nsingle chart might fail to capture the behavior of the function.\n-/\n@[mk_iff liftPropWithinAt_iff']\nstructure LiftPropWithinAt (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) (f : M â†’ M') (s : Set M) (x : M) :\n    Prop where\n  continuousWithinAt : ContinuousWithinAt f s x\n  prop : P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm) ((chartAt H x).symm â»Â¹' s) (chartAt H x x)\n\n"}
{"name":"ChartedSpace.liftPropWithinAt_iff'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : M â†’ M'\ns : Set M\nx : M\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P f s x) (And (ContinuousWithinAt f s x) (P (Function.comp (â†‘(chartAt H' (f x))) (Function.comp f â†‘(chartAt H x).symm)) (Set.preimage (â†‘(chartAt H x).symm) s) (â†‘(chartAt H x) x)))","decl":"/-- Given a property of germs of functions and sets in the model space, then one defines\na corresponding property in a charted space, by requiring that it holds at the preferred chart at\nthis point. (When the property is local and invariant, it will in fact hold using any chart, see\n`liftPropWithinAt_indep_chart`). We require continuity in the lifted property, as otherwise one\nsingle chart might fail to capture the behavior of the function.\n-/\n@[mk_iff liftPropWithinAt_iff']\nstructure LiftPropWithinAt (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) (f : M â†’ M') (s : Set M) (x : M) :\n    Prop where\n  continuousWithinAt : ContinuousWithinAt f s x\n  prop : P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm) ((chartAt H x).symm â»Â¹' s) (chartAt H x x)\n\n"}
{"name":"ChartedSpace.LiftPropWithinAt.continuousWithinAt","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : M â†’ M'\ns : Set M\nx : M\nself : ChartedSpace.LiftPropWithinAt P f s x\nâŠ¢ ContinuousWithinAt f s x","decl":"/-- Given a property of germs of functions and sets in the model space, then one defines\na corresponding property in a charted space, by requiring that it holds at the preferred chart at\nthis point. (When the property is local and invariant, it will in fact hold using any chart, see\n`liftPropWithinAt_indep_chart`). We require continuity in the lifted property, as otherwise one\nsingle chart might fail to capture the behavior of the function.\n-/\n@[mk_iff liftPropWithinAt_iff']\nstructure LiftPropWithinAt (P : (H â†’ H') â†’ Set H â†’ H â†’ Prop) (f : M â†’ M') (s : Set M) (x : M) :\n    Prop where\n  continuousWithinAt : ContinuousWithinAt f s x\n  prop : P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm) ((chartAt H x).symm â»Â¹' s) (chartAt H x x)\n\n"}
{"name":"ChartedSpace.liftPropAt_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : M â†’ M'\nx : M\nâŠ¢ Iff (ChartedSpace.LiftPropAt P f x) (And (ContinuousAt f x) (P (Function.comp (â†‘(chartAt H' (f x))) (Function.comp f â†‘(chartAt H x).symm)) Set.univ (â†‘(chartAt H x) x)))","decl":"theorem liftPropAt_iff {P : (H â†’ H') â†’ Set H â†’ H â†’ Prop} {f : M â†’ M'} {x : M} :\n    LiftPropAt P f x â†”\n      ContinuousAt f x âˆ§ P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm) univ (chartAt H x x) := by\n  rw [LiftPropAt, liftPropWithinAt_iff', continuousWithinAt_univ, preimage_univ]\n\n"}
{"name":"ChartedSpace.liftProp_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : M â†’ M'\nâŠ¢ Iff (ChartedSpace.LiftProp P f) (And (Continuous f) (âˆ€ (x : M), P (Function.comp (â†‘(chartAt H' (f x))) (Function.comp f â†‘(chartAt H x).symm)) Set.univ (â†‘(chartAt H x) x)))","decl":"theorem liftProp_iff {P : (H â†’ H') â†’ Set H â†’ H â†’ Prop} {f : M â†’ M'} :\n    LiftProp P f â†”\n      Continuous f âˆ§ âˆ€ x, P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm) univ (chartAt H x x) := by\n  simp_rw [LiftProp, liftPropAt_iff, forall_and, continuous_iff_continuousAt]\n\n"}
{"name":"StructureGroupoid.liftPropWithinAt_univ","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\nx : M\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g Set.univ x) (ChartedSpace.LiftPropAt P g x)","decl":"theorem liftPropWithinAt_univ : LiftPropWithinAt P g univ x â†” LiftPropAt P g x := Iff.rfl\n\n"}
{"name":"StructureGroupoid.liftPropOn_univ","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\nâŠ¢ Iff (ChartedSpace.LiftPropOn P g Set.univ) (ChartedSpace.LiftProp P g)","decl":"theorem liftPropOn_univ : LiftPropOn P g univ â†” LiftProp P g := by\n  simp [LiftPropOn, LiftProp, LiftPropAt]\n\n"}
{"name":"StructureGroupoid.liftPropWithinAt_self","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\ninstâœÂ¹ : TopologicalSpace H\ninstâœ : TopologicalSpace H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : H â†’ H'\ns : Set H\nx : H\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P f s x) (And (ContinuousWithinAt f s x) (P f s x))","decl":"theorem liftPropWithinAt_self {f : H â†’ H'} {s : Set H} {x : H} :\n    LiftPropWithinAt P f s x â†” ContinuousWithinAt f s x âˆ§ P f s x :=\n  liftPropWithinAt_iff' ..\n\n"}
{"name":"StructureGroupoid.liftPropWithinAt_self_source","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\nM' : Type u_4\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nf : H â†’ M'\ns : Set H\nx : H\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P f s x) (And (ContinuousWithinAt f s x) (P (Function.comp (â†‘(chartAt H' (f x))) f) s x))","decl":"theorem liftPropWithinAt_self_source {f : H â†’ M'} {s : Set H} {x : H} :\n    LiftPropWithinAt P f s x â†” ContinuousWithinAt f s x âˆ§ P (chartAt H' (f x) âˆ˜ f) s x :=\n  liftPropWithinAt_iff' ..\n\n"}
{"name":"StructureGroupoid.liftPropWithinAt_self_target","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\ninstâœ : TopologicalSpace H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ns : Set M\nx : M\nf : M â†’ H'\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P f s x) (And (ContinuousWithinAt f s x) (P (Function.comp f â†‘(chartAt H x).symm) (Set.preimage (â†‘(chartAt H x).symm) s) (â†‘(chartAt H x) x)))","decl":"theorem liftPropWithinAt_self_target {f : M â†’ H'} :\n    LiftPropWithinAt P f s x â†” ContinuousWithinAt f s x âˆ§\n      P (f âˆ˜ (chartAt H x).symm) ((chartAt H x).symm â»Â¹' s) (chartAt H x x) :=\n  liftPropWithinAt_iff' ..\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nf : M â†’ M'\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P f s x) (And (ContinuousWithinAt f s x) (P (Function.comp (â†‘(chartAt H' (f x))) (Function.comp f â†‘(chartAt H x).symm)) (Inter.inter (chartAt H x).target (Set.preimage (â†‘(chartAt H x).symm) (Inter.inter s (Set.preimage f (chartAt H' (f x)).source)))) (â†‘(chartAt H x) x)))","decl":"/-- `LiftPropWithinAt P f s x` is equivalent to a definition where we restrict the set we are\n  considering to the domain of the charts at `x` and `f x`. -/\ntheorem liftPropWithinAt_iff {f : M â†’ M'} :\n    LiftPropWithinAt P f s x â†”\n      ContinuousWithinAt f s x âˆ§\n        P (chartAt H' (f x) âˆ˜ f âˆ˜ (chartAt H x).symm)\n          ((chartAt H x).target âˆ© (chartAt H x).symm â»Â¹' (s âˆ© f â»Â¹' (chartAt H' (f x)).source))\n          (chartAt H x x) := by\n  rw [liftPropWithinAt_iff']\n  refine and_congr_right fun hf â†¦ hG.congr_set ?_\n  exact PartialHomeomorph.preimage_eventuallyEq_target_inter_preimage_inter hf\n    (mem_chart_source H x) (chart_source_mem_nhds H' (f x))\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_source_aux","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\ninstâœ : TopologicalSpace H'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne e' : PartialHomeomorph M H\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\ng : M â†’ H'\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nxe : Membership.mem e.source x\nhe' : Membership.mem (StructureGroupoid.maximalAtlas M G) e'\nxe' : Membership.mem e'.source x\nâŠ¢ Iff (P (Function.comp g â†‘e.symm) (Set.preimage (â†‘e.symm) s) (â†‘e x)) (P (Function.comp g â†‘e'.symm) (Set.preimage (â†‘e'.symm) s) (â†‘e' x))","decl":"theorem liftPropWithinAt_indep_chart_source_aux (g : M â†’ H') (he : e âˆˆ G.maximalAtlas M)\n    (xe : x âˆˆ e.source) (he' : e' âˆˆ G.maximalAtlas M) (xe' : x âˆˆ e'.source) :\n    P (g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) â†” P (g âˆ˜ e'.symm) (e'.symm â»Â¹' s) (e' x) := by\n  rw [â† hG.right_invariance (compatible_of_mem_maximalAtlas he he')]\n  swap; Â· simp only [xe, xe', mfld_simps]\n  simp_rw [PartialHomeomorph.trans_apply, e.left_inv xe]\n  rw [hG.congr_iff]\n  Â· refine hG.congr_set ?_\n    refine (eventually_of_mem ?_ fun y (hy : y âˆˆ e'.symm â»Â¹' e.source) â†¦ ?_).set_eq\n    Â· refine (e'.symm.continuousAt <| e'.mapsTo xe').preimage_mem_nhds (e.open_source.mem_nhds ?_)\n      simp_rw [e'.left_inv xe', xe]\n    simp_rw [mem_preimage, PartialHomeomorph.coe_trans_symm, PartialHomeomorph.symm_symm,\n      Function.comp_apply, e.left_inv hy]\n  Â· refine ((e'.eventually_nhds' _ xe').mpr <| e.eventually_left_inverse xe).mono fun y hy â†¦ ?_\n    simp only [mfld_simps]\n    rw [hy]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_target_aux2","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\nM' : Type u_4\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nf f' : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ng : H â†’ M'\nx : H\ns : Set H\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nhf' : Membership.mem (StructureGroupoid.maximalAtlas M' G') f'\nxf' : Membership.mem f'.source (g x)\nhgs : ContinuousWithinAt g s x\nâŠ¢ Iff (P (Function.comp (â†‘f) g) s x) (P (Function.comp (â†‘f') g) s x)","decl":"theorem liftPropWithinAt_indep_chart_target_aux2 (g : H â†’ M') {x : H} {s : Set H}\n    (hf : f âˆˆ G'.maximalAtlas M') (xf : g x âˆˆ f.source) (hf' : f' âˆˆ G'.maximalAtlas M')\n    (xf' : g x âˆˆ f'.source) (hgs : ContinuousWithinAt g s x) : P (f âˆ˜ g) s x â†” P (f' âˆ˜ g) s x := by\n  have hcont : ContinuousWithinAt (f âˆ˜ g) s x := (f.continuousAt xf).comp_continuousWithinAt hgs\n  rw [â† hG.left_invariance (compatible_of_mem_maximalAtlas hf hf') hcont\n      (by simp only [xf, xf', mfld_simps])]\n  refine hG.congr_iff_nhdsWithin ?_ (by simp only [xf, mfld_simps])\n  exact (hgs.eventually <| f.eventually_left_inverse xf).mono fun y â†¦ congr_arg f'\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_target_aux","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nH' : Type u_3\nM' : Type u_4\nX : Type u_5\ninstâœâ´ : TopologicalSpace H\ninstâœÂ³ : TopologicalSpace H'\ninstâœÂ² : TopologicalSpace M'\ninstâœÂ¹ : ChartedSpace H' M'\ninstâœ : TopologicalSpace X\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nf f' : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\ng : X â†’ M'\ne : PartialHomeomorph X H\nx : X\ns : Set X\nxe : Membership.mem e.source x\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nhf' : Membership.mem (StructureGroupoid.maximalAtlas M' G') f'\nxf' : Membership.mem f'.source (g x)\nhgs : ContinuousWithinAt g s x\nâŠ¢ Iff (P (Function.comp (â†‘f) (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) (â†‘e x)) (P (Function.comp (â†‘f') (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) (â†‘e x))","decl":"theorem liftPropWithinAt_indep_chart_target_aux {g : X â†’ M'} {e : PartialHomeomorph X H} {x : X}\n    {s : Set X} (xe : x âˆˆ e.source) (hf : f âˆˆ G'.maximalAtlas M') (xf : g x âˆˆ f.source)\n    (hf' : f' âˆˆ G'.maximalAtlas M') (xf' : g x âˆˆ f'.source) (hgs : ContinuousWithinAt g s x) :\n    P (f âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) â†” P (f' âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) := by\n  rw [â† e.left_inv xe] at xf xf' hgs\n  refine hG.liftPropWithinAt_indep_chart_target_aux2 (g âˆ˜ e.symm) hf xf hf' xf' ?_\n  exact hgs.comp (e.symm.continuousAt <| e.mapsTo xe).continuousWithinAt Subset.rfl\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_aux","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne e' : PartialHomeomorph M H\nf f' : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nxe : Membership.mem e.source x\nhe' : Membership.mem (StructureGroupoid.maximalAtlas M G) e'\nxe' : Membership.mem e'.source x\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nhf' : Membership.mem (StructureGroupoid.maximalAtlas M' G') f'\nxf' : Membership.mem f'.source (g x)\nhgs : ContinuousWithinAt g s x\nâŠ¢ Iff (P (Function.comp (â†‘f) (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) (â†‘e x)) (P (Function.comp (â†‘f') (Function.comp g â†‘e'.symm)) (Set.preimage (â†‘e'.symm) s) (â†‘e' x))","decl":"/-- If a property of a germ of function `g` on a pointed set `(s, x)` is invariant under the\nstructure groupoid (by composition in the source space and in the target space), then\nexpressing it in charted spaces does not depend on the element of the maximal atlas one uses\nboth in the source and in the target manifolds, provided they are defined around `x` and `g x`\nrespectively, and provided `g` is continuous within `s` at `x` (otherwise, the local behavior\nof `g` at `x` can not be captured with a chart in the target). -/\ntheorem liftPropWithinAt_indep_chart_aux (he : e âˆˆ G.maximalAtlas M) (xe : x âˆˆ e.source)\n    (he' : e' âˆˆ G.maximalAtlas M) (xe' : x âˆˆ e'.source) (hf : f âˆˆ G'.maximalAtlas M')\n    (xf : g x âˆˆ f.source) (hf' : f' âˆˆ G'.maximalAtlas M') (xf' : g x âˆˆ f'.source)\n    (hgs : ContinuousWithinAt g s x) :\n    P (f âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) â†” P (f' âˆ˜ g âˆ˜ e'.symm) (e'.symm â»Â¹' s) (e' x) := by\n  rw [â† Function.comp_assoc, hG.liftPropWithinAt_indep_chart_source_aux (f âˆ˜ g) he xe he' xe',\n    Function.comp_assoc, hG.liftPropWithinAt_indep_chart_target_aux xe' hf xf hf' xf' hgs]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâ· : TopologicalSpace H\ninstâœâ¶ : TopologicalSpace M\ninstâœâµ : ChartedSpace H M\ninstâœâ´ : TopologicalSpace H'\ninstâœÂ³ : TopologicalSpace M'\ninstâœÂ² : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne : PartialHomeomorph M H\nf : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\ninstâœÂ¹ : HasGroupoid M G\ninstâœ : HasGroupoid M' G'\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nxe : Membership.mem e.source x\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g s x) (And (ContinuousWithinAt g s x) (P (Function.comp (â†‘f) (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) (â†‘e x)))","decl":"theorem liftPropWithinAt_indep_chart [HasGroupoid M G] [HasGroupoid M' G']\n    (he : e âˆˆ G.maximalAtlas M) (xe : x âˆˆ e.source) (hf : f âˆˆ G'.maximalAtlas M')\n    (xf : g x âˆˆ f.source) :\n    LiftPropWithinAt P g s x â†”\n    ContinuousWithinAt g s x âˆ§ P (f âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) := by\n  simp only [liftPropWithinAt_iff']\n  exact and_congr_right <|\n    hG.liftPropWithinAt_indep_chart_aux (chart_mem_maximalAtlas _ _) (mem_chart_source _ _) he xe\n      (chart_mem_maximalAtlas _ _) (mem_chart_source _ _) hf xf\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_source","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâ¶ : TopologicalSpace H\ninstâœâµ : TopologicalSpace M\ninstâœâ´ : ChartedSpace H M\ninstâœÂ³ : TopologicalSpace H'\ninstâœÂ² : TopologicalSpace M'\ninstâœÂ¹ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne : PartialHomeomorph M H\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\ninstâœ : HasGroupoid M G\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nxe : Membership.mem e.source x\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g s x) (ChartedSpace.LiftPropWithinAt P (Function.comp g â†‘e.symm) (Set.preimage (â†‘e.symm) s) (â†‘e x))","decl":"/-- A version of `liftPropWithinAt_indep_chart`, only for the source. -/\ntheorem liftPropWithinAt_indep_chart_source [HasGroupoid M G] (he : e âˆˆ G.maximalAtlas M)\n    (xe : x âˆˆ e.source) :\n    LiftPropWithinAt P g s x â†” LiftPropWithinAt P (g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) := by\n  rw [liftPropWithinAt_self_source, liftPropWithinAt_iff',\n    e.symm.continuousWithinAt_iff_continuousWithinAt_comp_right xe, e.symm_symm]\n  refine and_congr Iff.rfl ?_\n  rw [Function.comp_apply, e.left_inv xe, â† Function.comp_assoc,\n    hG.liftPropWithinAt_indep_chart_source_aux (chartAt _ (g x) âˆ˜ g) (chart_mem_maximalAtlas G x)\n      (mem_chart_source _ x) he xe, Function.comp_assoc]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart_target","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâ¶ : TopologicalSpace H\ninstâœâµ : TopologicalSpace M\ninstâœâ´ : ChartedSpace H M\ninstâœÂ³ : TopologicalSpace H'\ninstâœÂ² : TopologicalSpace M'\ninstâœÂ¹ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nf : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\ninstâœ : HasGroupoid M' G'\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g s x) (And (ContinuousWithinAt g s x) (ChartedSpace.LiftPropWithinAt P (Function.comp (â†‘f) g) s x))","decl":"/-- A version of `liftPropWithinAt_indep_chart`, only for the target. -/\ntheorem liftPropWithinAt_indep_chart_target [HasGroupoid M' G'] (hf : f âˆˆ G'.maximalAtlas M')\n    (xf : g x âˆˆ f.source) :\n    LiftPropWithinAt P g s x â†” ContinuousWithinAt g s x âˆ§ LiftPropWithinAt P (f âˆ˜ g) s x := by\n  rw [liftPropWithinAt_self_target, liftPropWithinAt_iff', and_congr_right_iff]\n  intro hg\n  simp_rw [(f.continuousAt xf).comp_continuousWithinAt hg, true_and]\n  exact hG.liftPropWithinAt_indep_chart_target_aux (mem_chart_source _ _)\n    (chart_mem_maximalAtlas _ _) (mem_chart_source _ _) hf xf hg\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_indep_chart'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâ· : TopologicalSpace H\ninstâœâ¶ : TopologicalSpace M\ninstâœâµ : ChartedSpace H M\ninstâœâ´ : TopologicalSpace H'\ninstâœÂ³ : TopologicalSpace M'\ninstâœÂ² : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne : PartialHomeomorph M H\nf : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\ninstâœÂ¹ : HasGroupoid M G\ninstâœ : HasGroupoid M' G'\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nxe : Membership.mem e.source x\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nxf : Membership.mem f.source (g x)\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g s x) (And (ContinuousWithinAt g s x) (ChartedSpace.LiftPropWithinAt P (Function.comp (â†‘f) (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) (â†‘e x)))","decl":"/-- A version of `liftPropWithinAt_indep_chart`, that uses `LiftPropWithinAt` on both sides. -/\ntheorem liftPropWithinAt_indep_chart' [HasGroupoid M G] [HasGroupoid M' G']\n    (he : e âˆˆ G.maximalAtlas M) (xe : x âˆˆ e.source) (hf : f âˆˆ G'.maximalAtlas M')\n    (xf : g x âˆˆ f.source) :\n    LiftPropWithinAt P g s x â†”\n      ContinuousWithinAt g s x âˆ§ LiftPropWithinAt P (f âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) (e x) := by\n  rw [hG.liftPropWithinAt_indep_chart he xe hf xf, liftPropWithinAt_self, and_left_comm,\n    Iff.comm, and_iff_right_iff_imp]\n  intro h\n  have h1 := (e.symm.continuousWithinAt_iff_continuousWithinAt_comp_right xe).mp h.1\n  have : ContinuousAt f ((g âˆ˜ e.symm) (e x)) := by\n    simp_rw [Function.comp, e.left_inv xe, f.continuousAt xf]\n  exact this.comp_continuousWithinAt h1\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_indep_chart","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâ· : TopologicalSpace H\ninstâœâ¶ : TopologicalSpace M\ninstâœâµ : ChartedSpace H M\ninstâœâ´ : TopologicalSpace H'\ninstâœÂ³ : TopologicalSpace M'\ninstâœÂ² : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\ne : PartialHomeomorph M H\nf : PartialHomeomorph M' H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nhG : G.LocalInvariantProp G' P\ninstâœÂ¹ : HasGroupoid M G\ninstâœ : HasGroupoid M' G'\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nhf : Membership.mem (StructureGroupoid.maximalAtlas M' G') f\nh : ChartedSpace.LiftPropOn P g s\ny : H\nhy : Membership.mem (Inter.inter e.target (Set.preimage (â†‘e.symm) (Inter.inter s (Set.preimage g f.source)))) y\nâŠ¢ P (Function.comp (â†‘f) (Function.comp g â†‘e.symm)) (Set.preimage (â†‘e.symm) s) y","decl":"theorem liftPropOn_indep_chart [HasGroupoid M G] [HasGroupoid M' G'] (he : e âˆˆ G.maximalAtlas M)\n    (hf : f âˆˆ G'.maximalAtlas M') (h : LiftPropOn P g s) {y : H}\n    (hy : y âˆˆ e.target âˆ© e.symm â»Â¹' (s âˆ© g â»Â¹' f.source)) :\n    P (f âˆ˜ g âˆ˜ e.symm) (e.symm â»Â¹' s) y := by\n  convert ((hG.liftPropWithinAt_indep_chart he (e.symm_mapsTo hy.1) hf hy.2.2).1 (h _ hy.2.1)).2\n  rw [e.right_inv hy.1]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_inter'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nht : Membership.mem (nhdsWithin x s) t\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g (Inter.inter s t) x) (ChartedSpace.LiftPropWithinAt P g s x)","decl":"theorem liftPropWithinAt_inter' (ht : t âˆˆ ğ“[s] x) :\n    LiftPropWithinAt P g (s âˆ© t) x â†” LiftPropWithinAt P g s x := by\n  rw [liftPropWithinAt_iff', liftPropWithinAt_iff', continuousWithinAt_inter' ht, hG.congr_set]\n  simp_rw [eventuallyEq_set, mem_preimage,\n    (chartAt _ x).eventually_nhds' (fun x â†¦ x âˆˆ s âˆ© t â†” x âˆˆ s) (mem_chart_source _ x)]\n  exact (mem_nhdsWithin_iff_eventuallyEq.mp ht).symm.mem_iff\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_inter","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nht : Membership.mem (nhds x) t\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g (Inter.inter s t) x) (ChartedSpace.LiftPropWithinAt P g s x)","decl":"theorem liftPropWithinAt_inter (ht : t âˆˆ ğ“ x) :\n    LiftPropWithinAt P g (s âˆ© t) x â†” LiftPropWithinAt P g s x :=\n  hG.liftPropWithinAt_inter' (mem_nhdsWithin_of_mem_nhds ht)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_set","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nhu : (nhds x).EventuallyEq s t\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g s x) (ChartedSpace.LiftPropWithinAt P g t x)","decl":"theorem liftPropWithinAt_congr_set (hu : s =á¶ [ğ“ x] t) :\n    LiftPropWithinAt P g s x â†” LiftPropWithinAt P g t x := by\n  rw [â† hG.liftPropWithinAt_inter (s := s) hu, â† hG.liftPropWithinAt_inter (s := t) hu,\n    â† eq_iff_iff]\n  congr 1\n  aesop\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_of_liftPropWithinAt","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropWithinAt P g s x\nhs : Membership.mem (nhds x) s\nâŠ¢ ChartedSpace.LiftPropAt P g x","decl":"theorem liftPropAt_of_liftPropWithinAt (h : LiftPropWithinAt P g s x) (hs : s âˆˆ ğ“ x) :\n    LiftPropAt P g x := by\n  rwa [â† univ_inter s, hG.liftPropWithinAt_inter hs] at h\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_of_liftPropAt_of_mem_nhds","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropAt P g x\nhs : Membership.mem (nhds x) s\nâŠ¢ ChartedSpace.LiftPropWithinAt P g s x","decl":"theorem liftPropWithinAt_of_liftPropAt_of_mem_nhds (h : LiftPropAt P g x) (hs : s âˆˆ ğ“ x) :\n    LiftPropWithinAt P g s x := by\n  rwa [â† univ_inter s, hG.liftPropWithinAt_inter hs]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_of_locally_liftPropOn","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nhG : G.LocalInvariantProp G' P\nh : âˆ€ (x : M), Membership.mem s x â†’ Exists fun u => And (IsOpen u) (And (Membership.mem u x) (ChartedSpace.LiftPropOn P g (Inter.inter s u)))\nâŠ¢ ChartedSpace.LiftPropOn P g s","decl":"theorem liftPropOn_of_locally_liftPropOn\n    (h : âˆ€ x âˆˆ s, âˆƒ u, IsOpen u âˆ§ x âˆˆ u âˆ§ LiftPropOn P g (s âˆ© u)) : LiftPropOn P g s := by\n  intro x hx\n  rcases h x hx with âŸ¨u, u_open, xu, huâŸ©\n  have := hu x âŸ¨hx, xuâŸ©\n  rwa [hG.liftPropWithinAt_inter] at this\n  exact u_open.mem_nhds xu\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftProp_of_locally_liftPropOn","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\nhG : G.LocalInvariantProp G' P\nh : âˆ€ (x : M), Exists fun u => And (IsOpen u) (And (Membership.mem u x) (ChartedSpace.LiftPropOn P g u))\nâŠ¢ ChartedSpace.LiftProp P g","decl":"theorem liftProp_of_locally_liftPropOn (h : âˆ€ x, âˆƒ u, IsOpen u âˆ§ x âˆˆ u âˆ§ LiftPropOn P g u) :\n    LiftProp P g := by\n  rw [â† liftPropOn_univ]\n  refine hG.liftPropOn_of_locally_liftPropOn fun x _ â†¦ ?_\n  simp [h x]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_of_eventuallyEq","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropWithinAt P g s x\nhâ‚ : (nhdsWithin x s).EventuallyEq g' g\nhx : Eq (g' x) (g x)\nâŠ¢ ChartedSpace.LiftPropWithinAt P g' s x","decl":"theorem liftPropWithinAt_congr_of_eventuallyEq (h : LiftPropWithinAt P g s x) (hâ‚ : g' =á¶ [ğ“[s] x] g)\n    (hx : g' x = g x) : LiftPropWithinAt P g' s x := by\n  refine âŸ¨h.1.congr_of_eventuallyEq hâ‚ hx, ?_âŸ©\n  refine hG.congr_nhdsWithin' ?_\n    (by simp_rw [Function.comp_apply, (chartAt H x).left_inv (mem_chart_source H x), hx]) h.2\n  simp_rw [EventuallyEq, Function.comp_apply]\n  rw [(chartAt H x).eventually_nhdsWithin'\n    (fun y â†¦ chartAt H' (g' x) (g' y) = chartAt H' (g x) (g y)) (mem_chart_source H x)]\n  exact hâ‚.mono fun y hy â†¦ by rw [hx, hy]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_of_eventuallyEq_of_mem","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropWithinAt P g s x\nhâ‚ : (nhdsWithin x s).EventuallyEq g' g\nhâ‚‚ : Membership.mem s x\nâŠ¢ ChartedSpace.LiftPropWithinAt P g' s x","decl":"theorem liftPropWithinAt_congr_of_eventuallyEq_of_mem (h : LiftPropWithinAt P g s x)\n    (hâ‚ : g' =á¶ [ğ“[s] x] g) (hâ‚‚ : x âˆˆ s) : LiftPropWithinAt P g' s x :=\n  liftPropWithinAt_congr_of_eventuallyEq hG h hâ‚ (mem_of_mem_nhdsWithin hâ‚‚ hâ‚ :)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_iff_of_eventuallyEq","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nhâ‚ : (nhdsWithin x s).EventuallyEq g' g\nhx : Eq (g' x) (g x)\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g' s x) (ChartedSpace.LiftPropWithinAt P g s x)","decl":"theorem liftPropWithinAt_congr_iff_of_eventuallyEq (hâ‚ : g' =á¶ [ğ“[s] x] g) (hx : g' x = g x) :\n    LiftPropWithinAt P g' s x â†” LiftPropWithinAt P g s x :=\n  âŸ¨fun h â†¦ hG.liftPropWithinAt_congr_of_eventuallyEq h hâ‚.symm hx.symm,\n    fun h â†¦ hG.liftPropWithinAt_congr_of_eventuallyEq h hâ‚ hxâŸ©\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nhx : Eq (g' x) (g x)\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g' s x) (ChartedSpace.LiftPropWithinAt P g s x)","decl":"theorem liftPropWithinAt_congr_iff (hâ‚ : âˆ€ y âˆˆ s, g' y = g y) (hx : g' x = g x) :\n    LiftPropWithinAt P g' s x â†” LiftPropWithinAt P g s x :=\n  hG.liftPropWithinAt_congr_iff_of_eventuallyEq (eventually_nhdsWithin_of_forall hâ‚) hx\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_iff_of_mem","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nhx : Membership.mem s x\nâŠ¢ Iff (ChartedSpace.LiftPropWithinAt P g' s x) (ChartedSpace.LiftPropWithinAt P g s x)","decl":"theorem liftPropWithinAt_congr_iff_of_mem (hâ‚ : âˆ€ y âˆˆ s, g' y = g y) (hx : x âˆˆ s) :\n    LiftPropWithinAt P g' s x â†” LiftPropWithinAt P g s x :=\n  hG.liftPropWithinAt_congr_iff_of_eventuallyEq (eventually_nhdsWithin_of_forall hâ‚) (hâ‚ _ hx)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropWithinAt P g s x\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nhx : Eq (g' x) (g x)\nâŠ¢ ChartedSpace.LiftPropWithinAt P g' s x","decl":"theorem liftPropWithinAt_congr (h : LiftPropWithinAt P g s x) (hâ‚ : âˆ€ y âˆˆ s, g' y = g y)\n    (hx : g' x = g x) : LiftPropWithinAt P g' s x :=\n  (hG.liftPropWithinAt_congr_iff hâ‚ hx).mpr h\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_congr_of_mem","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropWithinAt P g s x\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nhx : Membership.mem s x\nâŠ¢ ChartedSpace.LiftPropWithinAt P g' s x","decl":"theorem liftPropWithinAt_congr_of_mem (h : LiftPropWithinAt P g s x) (hâ‚ : âˆ€ y âˆˆ s, g' y = g y)\n    (hx : x âˆˆ s) : LiftPropWithinAt P g' s x :=\n  (hG.liftPropWithinAt_congr_iff hâ‚ (hâ‚ _ hx)).mpr h\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_congr_iff_of_eventuallyEq","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\nx : M\nhG : G.LocalInvariantProp G' P\nhâ‚ : (nhds x).EventuallyEq g' g\nâŠ¢ Iff (ChartedSpace.LiftPropAt P g' x) (ChartedSpace.LiftPropAt P g x)","decl":"theorem liftPropAt_congr_iff_of_eventuallyEq (hâ‚ : g' =á¶ [ğ“ x] g) :\n    LiftPropAt P g' x â†” LiftPropAt P g x :=\n  hG.liftPropWithinAt_congr_iff_of_eventuallyEq (by simp_rw [nhdsWithin_univ, hâ‚]) hâ‚.eq_of_nhds\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_congr_of_eventuallyEq","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\nx : M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropAt P g x\nhâ‚ : (nhds x).EventuallyEq g' g\nâŠ¢ ChartedSpace.LiftPropAt P g' x","decl":"theorem liftPropAt_congr_of_eventuallyEq (h : LiftPropAt P g x) (hâ‚ : g' =á¶ [ğ“ x] g) :\n    LiftPropAt P g' x :=\n  (hG.liftPropAt_congr_iff_of_eventuallyEq hâ‚).mpr h\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_congr","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nhG : G.LocalInvariantProp G' P\nh : ChartedSpace.LiftPropOn P g s\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nâŠ¢ ChartedSpace.LiftPropOn P g' s","decl":"theorem liftPropOn_congr (h : LiftPropOn P g s) (hâ‚ : âˆ€ y âˆˆ s, g' y = g y) : LiftPropOn P g' s :=\n  fun x hx â†¦ hG.liftPropWithinAt_congr (h x hx) hâ‚ (hâ‚ x hx)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_congr_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng g' : M â†’ M'\ns : Set M\nhG : G.LocalInvariantProp G' P\nhâ‚ : âˆ€ (y : M), Membership.mem s y â†’ Eq (g' y) (g y)\nâŠ¢ Iff (ChartedSpace.LiftPropOn P g' s) (ChartedSpace.LiftPropOn P g s)","decl":"theorem liftPropOn_congr_iff (hâ‚ : âˆ€ y âˆˆ s, g' y = g y) : LiftPropOn P g' s â†” LiftPropOn P g s :=\n  âŸ¨fun h â†¦ hG.liftPropOn_congr h fun y hy â†¦ (hâ‚ y hy).symm, fun h â†¦ hG.liftPropOn_congr h hâ‚âŸ©\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_mono_of_mem_nhdsWithin","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nmono_of_mem_nhdsWithin : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, Membership.mem (nhdsWithin x t) s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftPropWithinAt P g s x\nhst : Membership.mem (nhdsWithin x t) s\nâŠ¢ ChartedSpace.LiftPropWithinAt P g t x","decl":"theorem liftPropWithinAt_mono_of_mem_nhdsWithin\n    (mono_of_mem_nhdsWithin : âˆ€ â¦ƒs x tâ¦„ â¦ƒf : H â†’ H'â¦„, s âˆˆ ğ“[t] x â†’ P f s x â†’ P f t x)\n    (h : LiftPropWithinAt P g s x) (hst : s âˆˆ ğ“[t] x) : LiftPropWithinAt P g t x := by\n  simp only [liftPropWithinAt_iff'] at h âŠ¢\n  refine âŸ¨h.1.mono_of_mem_nhdsWithin hst, mono_of_mem_nhdsWithin ?_ h.2âŸ©\n  simp_rw [â† mem_map, (chartAt H x).symm.map_nhdsWithin_preimage_eq (mem_chart_target H x),\n    (chartAt H x).left_inv (mem_chart_source H x), hst]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_mono_of_mem","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nmono_of_mem_nhdsWithin : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, Membership.mem (nhdsWithin x t) s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftPropWithinAt P g s x\nhst : Membership.mem (nhdsWithin x t) s\nâŠ¢ ChartedSpace.LiftPropWithinAt P g t x","decl":"@[deprecated (since := \"2024-10-31\")]\nalias liftPropWithinAt_mono_of_mem := liftPropWithinAt_mono_of_mem_nhdsWithin\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_mono","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nx : M\nmono : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, HasSubset.Subset t s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftPropWithinAt P g s x\nhts : HasSubset.Subset t s\nâŠ¢ ChartedSpace.LiftPropWithinAt P g t x","decl":"theorem liftPropWithinAt_mono (mono : âˆ€ â¦ƒs x tâ¦„ â¦ƒf : H â†’ H'â¦„, t âŠ† s â†’ P f s x â†’ P f t x)\n    (h : LiftPropWithinAt P g s x) (hts : t âŠ† s) : LiftPropWithinAt P g t x := by\n  refine âŸ¨h.1.mono hts, mono (fun y hy â†¦ ?_) h.2âŸ©\n  simp only [mfld_simps] at hy\n  simp only [hy, hts _, mfld_simps]\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropWithinAt_of_liftPropAt","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nx : M\nmono : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, HasSubset.Subset t s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftPropAt P g x\nâŠ¢ ChartedSpace.LiftPropWithinAt P g s x","decl":"theorem liftPropWithinAt_of_liftPropAt (mono : âˆ€ â¦ƒs x tâ¦„ â¦ƒf : H â†’ H'â¦„, t âŠ† s â†’ P f s x â†’ P f t x)\n    (h : LiftPropAt P g x) : LiftPropWithinAt P g s x := by\n  rw [â† liftPropWithinAt_univ] at h\n  exact liftPropWithinAt_mono mono h (subset_univ _)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_mono","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns t : Set M\nmono : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, HasSubset.Subset t s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftPropOn P g t\nhst : HasSubset.Subset s t\nâŠ¢ ChartedSpace.LiftPropOn P g s","decl":"theorem liftPropOn_mono (mono : âˆ€ â¦ƒs x tâ¦„ â¦ƒf : H â†’ H'â¦„, t âŠ† s â†’ P f s x â†’ P f t x)\n    (h : LiftPropOn P g t) (hst : s âŠ† t) : LiftPropOn P g s :=\n  fun x hx â†¦ liftPropWithinAt_mono mono (h x (hst hx)) hst\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_of_liftProp","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\ng : M â†’ M'\ns : Set M\nmono : âˆ€ â¦ƒs : Set Hâ¦„ â¦ƒx : Hâ¦„ â¦ƒt : Set Hâ¦„ â¦ƒf : H â†’ H'â¦„, HasSubset.Subset t s â†’ P f s x â†’ P f t x\nh : ChartedSpace.LiftProp P g\nâŠ¢ ChartedSpace.LiftPropOn P g s","decl":"theorem liftPropOn_of_liftProp (mono : âˆ€ â¦ƒs x tâ¦„ â¦ƒf : H â†’ H'â¦„, t âŠ† s â†’ P f s x â†’ P f t x)\n    (h : LiftProp P g) : LiftPropOn P g s := by\n  rw [â† liftPropOn_univ] at h\n  exact liftPropOn_mono mono h (subset_univ _)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_of_mem_maximalAtlas","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\ne : PartialHomeomorph M H\nx : M\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nhx : Membership.mem e.source x\nâŠ¢ ChartedSpace.LiftPropAt Q (â†‘e) x","decl":"theorem liftPropAt_of_mem_maximalAtlas [HasGroupoid M G] (hG : G.LocalInvariantProp G Q)\n    (hQ : âˆ€ y, Q id univ y) (he : e âˆˆ maximalAtlas M G) (hx : x âˆˆ e.source) : LiftPropAt Q e x := by\n  simp_rw [LiftPropAt, hG.liftPropWithinAt_indep_chart he hx G.id_mem_maximalAtlas (mem_univ _),\n    (e.continuousAt hx).continuousWithinAt, true_and]\n  exact hG.congr' (e.eventually_right_inverse' hx) (hQ _)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_of_mem_maximalAtlas","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\ne : PartialHomeomorph M H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nâŠ¢ ChartedSpace.LiftPropOn Q (â†‘e) e.source","decl":"theorem liftPropOn_of_mem_maximalAtlas [HasGroupoid M G] (hG : G.LocalInvariantProp G Q)\n    (hQ : âˆ€ y, Q id univ y) (he : e âˆˆ maximalAtlas M G) : LiftPropOn Q e e.source := by\n  intro x hx\n  apply hG.liftPropWithinAt_of_liftPropAt_of_mem_nhds (hG.liftPropAt_of_mem_maximalAtlas hQ he hx)\n  exact e.open_source.mem_nhds hx\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_symm_of_mem_maximalAtlas","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\ne : PartialHomeomorph M H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nx : H\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nhx : Membership.mem e.target x\nâŠ¢ ChartedSpace.LiftPropAt Q (â†‘e.symm) x","decl":"theorem liftPropAt_symm_of_mem_maximalAtlas [HasGroupoid M G] {x : H}\n    (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y) (he : e âˆˆ maximalAtlas M G)\n    (hx : x âˆˆ e.target) : LiftPropAt Q e.symm x := by\n  suffices h : Q (e âˆ˜ e.symm) univ x by\n    have : e.symm x âˆˆ e.source := by simp only [hx, mfld_simps]\n    rw [LiftPropAt, hG.liftPropWithinAt_indep_chart G.id_mem_maximalAtlas (mem_univ _) he this]\n    refine âŸ¨(e.symm.continuousAt hx).continuousWithinAt, ?_âŸ©\n    simp only [h, mfld_simps]\n  exact hG.congr' (e.eventually_right_inverse hx) (hQ x)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_symm_of_mem_maximalAtlas","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\ne : PartialHomeomorph M H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nhe : Membership.mem (StructureGroupoid.maximalAtlas M G) e\nâŠ¢ ChartedSpace.LiftPropOn Q (â†‘e.symm) e.target","decl":"theorem liftPropOn_symm_of_mem_maximalAtlas [HasGroupoid M G] (hG : G.LocalInvariantProp G Q)\n    (hQ : âˆ€ y, Q id univ y) (he : e âˆˆ maximalAtlas M G) : LiftPropOn Q e.symm e.target := by\n  intro x hx\n  apply hG.liftPropWithinAt_of_liftPropAt_of_mem_nhds\n    (hG.liftPropAt_symm_of_mem_maximalAtlas hQ he hx)\n  exact e.open_target.mem_nhds hx\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_chart","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\nx : M\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nâŠ¢ ChartedSpace.LiftPropAt Q (â†‘(chartAt H x)) x","decl":"theorem liftPropAt_chart [HasGroupoid M G] (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y) :\n    LiftPropAt Q (chartAt (H := H) x) x :=\n  hG.liftPropAt_of_mem_maximalAtlas hQ (chart_mem_maximalAtlas G x) (mem_chart_source H x)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_chart","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\nx : M\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nâŠ¢ ChartedSpace.LiftPropOn Q (â†‘(chartAt H x)) (chartAt H x).source","decl":"theorem liftPropOn_chart [HasGroupoid M G] (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y) :\n    LiftPropOn Q (chartAt (H := H) x) (chartAt (H := H) x).source :=\n  hG.liftPropOn_of_mem_maximalAtlas hQ (chart_mem_maximalAtlas G x)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_chart_symm","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\nx : M\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nâŠ¢ ChartedSpace.LiftPropAt Q (â†‘(chartAt H x).symm) (â†‘(chartAt H x) x)","decl":"theorem liftPropAt_chart_symm [HasGroupoid M G] (hG : G.LocalInvariantProp G Q)\n    (hQ : âˆ€ y, Q id univ y) : LiftPropAt Q (chartAt (H := H) x).symm ((chartAt H x) x) :=\n  hG.liftPropAt_symm_of_mem_maximalAtlas hQ (chart_mem_maximalAtlas G x) (by simp)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_chart_symm","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ³ : TopologicalSpace H\ninstâœÂ² : TopologicalSpace M\ninstâœÂ¹ : ChartedSpace H M\nG : StructureGroupoid H\nx : M\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\ninstâœ : HasGroupoid M G\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nâŠ¢ ChartedSpace.LiftPropOn Q (â†‘(chartAt H x).symm) (chartAt H x).target","decl":"theorem liftPropOn_chart_symm [HasGroupoid M G] (hG : G.LocalInvariantProp G Q)\n    (hQ : âˆ€ y, Q id univ y) : LiftPropOn Q (chartAt (H := H) x).symm (chartAt H x).target :=\n  hG.liftPropOn_symm_of_mem_maximalAtlas hQ (chart_mem_maximalAtlas G x)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_of_mem_groupoid","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœ : TopologicalSpace H\nG : StructureGroupoid H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nf : PartialHomeomorph H H\nhf : Membership.mem G f\nx : H\nhx : Membership.mem f.source x\nâŠ¢ ChartedSpace.LiftPropAt Q (â†‘f) x","decl":"theorem liftPropAt_of_mem_groupoid (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y)\n    {f : PartialHomeomorph H H} (hf : f âˆˆ G) {x : H} (hx : x âˆˆ f.source) : LiftPropAt Q f x :=\n  liftPropAt_of_mem_maximalAtlas hG hQ (G.mem_maximalAtlas_of_mem_groupoid hf) hx\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropOn_of_mem_groupoid","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœ : TopologicalSpace H\nG : StructureGroupoid H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nf : PartialHomeomorph H H\nhf : Membership.mem G f\nâŠ¢ ChartedSpace.LiftPropOn Q (â†‘f) f.source","decl":"theorem liftPropOn_of_mem_groupoid (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y)\n    {f : PartialHomeomorph H H} (hf : f âˆˆ G) : LiftPropOn Q f f.source :=\n  liftPropOn_of_mem_maximalAtlas hG hQ (G.mem_maximalAtlas_of_mem_groupoid hf)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftProp_id","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ² : TopologicalSpace H\ninstâœÂ¹ : TopologicalSpace M\ninstâœ : ChartedSpace H M\nG : StructureGroupoid H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nâŠ¢ ChartedSpace.LiftProp Q id","decl":"theorem liftProp_id (hG : G.LocalInvariantProp G Q) (hQ : âˆ€ y, Q id univ y) :\n    LiftProp Q (id : M â†’ M) := by\n  simp_rw [liftProp_iff, continuous_id, true_and]\n  exact fun x â†¦ hG.congr' ((chartAt H x).eventually_right_inverse <| mem_chart_target H x) (hQ _)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_iff_comp_subtype_val","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\nU : TopologicalSpace.Opens M\nf : M â†’ M'\nx : Subtype fun x => Membership.mem U x\nâŠ¢ Iff (ChartedSpace.LiftPropAt P f â†‘x) (ChartedSpace.LiftPropAt P (Function.comp f Subtype.val) x)","decl":"theorem liftPropAt_iff_comp_subtype_val (hG : LocalInvariantProp G G' P) {U : Opens M}\n    (f : M â†’ M') (x : U) :\n    LiftPropAt P f x â†” LiftPropAt P (f âˆ˜ Subtype.val) x := by\n  simp only [LiftPropAt, liftPropWithinAt_iff']\n  congrm ?_ âˆ§ ?_\n  Â· simp_rw [continuousWithinAt_univ, U.isOpenEmbedding'.continuousAt_iff]\n  Â· apply hG.congr_iff\n    exact (U.chartAt_subtype_val_symm_eventuallyEq).fun_comp (chartAt H' (f x) âˆ˜ f)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftPropAt_iff_comp_inclusion","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\nH' : Type u_3\nM' : Type u_4\ninstâœâµ : TopologicalSpace H\ninstâœâ´ : TopologicalSpace M\ninstâœÂ³ : ChartedSpace H M\ninstâœÂ² : TopologicalSpace H'\ninstâœÂ¹ : TopologicalSpace M'\ninstâœ : ChartedSpace H' M'\nG : StructureGroupoid H\nG' : StructureGroupoid H'\nP : (H â†’ H') â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G' P\nU V : TopologicalSpace.Opens M\nhUV : LE.le U V\nf : (Subtype fun x => Membership.mem V x) â†’ M'\nx : Subtype fun x => Membership.mem U x\nâŠ¢ Iff (ChartedSpace.LiftPropAt P f (Set.inclusion hUV x)) (ChartedSpace.LiftPropAt P (Function.comp f (Set.inclusion hUV)) x)","decl":"theorem liftPropAt_iff_comp_inclusion (hG : LocalInvariantProp G G' P) {U V : Opens M} (hUV : U â‰¤ V)\n    (f : V â†’ M') (x : U) :\n    LiftPropAt P f (Set.inclusion hUV x) â†” LiftPropAt P (f âˆ˜ Set.inclusion hUV : U â†’ M') x := by\n  simp only [LiftPropAt, liftPropWithinAt_iff']\n  congrm ?_ âˆ§ ?_\n  Â· simp_rw [continuousWithinAt_univ,\n      (TopologicalSpace.Opens.isOpenEmbedding_of_le hUV).continuousAt_iff]\n  Â· apply hG.congr_iff\n    exact (TopologicalSpace.Opens.chartAt_inclusion_symm_eventuallyEq hUV).fun_comp\n      (chartAt H' (f (Set.inclusion hUV x)) âˆ˜ f)\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftProp_subtype_val","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ² : TopologicalSpace H\ninstâœÂ¹ : TopologicalSpace M\ninstâœ : ChartedSpace H M\nG : StructureGroupoid H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nU : TopologicalSpace.Opens M\nâŠ¢ ChartedSpace.LiftProp Q Subtype.val","decl":"theorem liftProp_subtype_val {Q : (H â†’ H) â†’ Set H â†’ H â†’ Prop} (hG : LocalInvariantProp G G Q)\n    (hQ : âˆ€ y, Q id univ y) (U : Opens M) :\n    LiftProp Q (Subtype.val : U â†’ M) := by\n  intro x\n  show LiftPropAt Q (id âˆ˜ Subtype.val) x\n  rw [â† hG.liftPropAt_iff_comp_subtype_val]\n  apply hG.liftProp_id hQ\n\n"}
{"name":"StructureGroupoid.LocalInvariantProp.liftProp_inclusion","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\nM : Type u_2\ninstâœÂ² : TopologicalSpace H\ninstâœÂ¹ : TopologicalSpace M\ninstâœ : ChartedSpace H M\nG : StructureGroupoid H\nQ : (H â†’ H) â†’ Set H â†’ H â†’ Prop\nhG : G.LocalInvariantProp G Q\nhQ : âˆ€ (y : H), Q id Set.univ y\nU V : TopologicalSpace.Opens M\nhUV : LE.le U V\nâŠ¢ ChartedSpace.LiftProp Q (TopologicalSpace.Opens.inclusion hUV)","decl":"theorem liftProp_inclusion {Q : (H â†’ H) â†’ Set H â†’ H â†’ Prop} (hG : LocalInvariantProp G G Q)\n    (hQ : âˆ€ y, Q id univ y) {U V : Opens M} (hUV : U â‰¤ V) :\n    LiftProp Q (Opens.inclusion hUV : U â†’ V) := by\n  intro x\n  show LiftPropAt Q (id âˆ˜ Opens.inclusion hUV) x\n  rw [â† hG.liftPropAt_iff_comp_inclusion hUV]\n  apply hG.liftProp_id hQ\n\n"}
{"name":"StructureGroupoid.isLocalStructomorphWithinAt_localInvariantProp","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœÂ¹ : TopologicalSpace H\nG : StructureGroupoid H\ninstâœ : ClosedUnderRestriction G\nâŠ¢ G.LocalInvariantProp G G.IsLocalStructomorphWithinAt","decl":"/-- For a groupoid `G` which is `ClosedUnderRestriction`, being a local structomorphism is a local\ninvariant property. -/\ntheorem isLocalStructomorphWithinAt_localInvariantProp [ClosedUnderRestriction G] :\n    LocalInvariantProp G G (IsLocalStructomorphWithinAt G) :=\n  { is_local := by\n      intro s x u f hu hux\n      constructor\n      Â· rintro h hx\n        rcases h hx.1 with âŸ¨e, heG, hef, hexâŸ©\n        have : s âˆ© u âˆ© e.source âŠ† s âˆ© e.source := by mfld_set_tac\n        exact âŸ¨e, heG, hef.mono this, hexâŸ©\n      Â· rintro h hx\n        rcases h âŸ¨hx, huxâŸ© with âŸ¨e, heG, hef, hexâŸ©\n        refine âŸ¨e.restr (interior u), ?_, ?_, ?_âŸ©\n        Â· exact closedUnderRestriction' heG isOpen_interior\n        Â· have : s âˆ© u âˆ© e.source = s âˆ© (e.source âˆ© u) := by mfld_set_tac\n          simpa only [this, interior_interior, hu.interior_eq, mfld_simps] using hef\n        Â· simp only [*, interior_interior, hu.interior_eq, mfld_simps]\n    right_invariance' := by\n      intro s x f e' he'G he'x h hx\n      have hxs : x âˆˆ s := by simpa only [e'.left_inv he'x, mfld_simps] using hx\n      rcases h hxs with âŸ¨e, heG, hef, hexâŸ©\n      refine âŸ¨e'.symm.trans e, G.trans (G.symm he'G) heG, ?_, ?_âŸ©\n      Â· intro y hy\n        simp only [mfld_simps] at hy\n        simp only [hef âŸ¨hy.1, hy.2.2âŸ©, mfld_simps]\n      Â· simp only [hex, he'x, mfld_simps]\n    congr_of_forall := by\n      intro s x f g hfgs _ h hx\n      rcases h hx with âŸ¨e, heG, hef, hexâŸ©\n      refine âŸ¨e, heG, ?_, hexâŸ©\n      intro y hy\n      rw [â† hef hy, hfgs y hy.1]\n    left_invariance' := by\n      intro s x f e' he'G _ hfx h hx\n      rcases h hx with âŸ¨e, heG, hef, hexâŸ©\n      refine âŸ¨e.trans e', G.trans heG he'G, ?_, ?_âŸ©\n      Â· intro y hy\n        simp only [mfld_simps] at hy\n        simp only [hef âŸ¨hy.1, hy.2.1âŸ©, mfld_simps]\n      Â· simpa only [hex, hef âŸ¨hx, hexâŸ©, mfld_simps] using hfx }\n\n"}
{"name":"PartialHomeomorph.isLocalStructomorphWithinAt_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœÂ¹ : TopologicalSpace H\nG : StructureGroupoid H\ninstâœ : ClosedUnderRestriction G\nf : PartialHomeomorph H H\ns : Set H\nx : H\nhx : Membership.mem (Union.union f.source (HasCompl.compl s)) x\nâŠ¢ Iff (G.IsLocalStructomorphWithinAt (â†‘f) s x) (Membership.mem s x â†’ Exists fun e => And (Membership.mem G e) (And (HasSubset.Subset e.source f.source) (And (Set.EqOn (â†‘f) (â†‘e) (Inter.inter s e.source)) (Membership.mem e.source x))))","decl":"/-- A slight reformulation of `IsLocalStructomorphWithinAt` when `f` is a partial homeomorph.\n  This gives us an `e` that is defined on a subset of `f.source`. -/\ntheorem _root_.PartialHomeomorph.isLocalStructomorphWithinAt_iff {G : StructureGroupoid H}\n    [ClosedUnderRestriction G] (f : PartialHomeomorph H H) {s : Set H} {x : H}\n    (hx : x âˆˆ f.source âˆª sá¶œ) :\n    G.IsLocalStructomorphWithinAt (â‡‘f) s x â†”\n      x âˆˆ s â†’ âˆƒ e : PartialHomeomorph H H,\n      e âˆˆ G âˆ§ e.source âŠ† f.source âˆ§ EqOn f (â‡‘e) (s âˆ© e.source) âˆ§ x âˆˆ e.source := by\n  constructor\n  Â· intro hf h2x\n    obtain âŸ¨e, he, hfe, hxeâŸ© := hf h2x\n    refine âŸ¨e.restr f.source, closedUnderRestriction' he f.open_source, ?_, ?_, hxe, ?_âŸ©\n    Â· simp_rw [PartialHomeomorph.restr_source]\n      exact inter_subset_right.trans interior_subset\n    Â· intro x' hx'\n      exact hfe âŸ¨hx'.1, hx'.2.1âŸ©\n    Â· rw [f.open_source.interior_eq]\n      exact Or.resolve_right hx (not_not.mpr h2x)\n  Â· intro hf hx\n    obtain âŸ¨e, he, _, hfe, hxeâŸ© := hf hx\n    exact âŸ¨e, he, hfe, hxeâŸ©\n\n"}
{"name":"PartialHomeomorph.isLocalStructomorphWithinAt_iff'","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœÂ¹ : TopologicalSpace H\nG : StructureGroupoid H\ninstâœ : ClosedUnderRestriction G\nf : PartialHomeomorph H H\ns : Set H\nx : H\nhs : HasSubset.Subset f.source s\nhx : Membership.mem (Union.union f.source (HasCompl.compl s)) x\nâŠ¢ Iff (G.IsLocalStructomorphWithinAt (â†‘f) s x) (Membership.mem s x â†’ Exists fun e => And (Membership.mem G e) (And (HasSubset.Subset e.source f.source) (And (Set.EqOn (â†‘f) (â†‘e) e.source) (Membership.mem e.source x))))","decl":"/-- A slight reformulation of `IsLocalStructomorphWithinAt` when `f` is a partial homeomorph and\n  the set we're considering is a superset of `f.source`. -/\ntheorem _root_.PartialHomeomorph.isLocalStructomorphWithinAt_iff' {G : StructureGroupoid H}\n    [ClosedUnderRestriction G] (f : PartialHomeomorph H H) {s : Set H} {x : H} (hs : f.source âŠ† s)\n    (hx : x âˆˆ f.source âˆª sá¶œ) :\n    G.IsLocalStructomorphWithinAt (â‡‘f) s x â†”\n      x âˆˆ s â†’ âˆƒ e : PartialHomeomorph H H,\n      e âˆˆ G âˆ§ e.source âŠ† f.source âˆ§ EqOn f (â‡‘e) e.source âˆ§ x âˆˆ e.source := by\n  rw [f.isLocalStructomorphWithinAt_iff hx]\n  refine imp_congr_right fun _ â†¦ exists_congr fun e â†¦ and_congr_right fun _ â†¦ ?_\n  refine and_congr_right fun h2e â†¦ ?_\n  rw [inter_eq_right.mpr (h2e.trans hs)]\n\n"}
{"name":"PartialHomeomorph.isLocalStructomorphWithinAt_source_iff","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"H : Type u_1\ninstâœÂ¹ : TopologicalSpace H\nG : StructureGroupoid H\ninstâœ : ClosedUnderRestriction G\nf : PartialHomeomorph H H\nx : H\nâŠ¢ Iff (G.IsLocalStructomorphWithinAt (â†‘f) f.source x) (Membership.mem f.source x â†’ Exists fun e => And (Membership.mem G e) (And (HasSubset.Subset e.source f.source) (And (Set.EqOn (â†‘f) (â†‘e) e.source) (Membership.mem e.source x))))","decl":"/-- A slight reformulation of `IsLocalStructomorphWithinAt` when `f` is a partial homeomorph and\n  the set we're considering is `f.source`. -/\ntheorem _root_.PartialHomeomorph.isLocalStructomorphWithinAt_source_iff {G : StructureGroupoid H}\n    [ClosedUnderRestriction G] (f : PartialHomeomorph H H) {x : H} :\n    G.IsLocalStructomorphWithinAt (â‡‘f) f.source x â†”\n      x âˆˆ f.source â†’ âˆƒ e : PartialHomeomorph H H,\n      e âˆˆ G âˆ§ e.source âŠ† f.source âˆ§ EqOn f (â‡‘e) e.source âˆ§ x âˆˆ e.source :=\n  haveI : x âˆˆ f.source âˆª f.sourceá¶œ := by simp_rw [union_compl_self, mem_univ]\n  f.isLocalStructomorphWithinAt_iff' Subset.rfl this\n\n"}
{"name":"StructureGroupoid.HasGroupoid.comp","module":"Mathlib.Geometry.Manifold.LocalInvariantProperties","initialProofState":"Hâ‚ : Type u_6\ninstâœâ· : TopologicalSpace Hâ‚\nHâ‚‚ : Type u_7\ninstâœâ¶ : TopologicalSpace Hâ‚‚\nHâ‚ƒ : Type u_8\ninstâœâµ : TopologicalSpace Hâ‚ƒ\ninstâœâ´ : ChartedSpace Hâ‚ Hâ‚‚\ninstâœÂ³ : ChartedSpace Hâ‚‚ Hâ‚ƒ\nGâ‚ : StructureGroupoid Hâ‚\ninstâœÂ² : HasGroupoid Hâ‚‚ Gâ‚\ninstâœÂ¹ : ClosedUnderRestriction Gâ‚\nGâ‚‚ : StructureGroupoid Hâ‚‚\ninstâœ : HasGroupoid Hâ‚ƒ Gâ‚‚\nH : âˆ€ (e : PartialHomeomorph Hâ‚‚ Hâ‚‚), Membership.mem Gâ‚‚ e â†’ ChartedSpace.LiftPropOn Gâ‚.IsLocalStructomorphWithinAt (â†‘e) e.source\nâŠ¢ HasGroupoid Hâ‚ƒ Gâ‚","decl":"theorem HasGroupoid.comp\n    (H : âˆ€ e âˆˆ Gâ‚‚, LiftPropOn (IsLocalStructomorphWithinAt Gâ‚) (e : Hâ‚‚ â†’ Hâ‚‚) e.source) :\n    @HasGroupoid Hâ‚ _ Hâ‚ƒ _ (ChartedSpace.comp Hâ‚ Hâ‚‚ Hâ‚ƒ) Gâ‚ :=\n  let _ := ChartedSpace.comp Hâ‚ Hâ‚‚ Hâ‚ƒ -- Porting note: need this to synthesize `ChartedSpace Hâ‚ Hâ‚ƒ`\n  { compatible := by\n      rintro _ _ âŸ¨e, he, f, hf, rflâŸ© âŸ¨e', he', f', hf', rflâŸ©\n      apply Gâ‚.locality\n      intro x hx\n      simp only [mfld_simps] at hx\n      have hxs : x âˆˆ f.symm â»Â¹' (e.symm â‰«â‚• e').source := by simp only [hx, mfld_simps]\n      have hxs' : x âˆˆ f.target âˆ© f.symm â»Â¹' ((e.symm â‰«â‚• e').source âˆ© e.symm â‰«â‚• e' â»Â¹' f'.source) :=\n        by simp only [hx, mfld_simps]\n      obtain âŸ¨Ï†, hÏ†Gâ‚, hÏ†, hÏ†_domâŸ© := LocalInvariantProp.liftPropOn_indep_chart\n        (isLocalStructomorphWithinAt_localInvariantProp Gâ‚) (Gâ‚.subset_maximalAtlas hf)\n        (Gâ‚.subset_maximalAtlas hf') (H _ (Gâ‚‚.compatible he he')) hxs' hxs\n      simp_rw [â† PartialHomeomorph.coe_trans, PartialHomeomorph.trans_assoc] at hÏ†\n      simp_rw [PartialHomeomorph.trans_symm_eq_symm_trans_symm, PartialHomeomorph.trans_assoc]\n      have hs : IsOpen (f.symm â‰«â‚• e.symm â‰«â‚• e' â‰«â‚• f').source :=\n        (f.symm â‰«â‚• e.symm â‰«â‚• e' â‰«â‚• f').open_source\n      refine âŸ¨_, hs.inter Ï†.open_source, ?_, ?_âŸ©\n      Â· simp only [hx, hÏ†_dom, mfld_simps]\n      Â· refine Gâ‚.mem_of_eqOnSource (closedUnderRestriction' hÏ†Gâ‚ hs) ?_\n        rw [PartialHomeomorph.restr_source_inter]\n        refine PartialHomeomorph.Set.EqOn.restr_eqOn_source (hÏ†.mono ?_)\n        mfld_set_tac }\n\n"}
