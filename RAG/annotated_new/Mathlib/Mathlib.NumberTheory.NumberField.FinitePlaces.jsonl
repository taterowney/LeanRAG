{"name":"NumberField.one_lt_norm","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\n‚ä¢ LT.lt 1 (Ideal.absNorm v.asIdeal)","decl":"/-- The norm of a maximal ideal is `> 1`  -/\nlemma one_lt_norm : 1 < absNorm v.asIdeal := by\n  by_contra! h\n  apply IsPrime.ne_top v.isPrime\n  rw [‚Üê absNorm_eq_one_iff]\n  have : 0 < absNorm v.asIdeal := by\n    rw [Nat.pos_iff_ne_zero, absNorm_ne_zero_iff]\n    exact (v.asIdeal.fintypeQuotientOfFreeOfNeBot v.ne_bot).finite\n  omega\n\n"}
{"name":"NumberField.one_lt_norm_nnreal","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\n‚ä¢ LT.lt 1 ‚Üë(Ideal.absNorm v.asIdeal)","decl":"/-- The norm of a maximal ideal as an element of `‚Ñù‚â•0` is `> 1`  -/\nlemma one_lt_norm_nnreal : 1 < (absNorm v.asIdeal : NNReal) := mod_cast one_lt_norm v\n\n"}
{"name":"NumberField.norm_ne_zero","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\n‚ä¢ Ne (‚Üë(Ideal.absNorm v.asIdeal)) 0","decl":"/-- The norm of a maximal ideal as an element of `‚Ñù‚â•0` is `‚â† 0`  -/\nlemma norm_ne_zero : (absNorm v.asIdeal : NNReal) ‚â† 0 :=\n  ne_zero_of_lt (one_lt_norm_nnreal v)\n\n"}
{"name":"NumberField.vadicAbv_def","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq ((NumberField.vadicAbv v) x) ‚Üë((WithZeroMulInt.toNNReal ‚ãØ) (v.valuation x))","decl":"theorem vadicAbv_def {x : K} : vadicAbv v x = toNNReal (norm_ne_zero v) (v.valuation x) := rfl\n\n"}
{"name":"NumberField.toNNReal_Valued_eq_vadicAbv","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq (‚Üë((WithZeroMulInt.toNNReal ‚ãØ) (Valued.v x))) ((NumberField.vadicAbv v) x)","decl":"lemma toNNReal_Valued_eq_vadicAbv (x : K) :\n    toNNReal (norm_ne_zero v) (Valued.v (self:=v.adicValued) x) = vadicAbv v x := rfl\n\n"}
{"name":"NumberField.FinitePlace.norm_def","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq (Norm.norm ((NumberField.embedding v) x)) ((NumberField.vadicAbv v) x)","decl":"/-- The norm of the image after the embedding associated to `v` is equal to the `v`-adic absolute\nvalue. -/\ntheorem FinitePlace.norm_def (x : K) : ‚Äñembedding v x‚Äñ = vadicAbv v x := by\n  simp only [adicCompletion, NormedField.toNorm, instNormedFieldValuedAdicCompletion,\n    Valued.toNormedField, instFieldAdicCompletion, Valued.norm, Valuation.RankOne.hom,\n    MonoidWithZeroHom.coe_mk, ZeroHom.coe_mk, embedding, UniformSpace.Completion.coeRingHom,\n    RingHom.coe_mk, MonoidHom.coe_mk, OneHom.coe_mk, Valued.valuedCompletion_apply,\n    toNNReal_Valued_eq_vadicAbv]\n\n"}
{"name":"NumberField.FinitePlace.norm_def'","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq (Norm.norm ((NumberField.embedding v) x)) ‚Üë((WithZeroMulInt.toNNReal ‚ãØ) (v.valuation x))","decl":"/-- The norm of the image after the embedding associated to `v` is equal to the norm of `v` raised\nto the power of the `v`-adic valuation. -/\ntheorem FinitePlace.norm_def' (x : K) : ‚Äñembedding v x‚Äñ = toNNReal (norm_ne_zero v)\n    (v.valuation x) := by\n  rw [norm_def, vadicAbv_def]\n\n"}
{"name":"NumberField.FinitePlace.norm_def_int","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : NumberField.RingOfIntegers K\n‚ä¢ Eq (Norm.norm ((NumberField.embedding v) ‚Üëx)) ‚Üë((WithZeroMulInt.toNNReal ‚ãØ) (v.intValuationDef x))","decl":"/-- The norm of the image after the embedding associated to `v` is equal to the norm of `v` raised\nto the power of the `v`-adic valuation for integers. -/\ntheorem FinitePlace.norm_def_int (x : ùìû K) : ‚Äñembedding v x‚Äñ = toNNReal (norm_ne_zero v)\n    (v.intValuationDef x) := by\n  rw [norm_def, vadicAbv_def, valuation_eq_intValuationDef]\n\n"}
{"name":"NumberField.norm_le_one","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : NumberField.RingOfIntegers K\n‚ä¢ LE.le (Norm.norm ((NumberField.embedding v) ‚Üëx)) 1","decl":"/-- The `v`-adic norm of an integer is at most 1. -/\ntheorem norm_le_one (x : ùìû K) : ‚Äñembedding v x‚Äñ ‚â§ 1 := by\n  rw [norm_def', NNReal.coe_le_one, toNNReal_le_one_iff (one_lt_norm_nnreal v)]\n  exact valuation_le_one v x\n\n"}
{"name":"NumberField.norm_eq_one_iff_not_mem","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : NumberField.RingOfIntegers K\n‚ä¢ Iff (Eq (Norm.norm ((NumberField.embedding v) ‚Üëx)) 1) (Not (Membership.mem v.asIdeal x))","decl":"/-- The `v`-adic norm of an integer is 1 if and only if it is not in the ideal. -/\ntheorem norm_eq_one_iff_not_mem (x : ùìû K) : ‚Äñ(embedding v) x‚Äñ = 1 ‚Üî x ‚àâ v.asIdeal := by\n  rw [norm_def_int, NNReal.coe_eq_one, toNNReal_eq_one_iff (v.intValuationDef x)\n    (norm_ne_zero v) (one_lt_norm_nnreal v).ne', ‚Üê dvd_span_singleton,\n    ‚Üê intValuation_lt_one_iff_dvd, not_lt]\n  exact (intValuation_le_one v x).ge_iff_eq.symm\n\n"}
{"name":"NumberField.norm_lt_one_iff_mem","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : NumberField.RingOfIntegers K\n‚ä¢ Iff (LT.lt (Norm.norm ((NumberField.embedding v) ‚Üëx)) 1) (Membership.mem v.asIdeal x)","decl":"/-- The `v`-adic norm of an integer is less than 1 if and only if it is in the ideal. -/\ntheorem norm_lt_one_iff_mem (x : ùìû K) : ‚Äñembedding v x‚Äñ < 1 ‚Üî x ‚àà v.asIdeal := by\n  rw [norm_def_int, NNReal.coe_lt_one, toNNReal_lt_one_iff (one_lt_norm_nnreal v),\n    intValuation_lt_one_iff_dvd]\n  exact dvd_span_singleton\n\n"}
{"name":"NumberField.FinitePlace.instMonoidWithZeroHomClassReal","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\n‚ä¢ MonoidWithZeroHomClass (NumberField.FinitePlace K) K Real","decl":"instance : MonoidWithZeroHomClass (FinitePlace K) K ‚Ñù where\n  map_mul w := w.1.map_mul\n  map_one w := w.1.map_one\n  map_zero w := w.1.map_zero\n\n"}
{"name":"NumberField.FinitePlace.instNonnegHomClassReal","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\n‚ä¢ NonnegHomClass (NumberField.FinitePlace K) K Real","decl":"instance : NonnegHomClass (FinitePlace K) K ‚Ñù where\n  apply_nonneg w := w.1.nonneg\n\n"}
{"name":"NumberField.FinitePlace.apply","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq ((NumberField.FinitePlace.mk v) x) (Norm.norm ((NumberField.embedding v) x))","decl":"@[simp]\ntheorem apply (v : HeightOneSpectrum (ùìû K)) (x : K) : mk v x =  ‚Äñembedding v x‚Äñ := rfl\n\n"}
{"name":"NumberField.FinitePlace.mk_maximalIdeal","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nw : NumberField.FinitePlace K\n‚ä¢ Eq (NumberField.FinitePlace.mk w.maximalIdeal) w","decl":"@[simp]\ntheorem mk_maximalIdeal (w : FinitePlace K) : mk (maximalIdeal w) = w := Subtype.ext w.2.choose_spec\n\n"}
{"name":"NumberField.FinitePlace.norm_embedding_eq","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nw : NumberField.FinitePlace K\nx : K\n‚ä¢ Eq (Norm.norm ((NumberField.embedding w.maximalIdeal) x)) (w x)","decl":"@[simp]\ntheorem norm_embedding_eq (w : FinitePlace K) (x : K) :\n    ‚Äñembedding (maximalIdeal w) x‚Äñ = w x := by\n  conv_rhs => rw [‚Üê mk_maximalIdeal w, apply]\n\n"}
{"name":"NumberField.FinitePlace.pos_iff","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nw : NumberField.FinitePlace K\nx : K\n‚ä¢ Iff (LT.lt 0 (w x)) (Ne x 0)","decl":"theorem pos_iff {w : FinitePlace K} {x : K} : 0 < w x ‚Üî x ‚â† 0 := w.1.pos_iff\n\n"}
{"name":"NumberField.FinitePlace.mk_eq_iff","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv‚ÇÅ v‚ÇÇ : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\n‚ä¢ Iff (Eq (NumberField.FinitePlace.mk v‚ÇÅ) (NumberField.FinitePlace.mk v‚ÇÇ)) (Eq v‚ÇÅ v‚ÇÇ)","decl":"@[simp]\ntheorem mk_eq_iff {v‚ÇÅ v‚ÇÇ : HeightOneSpectrum (ùìû K)} : mk v‚ÇÅ = mk v‚ÇÇ ‚Üî v‚ÇÅ = v‚ÇÇ := by\n  refine ‚ü®?_, fun a ‚Ü¶ by rw [a]‚ü©\n  contrapose!\n  intro h\n  rw [DFunLike.ne_iff]\n  have ‚ü®x, hx1, hx2‚ü© : ‚àÉ x : ùìû K, x ‚àà v‚ÇÅ.asIdeal ‚àß x ‚àâ v‚ÇÇ.asIdeal := by\n    by_contra! H\n    exact h <| HeightOneSpectrum.ext_iff.mpr <| IsMaximal.eq_of_le (isMaximal v‚ÇÅ) IsPrime.ne_top' H\n  use x\n  simp only [apply]\n  rw [‚Üê norm_lt_one_iff_mem] at hx1\n  rw [‚Üê norm_eq_one_iff_not_mem] at hx2\n  linarith\n\n"}
{"name":"NumberField.FinitePlace.maximalIdeal_mk","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\n‚ä¢ Eq (NumberField.FinitePlace.mk v).maximalIdeal v","decl":"theorem maximalIdeal_mk (v : HeightOneSpectrum (ùìû K)) : maximalIdeal (mk v) = v := by\n  rw [‚Üê mk_eq_iff, mk_maximalIdeal]\n\n"}
{"name":"NumberField.FinitePlace.maximalIdeal_injective","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\n‚ä¢ Function.Injective fun w => w.maximalIdeal","decl":"lemma maximalIdeal_injective : (fun w : FinitePlace K ‚Ü¶ maximalIdeal w).Injective :=\n  equivHeightOneSpectrum.injective\n\n"}
{"name":"NumberField.FinitePlace.maximalIdeal_inj","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nw‚ÇÅ w‚ÇÇ : NumberField.FinitePlace K\n‚ä¢ Iff (Eq w‚ÇÅ.maximalIdeal w‚ÇÇ.maximalIdeal) (Eq w‚ÇÅ w‚ÇÇ)","decl":"lemma maximalIdeal_inj (w‚ÇÅ w‚ÇÇ : FinitePlace K) : maximalIdeal w‚ÇÅ = maximalIdeal w‚ÇÇ ‚Üî w‚ÇÅ = w‚ÇÇ :=\n  equivHeightOneSpectrum.injective.eq_iff\n\n"}
{"name":"NumberField.FinitePlace.mulSupport_finite_int","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nx : NumberField.RingOfIntegers K\nh_x_nezero : Ne x 0\n‚ä¢ (Function.mulSupport fun w => w ‚Üëx).Finite","decl":"theorem mulSupport_finite_int {x : ùìû K} (h_x_nezero : x ‚â† 0) :\n    (Function.mulSupport fun w : FinitePlace K ‚Ü¶ w x).Finite := by\n  have (w : FinitePlace K) : w x ‚â† 1 ‚Üî w x < 1 :=\n    ne_iff_lt_iff_le.mpr <| norm_embedding_eq w x ‚ñ∏ norm_le_one w.maximalIdeal x\n  simp_rw [Function.mulSupport, this, ‚Üê norm_embedding_eq, norm_lt_one_iff_mem,\n    ‚Üê Ideal.dvd_span_singleton]\n  have h : {v : HeightOneSpectrum (ùìû K) | v.asIdeal ‚à£ span {x}}.Finite := by\n    apply Ideal.finite_factors\n    simp only [Submodule.zero_eq_bot, ne_eq, span_singleton_eq_bot, h_x_nezero, not_false_eq_true]\n  have h_inj : Set.InjOn FinitePlace.maximalIdeal {w | w.maximalIdeal.asIdeal ‚à£ span {x}} :=\n    Function.Injective.injOn maximalIdeal_injective\n  refine (h.subset ?_).of_finite_image h_inj\n  simp only [dvd_span_singleton, Set.image_subset_iff, Set.preimage_setOf_eq, subset_refl]\n\n"}
{"name":"NumberField.FinitePlace.mulSupport_finite","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nx : K\nh_x_nezero : Ne x 0\n‚ä¢ (Function.mulSupport fun w => w x).Finite","decl":"theorem mulSupport_finite {x : K} (h_x_nezero : x ‚â† 0) :\n    (Function.mulSupport fun w : FinitePlace K ‚Ü¶ w x).Finite := by\n  rcases IsFractionRing.div_surjective (A := ùìû K) x with ‚ü®a, b, hb, rfl‚ü©\n  simp_all only [ne_eq, div_eq_zero_iff, NoZeroSMulDivisors.algebraMap_eq_zero_iff, not_or,\n    map_div‚ÇÄ]\n  obtain ‚ü®ha, hb‚ü© := h_x_nezero\n  simp_rw [‚Üê RingOfIntegers.coe_eq_algebraMap]\n  apply ((mulSupport_finite_int ha).union (mulSupport_finite_int hb)).subset\n  intro w\n  simp only [Function.mem_mulSupport, ne_eq, Set.mem_union]\n  contrapose!\n  simp +contextual only [ne_eq, one_ne_zero, not_false_eq_true, div_self, implies_true]\n\n"}
{"name":"IsDedekindDomain.HeightOneSpectrum.equivHeightOneSpectrum_symm_apply","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : K\n‚ä¢ Eq ((NumberField.FinitePlace.equivHeightOneSpectrum.symm v) x) (Norm.norm ((NumberField.embedding v) x))","decl":"lemma equivHeightOneSpectrum_symm_apply (v : HeightOneSpectrum (ùìû K)) (x : K) :\n    (equivHeightOneSpectrum.symm v) x = ‚Äñembedding v x‚Äñ := by\n  have : v = (equivHeightOneSpectrum.symm v).maximalIdeal := by\n    show v = equivHeightOneSpectrum (equivHeightOneSpectrum.symm v)\n    exact (Equiv.apply_symm_apply _ v).symm\n  convert (norm_embedding_eq (equivHeightOneSpectrum.symm v) x).symm\n\n"}
{"name":"IsDedekindDomain.HeightOneSpectrum.embedding_mul_absNorm","module":"Mathlib.NumberTheory.NumberField.FinitePlaces","initialProofState":"K : Type u_1\ninst‚úù¬π : Field K\ninst‚úù : NumberField K\nv : IsDedekindDomain.HeightOneSpectrum (NumberField.RingOfIntegers K)\nx : NumberField.RingOfIntegers K\nh_x_nezero : Ne x 0\n‚ä¢ Eq (HMul.hMul (Norm.norm ((NumberField.embedding v) ‚Üëx)) ‚Üë(Ideal.absNorm (v.maxPowDividing (Ideal.span (Singleton.singleton x))))) 1","decl":"open Ideal in\nlemma embedding_mul_absNorm (v : HeightOneSpectrum (ùìû K)) {x : ùìû K} (h_x_nezero : x ‚â† 0) :\n    ‚Äñ(embedding v) x‚Äñ * absNorm (v.maxPowDividing (span {x})) = 1 := by\n  rw [maxPowDividing, map_pow, Nat.cast_pow, norm_def, vadicAbv_def,\n    WithZeroMulInt.toNNReal_neg_apply _\n      (v.valuation.ne_zero_iff.mpr (RingOfIntegers.coe_ne_zero_iff.mpr h_x_nezero))]\n  push_cast\n  rw [‚Üê zpow_natCast, ‚Üê zpow_add‚ÇÄ <| mod_cast (zero_lt_one.trans (one_lt_norm_nnreal v)).ne']\n  norm_cast\n  rw [zpow_eq_one_iff_right‚ÇÄ (Nat.cast_nonneg' _) (mod_cast (one_lt_norm_nnreal v).ne')]\n  simp [valuation_eq_intValuationDef, intValuationDef_if_neg, h_x_nezero]\n\n"}
