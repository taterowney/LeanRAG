{"name":"CategoryTheory.isSheaf_coherent","module":"Mathlib.CategoryTheory.Sites.Coherent.CoherentSheaves","initialProofState":"C : Type u_1\ninst✝¹ : CategoryTheory.Category.{u_2, u_1} C\ninst✝ : CategoryTheory.Precoherent C\nP : CategoryTheory.Functor (Opposite C) (Type w)\n⊢ Iff (CategoryTheory.Presieve.IsSheaf (CategoryTheory.coherentTopology C) P) (∀ (B : C) (α : Type) [inst : Finite α] (X : α → C) (π : (a : α) → Quiver.Hom (X a) B), CategoryTheory.EffectiveEpiFamily X π → CategoryTheory.Presieve.IsSheafFor P (CategoryTheory.Presieve.ofArrows X π))","decl":"universe w in\nlemma isSheaf_coherent (P : Cᵒᵖ ⥤ Type w) :\n    Presieve.IsSheaf (coherentTopology C) P ↔\n    (∀ (B : C) (α : Type) [Finite α] (X : α → C) (π : (a : α) → (X a ⟶ B)),\n      EffectiveEpiFamily X π → (Presieve.ofArrows X π).IsSheafFor P) := by\n  constructor\n  · intro hP B α _ X π h\n    simp only [coherentTopology, Presieve.isSheaf_coverage] at hP\n    apply hP\n    exact ⟨α, inferInstance, X, π, rfl, h⟩\n  · intro h\n    simp only [coherentTopology, Presieve.isSheaf_coverage]\n    rintro B S ⟨α, _, X, π, rfl, hS⟩\n    exact h _ _ _ _ hS\n\n"}
{"name":"CategoryTheory.coherentTopology.isSheaf_yoneda_obj","module":"Mathlib.CategoryTheory.Sites.Coherent.CoherentSheaves","initialProofState":"C : Type u_1\ninst✝¹ : CategoryTheory.Category.{u_2, u_1} C\ninst✝ : CategoryTheory.Precoherent C\nW : C\n⊢ CategoryTheory.Presieve.IsSheaf (CategoryTheory.coherentTopology C) (CategoryTheory.yoneda.obj W)","decl":"/-- Every Yoneda-presheaf is a sheaf for the coherent topology. -/\ntheorem isSheaf_yoneda_obj (W : C) : Presieve.IsSheaf (coherentTopology C) (yoneda.obj W) := by\n  rw [isSheaf_coherent]\n  intro X α _ Y π H\n  have h_colim := isColimitOfEffectiveEpiFamilyStruct Y π H.effectiveEpiFamily.some\n  rw [← Sieve.generateFamily_eq] at h_colim\n  intro x hx\n  let x_ext := Presieve.FamilyOfElements.sieveExtend x\n  have hx_ext := Presieve.FamilyOfElements.Compatible.sieveExtend hx\n  let S := Sieve.generate (Presieve.ofArrows Y π)\n  obtain ⟨t, t_amalg, t_uniq⟩ : ∃! t, x_ext.IsAmalgamation t :=\n    (Sieve.forallYonedaIsSheaf_iff_colimit S).mpr ⟨h_colim⟩ W x_ext hx_ext\n  refine ⟨t, ?_, ?_⟩\n  · convert Presieve.isAmalgamation_restrict (Sieve.le_generate (Presieve.ofArrows Y π)) _ _ t_amalg\n    exact (Presieve.restrict_extend hx).symm\n  · exact fun y hy ↦ t_uniq y <| Presieve.isAmalgamation_sieveExtend x y hy\n\n"}
{"name":"CategoryTheory.coherentTopology.subcanonical","module":"Mathlib.CategoryTheory.Sites.Coherent.CoherentSheaves","initialProofState":"C : Type u_1\ninst✝¹ : CategoryTheory.Category.{u_2, u_1} C\ninst✝ : CategoryTheory.Precoherent C\n⊢ (CategoryTheory.coherentTopology C).Subcanonical","decl":"variable (C) in\n/-- The coherent topology on a precoherent category is subcanonical. -/\ninstance subcanonical : (coherentTopology C).Subcanonical :=\n  GrothendieckTopology.Subcanonical.of_isSheaf_yoneda_obj _ isSheaf_yoneda_obj\n\n"}
