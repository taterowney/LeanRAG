{"name":"AlgebraicGeometry.Scheme.pretopology_le_inf","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝⁴ : P.IsMultiplicative\ninst✝³ : P.RespectsIso\ninst✝² : P.IsStableUnderBaseChange\ninst✝¹ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving Top.top\n⊢ LE.le (AlgebraicGeometry.Scheme.pretopology P) (Min.min AlgebraicGeometry.Scheme.surjectiveFamiliesPretopology P.pretopology)","decl":"lemma pretopology_le_inf [IsJointlySurjectivePreserving ⊤] :\n    pretopology P ≤ surjectiveFamiliesPretopology ⊓ P.pretopology := by\n  rintro X S ⟨𝒰, rfl⟩\n  refine ⟨fun x ↦ ?_, fun ⟨i⟩ ↦ 𝒰.map_prop i⟩\n  obtain ⟨a, ha⟩ := 𝒰.covers x\n  refine ⟨𝒰.obj (𝒰.f x), a, 𝒰.map (𝒰.f x), ⟨_⟩, ha⟩\n\n"}
{"name":"AlgebraicGeometry.Scheme.grothendieckTopology_eq_inf","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝⁴ : P.IsMultiplicative\ninst✝³ : P.RespectsIso\ninst✝² : P.IsStableUnderBaseChange\ninst✝¹ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving Top.top\n⊢ Eq (AlgebraicGeometry.Scheme.grothendieckTopology P) (CategoryTheory.Pretopology.toGrothendieck AlgebraicGeometry.Scheme (Min.min AlgebraicGeometry.Scheme.surjectiveFamiliesPretopology P.pretopology))","decl":"/--\nThe Grothendieck topology defined by `P`-covers agrees with the Grothendieck\ntopology induced by the intersection of the pretopology of surjective families with\nthe pretopology defined by `P`.\n\nNote: Because of size issues, this does not hold on the level of pretopologies: A presieve\nin the intersection can have up to `Type (u + 1)` many components, while in the definition\nof `AlgebraicGeometry.Scheme.pretopology` we only allow `Type u` many components.\n-/\nlemma grothendieckTopology_eq_inf [IsJointlySurjectivePreserving ⊤] :\n    grothendieckTopology P = (surjectiveFamiliesPretopology ⊓ P.pretopology).toGrothendieck := by\n  apply le_antisymm ((Pretopology.gi Scheme.{u}).gc.monotone_l (pretopology_le_inf P))\n  intro X S ⟨T, ⟨hs, hP⟩, hle⟩\n  let _ : Type (u + 1) := Presieve X\n  let J := (Y : Scheme.{u}) × (Y ⟶ X)\n  choose Y y f hf hy using hs\n  let 𝒰 : Cover.{u} P X :=\n    { J := X\n      obj := Y\n      map := f\n      f := id\n      covers := fun x ↦ ⟨y x, hy x⟩\n      map_prop := fun x ↦ hP (hf x)\n    }\n  refine ⟨Presieve.ofArrows 𝒰.obj 𝒰.map, ⟨𝒰, rfl⟩, ?_⟩\n  rintro Z g ⟨x⟩\n  exact hle _ (hf x)\n\n"}
{"name":"AlgebraicGeometry.Scheme.pretopology_cover","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝³ : P.IsMultiplicative\ninst✝² : P.RespectsIso\ninst✝¹ : P.IsStableUnderBaseChange\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\nY : AlgebraicGeometry.Scheme\n𝒰 : AlgebraicGeometry.Scheme.Cover P Y\n⊢ (AlgebraicGeometry.Scheme.pretopology P).coverings Y (CategoryTheory.Presieve.ofArrows 𝒰.obj 𝒰.map)","decl":"lemma pretopology_cover {Y : Scheme.{u}} (𝒰 : Cover.{u} P Y) :\n    pretopology P Y (Presieve.ofArrows 𝒰.obj 𝒰.map) :=\n  ⟨𝒰, rfl⟩\n\n"}
{"name":"AlgebraicGeometry.Scheme.grothendieckTopology_cover","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝³ : P.IsMultiplicative\ninst✝² : P.RespectsIso\ninst✝¹ : P.IsStableUnderBaseChange\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\nX : AlgebraicGeometry.Scheme\n𝒰 : AlgebraicGeometry.Scheme.Cover P X\n⊢ (AlgebraicGeometry.Scheme.grothendieckTopology P) X (CategoryTheory.Sieve.generate (CategoryTheory.Presieve.ofArrows 𝒰.obj 𝒰.map))","decl":"lemma grothendieckTopology_cover {X : Scheme.{u}} (𝒰 : Cover.{v} P X) :\n    grothendieckTopology P X (Sieve.generate (Presieve.ofArrows 𝒰.obj 𝒰.map)) := by\n  let 𝒱 : Cover.{u} P X :=\n    { J := X\n      obj := fun x ↦ 𝒰.obj (𝒰.f x)\n      map := fun x ↦ 𝒰.map (𝒰.f x)\n      f := id\n      covers := 𝒰.covers\n      map_prop := fun _ ↦ 𝒰.map_prop _\n    }\n  refine ⟨_, pretopology_cover 𝒱, ?_⟩\n  rintro _ _ ⟨y⟩\n  exact ⟨_, 𝟙 _, 𝒰.map (𝒰.f y), ⟨_⟩, by simp [𝒱]⟩\n\n"}
{"name":"AlgebraicGeometry.Scheme.pretopology_le_pretopology","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝⁷ : P.IsMultiplicative\ninst✝⁶ : P.RespectsIso\ninst✝⁵ : P.IsStableUnderBaseChange\ninst✝⁴ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\nQ : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝³ : Q.IsMultiplicative\ninst✝² : Q.RespectsIso\ninst✝¹ : Q.IsStableUnderBaseChange\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving Q\nhPQ : LE.le P Q\n⊢ LE.le (AlgebraicGeometry.Scheme.pretopology P) (AlgebraicGeometry.Scheme.pretopology Q)","decl":"lemma pretopology_le_pretopology (hPQ : P ≤ Q) :\n    pretopology P ≤ pretopology Q := by\n  rintro X - ⟨𝒰, rfl⟩\n  use 𝒰.changeProp Q (fun j ↦ hPQ _ (𝒰.map_prop j))\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.grothendieckTopology_le_grothendieckTopology","module":"Mathlib.AlgebraicGeometry.Sites.MorphismProperty","initialProofState":"P : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝⁷ : P.IsMultiplicative\ninst✝⁶ : P.RespectsIso\ninst✝⁵ : P.IsStableUnderBaseChange\ninst✝⁴ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving P\nQ : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\ninst✝³ : Q.IsMultiplicative\ninst✝² : Q.RespectsIso\ninst✝¹ : Q.IsStableUnderBaseChange\ninst✝ : AlgebraicGeometry.Scheme.IsJointlySurjectivePreserving Q\nhPQ : LE.le P Q\n⊢ LE.le (AlgebraicGeometry.Scheme.grothendieckTopology P) (AlgebraicGeometry.Scheme.grothendieckTopology Q)","decl":"lemma grothendieckTopology_le_grothendieckTopology (hPQ : P ≤ Q) :\n    grothendieckTopology P ≤ grothendieckTopology Q :=\n  (Pretopology.gi Scheme.{u}).gc.monotone_l (pretopology_le_pretopology hPQ)\n\n"}
