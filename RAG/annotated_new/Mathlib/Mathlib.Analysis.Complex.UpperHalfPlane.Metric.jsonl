{"name":"UpperHalfPlane.dist_eq","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Dist.dist z w) (HMul.hMul 2 (Real.arsinh (HDiv.hDiv (Dist.dist ↑z ↑w) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt))))","decl":"theorem dist_eq (z w : ℍ) : dist z w = 2 * arsinh (dist (z : ℂ) w / (2 * √(z.im * w.im))) :=\n  rfl\n\n"}
{"name":"UpperHalfPlane.sinh_half_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.sinh (HDiv.hDiv (Dist.dist z w) 2)) (HDiv.hDiv (Dist.dist ↑z ↑w) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt))","decl":"theorem sinh_half_dist (z w : ℍ) :\n    sinh (dist z w / 2) = dist (z : ℂ) w / (2 * √(z.im * w.im)) := by\n  rw [dist_eq, mul_div_cancel_left₀ (arsinh _) two_ne_zero, sinh_arsinh]\n\n"}
{"name":"UpperHalfPlane.cosh_half_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.cosh (HDiv.hDiv (Dist.dist z w) 2)) (HDiv.hDiv (Dist.dist (↑z) ((starRingEnd Complex) ↑w)) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt))","decl":"theorem cosh_half_dist (z w : ℍ) :\n    cosh (dist z w / 2) = dist (z : ℂ) (conj (w : ℂ)) / (2 * √(z.im * w.im)) := by\n  rw [← sq_eq_sq₀, cosh_sq', sinh_half_dist, div_pow, div_pow, one_add_div, mul_pow, sq_sqrt]\n  · congr 1\n    simp only [Complex.dist_eq, Complex.sq_abs, Complex.normSq_sub, Complex.normSq_conj,\n      Complex.conj_conj, Complex.mul_re, Complex.conj_re, Complex.conj_im, coe_im]\n    ring\n  all_goals positivity\n\n"}
{"name":"UpperHalfPlane.tanh_half_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.tanh (HDiv.hDiv (Dist.dist z w) 2)) (HDiv.hDiv (Dist.dist ↑z ↑w) (Dist.dist (↑z) ((starRingEnd Complex) ↑w)))","decl":"theorem tanh_half_dist (z w : ℍ) :\n    tanh (dist z w / 2) = dist (z : ℂ) w / dist (z : ℂ) (conj ↑w) := by\n  rw [tanh_eq_sinh_div_cosh, sinh_half_dist, cosh_half_dist, div_div_div_comm, div_self, div_one]\n  positivity\n\n"}
{"name":"UpperHalfPlane.exp_half_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.exp (HDiv.hDiv (Dist.dist z w) 2)) (HDiv.hDiv (HAdd.hAdd (Dist.dist ↑z ↑w) (Dist.dist (↑z) ((starRingEnd Complex) ↑w))) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt))","decl":"theorem exp_half_dist (z w : ℍ) :\n    exp (dist z w / 2) = (dist (z : ℂ) w + dist (z : ℂ) (conj ↑w)) / (2 * √(z.im * w.im)) := by\n  rw [← sinh_add_cosh, sinh_half_dist, cosh_half_dist, add_div]\n\n"}
{"name":"UpperHalfPlane.cosh_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.cosh (Dist.dist z w)) (HAdd.hAdd 1 (HDiv.hDiv (HPow.hPow (Dist.dist ↑z ↑w) 2) (HMul.hMul (HMul.hMul 2 z.im) w.im)))","decl":"theorem cosh_dist (z w : ℍ) : cosh (dist z w) = 1 + dist (z : ℂ) w ^ 2 / (2 * z.im * w.im) := by\n  rw [dist_eq, cosh_two_mul, cosh_sq', add_assoc, ← two_mul, sinh_arsinh, div_pow, mul_pow,\n    sq_sqrt, sq (2 : ℝ), mul_assoc, ← mul_div_assoc, mul_assoc, mul_div_mul_left] <;> positivity\n\n"}
{"name":"UpperHalfPlane.sinh_half_dist_add_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"a b c : UpperHalfPlane\n⊢ Eq (Real.sinh (HDiv.hDiv (HAdd.hAdd (Dist.dist a b) (Dist.dist b c)) 2)) (HDiv.hDiv (HAdd.hAdd (HMul.hMul (Dist.dist ↑a ↑b) (Dist.dist (↑c) ((starRingEnd Complex) ↑b))) (HMul.hMul (Dist.dist ↑b ↑c) (Dist.dist (↑a) ((starRingEnd Complex) ↑b)))) (HMul.hMul (HMul.hMul 2 (HMul.hMul a.im c.im).sqrt) (Dist.dist (↑b) ((starRingEnd Complex) ↑b))))","decl":"theorem sinh_half_dist_add_dist (a b c : ℍ) : sinh ((dist a b + dist b c) / 2) =\n    (dist (a : ℂ) b * dist (c : ℂ) (conj ↑b) + dist (b : ℂ) c * dist (a : ℂ) (conj ↑b)) /\n      (2 * √(a.im * c.im) * dist (b : ℂ) (conj ↑b)) := by\n  simp only [add_div _ _ (2 : ℝ), sinh_add, sinh_half_dist, cosh_half_dist, div_mul_div_comm]\n  rw [← add_div, Complex.dist_self_conj, coe_im, abs_of_pos b.im_pos, mul_comm (dist (b : ℂ) _),\n    dist_comm (b : ℂ), Complex.dist_conj_comm, mul_mul_mul_comm, mul_mul_mul_comm _ _ _ b.im]\n  congr 2\n  rw [sqrt_mul, sqrt_mul, sqrt_mul, mul_comm (√a.im), mul_mul_mul_comm, mul_self_sqrt,\n      mul_comm] <;> exact (im_pos _).le\n\n"}
{"name":"UpperHalfPlane.dist_comm","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Dist.dist z w) (Dist.dist w z)","decl":"protected theorem dist_comm (z w : ℍ) : dist z w = dist w z := by\n  simp only [dist_eq, dist_comm (z : ℂ), mul_comm]\n\n"}
{"name":"UpperHalfPlane.dist_le_iff_le_sinh","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (LE.le (Dist.dist z w) r) (LE.le (HDiv.hDiv (Dist.dist ↑z ↑w) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt)) (Real.sinh (HDiv.hDiv r 2)))","decl":"theorem dist_le_iff_le_sinh :\n    dist z w ≤ r ↔ dist (z : ℂ) w / (2 * √(z.im * w.im)) ≤ sinh (r / 2) := by\n  rw [← div_le_div_iff_of_pos_right (zero_lt_two' ℝ), ← sinh_le_sinh, sinh_half_dist]\n\n"}
{"name":"UpperHalfPlane.dist_eq_iff_eq_sinh","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (Eq (Dist.dist z w) r) (Eq (HDiv.hDiv (Dist.dist ↑z ↑w) (HMul.hMul 2 (HMul.hMul z.im w.im).sqrt)) (Real.sinh (HDiv.hDiv r 2)))","decl":"theorem dist_eq_iff_eq_sinh :\n    dist z w = r ↔ dist (z : ℂ) w / (2 * √(z.im * w.im)) = sinh (r / 2) := by\n  rw [← div_left_inj' (two_ne_zero' ℝ), ← sinh_inj, sinh_half_dist]\n\n"}
{"name":"UpperHalfPlane.dist_eq_iff_eq_sq_sinh","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\nhr : LE.le 0 r\n⊢ Iff (Eq (Dist.dist z w) r) (Eq (HDiv.hDiv (HPow.hPow (Dist.dist ↑z ↑w) 2) (HMul.hMul (HMul.hMul 4 z.im) w.im)) (HPow.hPow (Real.sinh (HDiv.hDiv r 2)) 2))","decl":"theorem dist_eq_iff_eq_sq_sinh (hr : 0 ≤ r) :\n    dist z w = r ↔ dist (z : ℂ) w ^ 2 / (4 * z.im * w.im) = sinh (r / 2) ^ 2 := by\n  rw [dist_eq_iff_eq_sinh, ← sq_eq_sq₀, div_pow, mul_pow, sq_sqrt, mul_assoc]\n  · norm_num\n  all_goals positivity\n\n"}
{"name":"UpperHalfPlane.dist_triangle","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"a b c : UpperHalfPlane\n⊢ LE.le (Dist.dist a c) (HAdd.hAdd (Dist.dist a b) (Dist.dist b c))","decl":"protected theorem dist_triangle (a b c : ℍ) : dist a c ≤ dist a b + dist b c := by\n  rw [dist_le_iff_le_sinh, sinh_half_dist_add_dist, div_mul_eq_div_div _ _ (dist _ _), le_div_iff₀,\n    div_mul_eq_mul_div]\n  · gcongr\n    exact EuclideanGeometry.mul_dist_le_mul_dist_add_mul_dist (a : ℂ) b c (conj (b : ℂ))\n  · rw [dist_comm, dist_pos, Ne, Complex.conj_eq_iff_im]\n    exact b.im_ne_zero\n\n"}
{"name":"UpperHalfPlane.dist_le_dist_coe_div_sqrt","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le (Dist.dist z w) (HDiv.hDiv (Dist.dist ↑z ↑w) (HMul.hMul z.im w.im).sqrt)","decl":"theorem dist_le_dist_coe_div_sqrt (z w : ℍ) : dist z w ≤ dist (z : ℂ) w / √(z.im * w.im) := by\n  rw [dist_le_iff_le_sinh, ← div_mul_eq_div_div_swap, self_le_sinh_iff]\n  positivity\n\n"}
{"name":"UpperHalfPlane.cosh_dist'","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Real.cosh (Dist.dist z w)) (HDiv.hDiv (HAdd.hAdd (HAdd.hAdd (HPow.hPow (HSub.hSub z.re w.re) 2) (HPow.hPow z.im 2)) (HPow.hPow w.im 2)) (HMul.hMul (HMul.hMul 2 z.im) w.im))","decl":"theorem cosh_dist' (z w : ℍ) :\n    Real.cosh (dist z w) = ((z.re - w.re) ^ 2 + z.im ^ 2 + w.im ^ 2) / (2 * z.im * w.im) := by\n  field_simp [cosh_dist, Complex.dist_eq, Complex.sq_abs, normSq_apply]\n  ring\n\n"}
{"name":"UpperHalfPlane.center_re","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (z.center r).re z.re","decl":"@[simp]\ntheorem center_re (z r) : (center z r).re = z.re :=\n  rfl\n\n"}
{"name":"UpperHalfPlane.center_im","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (z.center r).im (HMul.hMul z.im (Real.cosh r))","decl":"@[simp]\ntheorem center_im (z r) : (center z r).im = z.im * Real.cosh r :=\n  rfl\n\n"}
{"name":"UpperHalfPlane.center_zero","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\n⊢ Eq (z.center 0) z","decl":"@[simp]\ntheorem center_zero (z : ℍ) : center z 0 = z :=\n  ext' rfl <| by rw [center_im, Real.cosh_zero, mul_one]\n\n"}
{"name":"UpperHalfPlane.dist_coe_center_sq","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Eq (HPow.hPow (Dist.dist ↑z ↑(w.center r)) 2) (HAdd.hAdd (HMul.hMul (HMul.hMul (HMul.hMul 2 z.im) w.im) (HSub.hSub (Real.cosh (Dist.dist z w)) (Real.cosh r))) (HPow.hPow (HMul.hMul w.im (Real.sinh r)) 2))","decl":"theorem dist_coe_center_sq (z w : ℍ) (r : ℝ) : dist (z : ℂ) (w.center r) ^ 2 =\n    2 * z.im * w.im * (Real.cosh (dist z w) - Real.cosh r) + (w.im * Real.sinh r) ^ 2 := by\n  have H : 2 * z.im * w.im ≠ 0 := by positivity\n  simp only [Complex.dist_eq, Complex.sq_abs, normSq_apply, coe_re, coe_im, center_re, center_im,\n    cosh_dist', mul_div_cancel₀ _ H, sub_sq z.im, mul_pow, Real.cosh_sq, sub_re, sub_im, mul_sub, ←\n    sq]\n  ring\n\n"}
{"name":"UpperHalfPlane.dist_coe_center","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Eq (Dist.dist ↑z ↑(w.center r)) (HAdd.hAdd (HMul.hMul (HMul.hMul (HMul.hMul 2 z.im) w.im) (HSub.hSub (Real.cosh (Dist.dist z w)) (Real.cosh r))) (HPow.hPow (HMul.hMul w.im (Real.sinh r)) 2)).sqrt","decl":"theorem dist_coe_center (z w : ℍ) (r : ℝ) : dist (z : ℂ) (w.center r) =\n    √(2 * z.im * w.im * (Real.cosh (dist z w) - Real.cosh r) + (w.im * Real.sinh r) ^ 2) := by\n  rw [← sqrt_sq dist_nonneg, dist_coe_center_sq]\n\n"}
{"name":"UpperHalfPlane.cmp_dist_eq_cmp_dist_coe_center","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Eq (cmp (Dist.dist z w) r) (cmp (Dist.dist ↑z ↑(w.center r)) (HMul.hMul w.im (Real.sinh r)))","decl":"theorem cmp_dist_eq_cmp_dist_coe_center (z w : ℍ) (r : ℝ) :\n    cmp (dist z w) r = cmp (dist (z : ℂ) (w.center r)) (w.im * Real.sinh r) := by\n  letI := metricSpaceAux\n  cases' lt_or_le r 0 with hr₀ hr₀\n  · trans Ordering.gt\n    exacts [(hr₀.trans_le dist_nonneg).cmp_eq_gt,\n      ((mul_neg_of_pos_of_neg w.im_pos (sinh_neg_iff.2 hr₀)).trans_le dist_nonneg).cmp_eq_gt.symm]\n  have hr₀' : 0 ≤ w.im * Real.sinh r := by positivity\n  have hzw₀ : 0 < 2 * z.im * w.im := by positivity\n  #adaptation_note /-- https://github.com/leanprover/lean4/pull/6024\n  we need to give Lean the hint `(y := w.im * Real.sinh r)`. -/\n  simp only [← cosh_strictMonoOn.cmp_map_eq dist_nonneg hr₀,\n    ← (pow_left_strictMonoOn₀ two_ne_zero).cmp_map_eq dist_nonneg (y := w.im * Real.sinh r) hr₀',\n    dist_coe_center_sq]\n  rw [← cmp_mul_pos_left hzw₀, ← cmp_sub_zero, ← mul_sub, ← cmp_add_right, zero_add]\n\n"}
{"name":"UpperHalfPlane.dist_eq_iff_dist_coe_center_eq","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (Eq (Dist.dist z w) r) (Eq (Dist.dist ↑z ↑(w.center r)) (HMul.hMul w.im (Real.sinh r)))","decl":"theorem dist_eq_iff_dist_coe_center_eq :\n    dist z w = r ↔ dist (z : ℂ) (w.center r) = w.im * Real.sinh r :=\n  eq_iff_eq_of_cmp_eq_cmp (cmp_dist_eq_cmp_dist_coe_center z w r)\n\n"}
{"name":"UpperHalfPlane.dist_self_center","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (Dist.dist ↑z ↑(z.center r)) (HMul.hMul z.im (HSub.hSub (Real.cosh r) 1))","decl":"@[simp]\ntheorem dist_self_center (z : ℍ) (r : ℝ) :\n    dist (z : ℂ) (z.center r) = z.im * (Real.cosh r - 1) := by\n  rw [dist_of_re_eq (z.center_re r).symm, dist_comm, Real.dist_eq, mul_sub, mul_one]\n  exact abs_of_nonneg (sub_nonneg.2 <| le_mul_of_one_le_right z.im_pos.le (one_le_cosh _))\n\n"}
{"name":"UpperHalfPlane.dist_center_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ Eq (Dist.dist ↑z ↑(w.center (Dist.dist z w))) (HMul.hMul w.im (Real.sinh (Dist.dist z w)))","decl":"@[simp]\ntheorem dist_center_dist (z w : ℍ) :\n    dist (z : ℂ) (w.center (dist z w)) = w.im * Real.sinh (dist z w) :=\n  dist_eq_iff_dist_coe_center_eq.1 rfl\n\n"}
{"name":"UpperHalfPlane.dist_lt_iff_dist_coe_center_lt","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (LT.lt (Dist.dist z w) r) (LT.lt (Dist.dist ↑z ↑(w.center r)) (HMul.hMul w.im (Real.sinh r)))","decl":"theorem dist_lt_iff_dist_coe_center_lt :\n    dist z w < r ↔ dist (z : ℂ) (w.center r) < w.im * Real.sinh r :=\n  lt_iff_lt_of_cmp_eq_cmp (cmp_dist_eq_cmp_dist_coe_center z w r)\n\n"}
{"name":"UpperHalfPlane.lt_dist_iff_lt_dist_coe_center","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (LT.lt r (Dist.dist z w)) (LT.lt (HMul.hMul w.im (Real.sinh r)) (Dist.dist ↑z ↑(w.center r)))","decl":"theorem lt_dist_iff_lt_dist_coe_center :\n    r < dist z w ↔ w.im * Real.sinh r < dist (z : ℂ) (w.center r) :=\n  lt_iff_lt_of_cmp_eq_cmp (cmp_eq_cmp_symm.1 <| cmp_dist_eq_cmp_dist_coe_center z w r)\n\n"}
{"name":"UpperHalfPlane.dist_le_iff_dist_coe_center_le","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (LE.le (Dist.dist z w) r) (LE.le (Dist.dist ↑z ↑(w.center r)) (HMul.hMul w.im (Real.sinh r)))","decl":"theorem dist_le_iff_dist_coe_center_le :\n    dist z w ≤ r ↔ dist (z : ℂ) (w.center r) ≤ w.im * Real.sinh r :=\n  le_iff_le_of_cmp_eq_cmp (cmp_dist_eq_cmp_dist_coe_center z w r)\n\n"}
{"name":"UpperHalfPlane.le_dist_iff_le_dist_coe_center","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nr : Real\n⊢ Iff (LT.lt r (Dist.dist z w)) (LT.lt (HMul.hMul w.im (Real.sinh r)) (Dist.dist ↑z ↑(w.center r)))","decl":"theorem le_dist_iff_le_dist_coe_center :\n    r < dist z w ↔ w.im * Real.sinh r < dist (z : ℂ) (w.center r) :=\n  lt_iff_lt_of_cmp_eq_cmp (cmp_eq_cmp_symm.1 <| cmp_dist_eq_cmp_dist_coe_center z w r)\n\n"}
{"name":"UpperHalfPlane.dist_of_re_eq","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\nh : Eq z.re w.re\n⊢ Eq (Dist.dist z w) (Dist.dist (Real.log z.im) (Real.log w.im))","decl":"/-- For two points on the same vertical line, the distance is equal to the distance between the\nlogarithms of their imaginary parts. -/\nnonrec theorem dist_of_re_eq (h : z.re = w.re) : dist z w = dist (log z.im) (log w.im) := by\n  have h₀ : 0 < z.im / w.im := by positivity\n  rw [dist_eq_iff_dist_coe_center_eq, Real.dist_eq, ← abs_sinh, ← log_div z.im_ne_zero w.im_ne_zero,\n    sinh_log h₀, dist_of_re_eq, coe_im, coe_im, center_im, cosh_abs, cosh_log h₀, inv_div] <;>\n  [skip; exact h]\n  nth_rw 4 [← abs_of_pos w.im_pos]\n  simp only [← _root_.abs_mul, coe_im, Real.dist_eq]\n  congr 1\n  field_simp\n  ring\n"}
{"name":"UpperHalfPlane.dist_log_im_le","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le (Dist.dist (Real.log z.im) (Real.log w.im)) (Dist.dist z w)","decl":"/-- Hyperbolic distance between two points is greater than or equal to the distance between the\nlogarithms of their imaginary parts. -/\ntheorem dist_log_im_le (z w : ℍ) : dist (log z.im) (log w.im) ≤ dist z w :=\n  calc\n    dist (log z.im) (log w.im) = dist (mk ⟨0, z.im⟩ z.im_pos) (mk ⟨0, w.im⟩ w.im_pos) :=\n      Eq.symm <| dist_of_re_eq rfl\n    _ ≤ dist z w := by\n      simp_rw [dist_eq]\n      dsimp only [coe_mk, mk_im]\n      gcongr\n      simpa [sqrt_sq_eq_abs] using Complex.abs_im_le_abs (z - w)\n\n"}
{"name":"UpperHalfPlane.im_le_im_mul_exp_dist","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le z.im (HMul.hMul w.im (Real.exp (Dist.dist z w)))","decl":"theorem im_le_im_mul_exp_dist (z w : ℍ) : z.im ≤ w.im * Real.exp (dist z w) := by\n  rw [← div_le_iff₀' w.im_pos, ← exp_log z.im_pos, ← exp_log w.im_pos, ← Real.exp_sub, exp_le_exp]\n  exact (le_abs_self _).trans (dist_log_im_le z w)\n\n"}
{"name":"UpperHalfPlane.im_div_exp_dist_le","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le (HDiv.hDiv z.im (Real.exp (Dist.dist z w))) w.im","decl":"theorem im_div_exp_dist_le (z w : ℍ) : z.im / Real.exp (dist z w) ≤ w.im :=\n  (div_le_iff₀ (exp_pos _)).2 (im_le_im_mul_exp_dist z w)\n\n"}
{"name":"UpperHalfPlane.dist_coe_le","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le (Dist.dist ↑z ↑w) (HMul.hMul w.im (HSub.hSub (Real.exp (Dist.dist z w)) 1))","decl":"/-- An upper estimate on the complex distance between two points in terms of the hyperbolic distance\nand the imaginary part of one of the points. -/\ntheorem dist_coe_le (z w : ℍ) : dist (z : ℂ) w ≤ w.im * (Real.exp (dist z w) - 1) :=\n  calc\n    dist (z : ℂ) w ≤ dist (z : ℂ) (w.center (dist z w)) + dist (w : ℂ) (w.center (dist z w)) :=\n      dist_triangle_right _ _ _\n    _ = w.im * (Real.exp (dist z w) - 1) := by\n      rw [dist_center_dist, dist_self_center, ← mul_add, ← add_sub_assoc, Real.sinh_add_cosh]\n\n"}
{"name":"UpperHalfPlane.le_dist_coe","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z w : UpperHalfPlane\n⊢ LE.le (HMul.hMul w.im (HSub.hSub 1 (Real.exp (Neg.neg (Dist.dist z w))))) (Dist.dist ↑z ↑w)","decl":"/-- An upper estimate on the complex distance between two points in terms of the hyperbolic distance\nand the imaginary part of one of the points. -/\ntheorem le_dist_coe (z w : ℍ) : w.im * (1 - Real.exp (-dist z w)) ≤ dist (z : ℂ) w :=\n  calc\n    w.im * (1 - Real.exp (-dist z w)) =\n        dist (z : ℂ) (w.center (dist z w)) - dist (w : ℂ) (w.center (dist z w)) := by\n      rw [dist_center_dist, dist_self_center, ← Real.cosh_sub_sinh]; ring\n    _ ≤ dist (z : ℂ) w := sub_le_iff_le_add.2 <| dist_triangle _ _ _\n\n"}
{"name":"UpperHalfPlane.im_pos_of_dist_center_le","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\nw : Complex\nh : LE.le (Dist.dist w ↑(z.center r)) (HMul.hMul z.im (Real.sinh r))\n⊢ LT.lt 0 w.im","decl":"theorem im_pos_of_dist_center_le {z : ℍ} {r : ℝ} {w : ℂ}\n    (h : dist w (center z r) ≤ z.im * Real.sinh r) : 0 < w.im :=\n  calc\n    0 < z.im * (Real.cosh r - Real.sinh r) := mul_pos z.im_pos (sub_pos.2 <| sinh_lt_cosh _)\n    _ = (z.center r).im - z.im * Real.sinh r := mul_sub _ _ _\n    _ ≤ (z.center r).im - dist (z.center r : ℂ) w := sub_le_sub_left (by rwa [dist_comm]) _\n    _ ≤ w.im := sub_le_comm.1 <| (le_abs_self _).trans (abs_im_le_abs <| z.center r - w)\n\n"}
{"name":"UpperHalfPlane.image_coe_closedBall","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (Set.image UpperHalfPlane.coe (Metric.closedBall z r)) (Metric.closedBall (↑(z.center r)) (HMul.hMul z.im (Real.sinh r)))","decl":"theorem image_coe_closedBall (z : ℍ) (r : ℝ) :\n    ((↑) : ℍ → ℂ) '' closedBall (α := ℍ) z r = closedBall ↑(z.center r) (z.im * Real.sinh r) := by\n  ext w; constructor\n  · rintro ⟨w, hw, rfl⟩\n    exact dist_le_iff_dist_coe_center_le.1 hw\n  · intro hw\n    lift w to ℍ using im_pos_of_dist_center_le hw\n    exact mem_image_of_mem _ (dist_le_iff_dist_coe_center_le.2 hw)\n\n"}
{"name":"UpperHalfPlane.image_coe_ball","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (Set.image UpperHalfPlane.coe (Metric.ball z r)) (Metric.ball (↑(z.center r)) (HMul.hMul z.im (Real.sinh r)))","decl":"theorem image_coe_ball (z : ℍ) (r : ℝ) :\n    ((↑) : ℍ → ℂ) '' ball (α := ℍ) z r = ball ↑(z.center r) (z.im * Real.sinh r) := by\n  ext w; constructor\n  · rintro ⟨w, hw, rfl⟩\n    exact dist_lt_iff_dist_coe_center_lt.1 hw\n  · intro hw\n    lift w to ℍ using im_pos_of_dist_center_le (ball_subset_closedBall hw)\n    exact mem_image_of_mem _ (dist_lt_iff_dist_coe_center_lt.2 hw)\n\n"}
{"name":"UpperHalfPlane.image_coe_sphere","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"z : UpperHalfPlane\nr : Real\n⊢ Eq (Set.image UpperHalfPlane.coe (Metric.sphere z r)) (Metric.sphere (↑(z.center r)) (HMul.hMul z.im (Real.sinh r)))","decl":"theorem image_coe_sphere (z : ℍ) (r : ℝ) :\n    ((↑) : ℍ → ℂ) '' sphere (α := ℍ) z r = sphere ↑(z.center r) (z.im * Real.sinh r) := by\n  ext w; constructor\n  · rintro ⟨w, hw, rfl⟩\n    exact dist_eq_iff_dist_coe_center_eq.1 hw\n  · intro hw\n    lift w to ℍ using im_pos_of_dist_center_le (sphere_subset_closedBall hw)\n    exact mem_image_of_mem _ (dist_eq_iff_dist_coe_center_eq.2 hw)\n\n"}
{"name":"UpperHalfPlane.instProperSpace","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"⊢ ProperSpace UpperHalfPlane","decl":"instance : ProperSpace ℍ := by\n  refine ⟨fun z r => ?_⟩\n  rw [IsInducing.subtypeVal.isCompact_iff (f := ((↑) : ℍ → ℂ)), image_coe_closedBall]\n  apply isCompact_closedBall\n\n"}
{"name":"UpperHalfPlane.isometry_vertical_line","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"a : Real\n⊢ Isometry fun y => UpperHalfPlane.mk { re := a, im := Real.exp y } ⋯","decl":"theorem isometry_vertical_line (a : ℝ) : Isometry fun y => mk ⟨a, exp y⟩ (exp_pos y) := by\n  refine Isometry.of_dist_eq fun y₁ y₂ => ?_\n  rw [dist_of_re_eq]\n  exacts [congr_arg₂ _ (log_exp _) (log_exp _), rfl]\n\n"}
{"name":"UpperHalfPlane.isometry_real_vadd","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"a : Real\n⊢ Isometry fun x => HVAdd.hVAdd a x","decl":"theorem isometry_real_vadd (a : ℝ) : Isometry (a +ᵥ · : ℍ → ℍ) :=\n  Isometry.of_dist_eq fun y₁ y₂ => by simp only [dist_eq, coe_vadd, vadd_im, dist_add_left]\n\n"}
{"name":"UpperHalfPlane.isometry_pos_mul","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"a : Subtype fun x => LT.lt 0 x\n⊢ Isometry fun x => HSMul.hSMul a x","decl":"theorem isometry_pos_mul (a : { x : ℝ // 0 < x }) : Isometry (a • · : ℍ → ℍ) := by\n  refine Isometry.of_dist_eq fun y₁ y₂ => ?_\n  simp only [dist_eq, coe_pos_real_smul, pos_real_im]; congr 2\n  rw [dist_smul₀, mul_mul_mul_comm, Real.sqrt_mul (mul_self_nonneg _), Real.sqrt_mul_self_eq_abs,\n    Real.norm_eq_abs, mul_left_comm]\n  exact mul_div_mul_left _ _ (mt _root_.abs_eq_zero.1 a.2.ne')\n\n"}
{"name":"UpperHalfPlane.instIsometricSMulSpecialLinearGroupFinOfNatNatReal","module":"Mathlib.Analysis.Complex.UpperHalfPlane.Metric","initialProofState":"⊢ IsometricSMul (Matrix.SpecialLinearGroup (Fin 2) Real) UpperHalfPlane","decl":"/-- `SL(2, ℝ)` acts on the upper half plane as an isometry. -/\ninstance : IsometricSMul SL(2, ℝ) ℍ :=\n  ⟨fun g => by\n    have h₀ : Isometry (fun z => ModularGroup.S • z : ℍ → ℍ) :=\n      Isometry.of_dist_eq fun y₁ y₂ => by\n        have h₁ : 0 ≤ im y₁ * im y₂ := mul_nonneg y₁.property.le y₂.property.le\n        have h₂ : Complex.abs (y₁ * y₂) ≠ 0 := by simp [y₁.ne_zero, y₂.ne_zero]\n        simp only [dist_eq, modular_S_smul, inv_neg, neg_div, div_mul_div_comm, coe_mk, mk_im,\n          div_one, Complex.inv_im, Complex.neg_im, coe_im, neg_neg, Complex.normSq_neg,\n          mul_eq_mul_left_iff, Real.arsinh_inj, one_ne_zero,\n          dist_neg_neg, mul_neg, neg_mul, dist_inv_inv₀ y₁.ne_zero y₂.ne_zero, ←\n          AbsoluteValue.map_mul, ← Complex.normSq_mul, Real.sqrt_div h₁, ← Complex.abs_apply,\n          mul_div (2 : ℝ), div_div_div_comm, div_self h₂, Complex.norm_eq_abs]\n    by_cases hc : g 1 0 = 0\n    · obtain ⟨u, v, h⟩ := exists_SL2_smul_eq_of_apply_zero_one_eq_zero g hc\n      rw [h]\n      exact (isometry_real_vadd v).comp (isometry_pos_mul u)\n    · obtain ⟨u, v, w, h⟩ := exists_SL2_smul_eq_of_apply_zero_one_ne_zero g hc\n      rw [h]\n      exact\n        (isometry_real_vadd w).comp (h₀.comp <| (isometry_real_vadd v).comp <| isometry_pos_mul u)⟩\n\n"}
