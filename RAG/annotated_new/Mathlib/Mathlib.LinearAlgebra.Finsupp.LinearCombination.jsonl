{"name":"Finsupp.linearCombination_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v) l) (l.sum fun i a => HSMul.hSMul a (v i))","decl":"theorem linearCombination_apply (l : α →₀ R) : linearCombination R v l = l.sum fun i a => a • v i :=\n  rfl\n\n"}
{"name":"Finsupp.total_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v) l) (l.sum fun i a => HSMul.hSMul a (v i))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_apply := linearCombination_apply\n\n"}
{"name":"Finsupp.linearCombination_apply_of_mem_supported","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nl : Finsupp α R\ns : Finset α\nhs : Membership.mem (Finsupp.supported R R ↑s) l\n⊢ Eq ((Finsupp.linearCombination R v) l) (s.sum fun i => HSMul.hSMul (l i) (v i))","decl":"theorem linearCombination_apply_of_mem_supported {l : α →₀ R} {s : Finset α}\n    (hs : l ∈ supported R R (↑s : Set α)) : linearCombination R v l = s.sum fun i => l i • v i :=\n  Finset.sum_subset hs fun x _ hxg =>\n    show l x • v x = 0 by rw [not_mem_support_iff.1 hxg, zero_smul]\n\n"}
{"name":"Finsupp.total_apply_of_mem_supported","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nl : Finsupp α R\ns : Finset α\nhs : Membership.mem (Finsupp.supported R R ↑s) l\n⊢ Eq ((Finsupp.linearCombination R v) l) (s.sum fun i => HSMul.hSMul (l i) (v i))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_apply_of_mem_supported :=\n  linearCombination_apply_of_mem_supported\n\n"}
{"name":"Finsupp.linearCombination_single","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nc : R\na : α\n⊢ Eq ((Finsupp.linearCombination R v) (Finsupp.single a c)) (HSMul.hSMul c (v a))","decl":"@[simp]\ntheorem linearCombination_single (c : R) (a : α) :\n    linearCombination R v (single a c) = c • v a := by\n  simp [linearCombination_apply, sum_single_index]\n\n"}
{"name":"Finsupp.total_single","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nc : R\na : α\n⊢ Eq ((Finsupp.linearCombination R v) (Finsupp.single a c)) (HSMul.hSMul c (v a))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_single := linearCombination_single\n\n"}
{"name":"Finsupp.linearCombination_zero_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nx : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R 0) x) 0","decl":"theorem linearCombination_zero_apply (x : α →₀ R) : (linearCombination R (0 : α → M)) x = 0 := by\n  simp [linearCombination_apply]\n\n"}
{"name":"Finsupp.total_zero_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nx : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R 0) x) 0","decl":"@[deprecated (since := \"2024-08-29\")] alias total_zero_apply := linearCombination_zero_apply\n\n"}
{"name":"Finsupp.linearCombination_zero","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\n⊢ Eq (Finsupp.linearCombination R 0) 0","decl":"@[simp]\ntheorem linearCombination_zero : linearCombination R (0 : α → M) = 0 :=\n  LinearMap.ext (linearCombination_zero_apply R)\n\n"}
{"name":"Finsupp.linearCombination_single_index","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝³ : Semiring R\ninst✝² : AddCommMonoid M\ninst✝¹ : Module R M\nc : M\na : α\nf : Finsupp α R\ninst✝ : DecidableEq α\n⊢ Eq ((Finsupp.linearCombination R (Pi.single a c)) f) (HSMul.hSMul (f a) c)","decl":"@[simp]\ntheorem linearCombination_single_index (c : M) (a : α) (f : α →₀ R) [DecidableEq α] :\n    linearCombination R (Pi.single a c) f = f a • c := by\n  rw [linearCombination_apply, sum_eq_single a, Pi.single_eq_same]\n  · exact fun i _ hi ↦ by rw [Pi.single_eq_of_ne hi, smul_zero]\n  · exact fun _ ↦ by simp only [single_eq_same, zero_smul]\n\n"}
{"name":"Finsupp.total_zero","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\n⊢ Eq (Finsupp.linearCombination R 0) 0","decl":"@[deprecated (since := \"2024-08-29\")] alias total_zero := linearCombination_zero\n\n"}
{"name":"Finsupp.linearCombination_linear_comp","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv : α → M\nf : LinearMap (RingHom.id R) M M'\n⊢ Eq (Finsupp.linearCombination R (Function.comp (⇑f) v)) (f.comp (Finsupp.linearCombination R v))","decl":"theorem linearCombination_linear_comp (f : M →ₗ[R] M') :\n    linearCombination R (f ∘ v) = f ∘ₗ linearCombination R v := by\n  ext\n  simp [linearCombination_apply]\n\n"}
{"name":"Finsupp.apply_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nf : LinearMap (RingHom.id R) M M'\nv : α → M\nl : Finsupp α R\n⊢ Eq (f ((Finsupp.linearCombination R v) l)) ((Finsupp.linearCombination R (Function.comp (⇑f) v)) l)","decl":"theorem apply_linearCombination (f : M →ₗ[R] M') (v) (l : α →₀ R) :\n    f (linearCombination R v l) = linearCombination R (f ∘ v) l :=\n  congr($(linearCombination_linear_comp R f) l).symm\n\n"}
{"name":"Finsupp.apply_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nf : LinearMap (RingHom.id R) M M'\nv : α → M\nl : Finsupp α R\n⊢ Eq (f ((Finsupp.linearCombination R v) l)) ((Finsupp.linearCombination R (Function.comp (⇑f) v)) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias apply_total := apply_linearCombination\n\n"}
{"name":"Finsupp.apply_linearCombination_id","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nf : LinearMap (RingHom.id R) M M'\nl : Finsupp M R\n⊢ Eq (f ((Finsupp.linearCombination R id) l)) ((Finsupp.linearCombination R ⇑f) l)","decl":"theorem apply_linearCombination_id (f : M →ₗ[R] M') (l : M →₀ R) :\n    f (linearCombination R _root_.id l) = linearCombination R f l :=\n  apply_linearCombination ..\n\n"}
{"name":"Finsupp.apply_total_id","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nf : LinearMap (RingHom.id R) M M'\nl : Finsupp M R\n⊢ Eq (f ((Finsupp.linearCombination R id) l)) ((Finsupp.linearCombination R ⇑f) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias apply_total_id := apply_linearCombination_id\n\n"}
{"name":"Finsupp.linearCombination_unique","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝³ : Semiring R\ninst✝² : AddCommMonoid M\ninst✝¹ : Module R M\ninst✝ : Unique α\nl : Finsupp α R\nv : α → M\n⊢ Eq ((Finsupp.linearCombination R v) l) (HSMul.hSMul (l Inhabited.default) (v Inhabited.default))","decl":"theorem linearCombination_unique [Unique α] (l : α →₀ R) (v : α → M) :\n    linearCombination R v l = l default • v default := by\n  rw [← linearCombination_single, ← unique_single l]\n\n"}
{"name":"Finsupp.total_unique","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝³ : Semiring R\ninst✝² : AddCommMonoid M\ninst✝¹ : Module R M\ninst✝ : Unique α\nl : Finsupp α R\nv : α → M\n⊢ Eq ((Finsupp.linearCombination R v) l) (HSMul.hSMul (l Inhabited.default) (v Inhabited.default))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_unique := linearCombination_unique\n\n"}
{"name":"Finsupp.linearCombination_surjective","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nh : Function.Surjective v\n⊢ Function.Surjective ⇑(Finsupp.linearCombination R v)","decl":"theorem linearCombination_surjective (h : Function.Surjective v) :\n    Function.Surjective (linearCombination R v) := by\n  intro x\n  obtain ⟨y, hy⟩ := h x\n  exact ⟨Finsupp.single y 1, by simp [hy]⟩\n\n"}
{"name":"Finsupp.total_surjective","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nh : Function.Surjective v\n⊢ Function.Surjective ⇑(Finsupp.linearCombination R v)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_surjective := linearCombination_surjective\n\n"}
{"name":"Finsupp.linearCombination_range","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nh : Function.Surjective v\n⊢ Eq (LinearMap.range (Finsupp.linearCombination R v)) Top.top","decl":"theorem linearCombination_range (h : Function.Surjective v) :\n    LinearMap.range (linearCombination R v) = ⊤ :=\n  range_eq_top.2 <| linearCombination_surjective R h\n\n"}
{"name":"Finsupp.total_range","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nh : Function.Surjective v\n⊢ Eq (LinearMap.range (Finsupp.linearCombination R v)) Top.top","decl":"@[deprecated (since := \"2024-08-29\")] alias total_range := linearCombination_range\n\n"}
{"name":"Finsupp.linearCombination_id_surjective","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_5\ninst✝² : Semiring R\nM : Type u_9\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\n⊢ Function.Surjective ⇑(Finsupp.linearCombination R id)","decl":"/-- Any module is a quotient of a free module. This is stated as surjectivity of\n`Finsupp.linearCombination R id : (M →₀ R) →ₗ[R] M`. -/\ntheorem linearCombination_id_surjective (M) [AddCommMonoid M] [Module R M] :\n    Function.Surjective (linearCombination R (id : M → M)) :=\n  linearCombination_surjective R Function.surjective_id\n\n"}
{"name":"Finsupp.total_id_surjective","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_5\ninst✝² : Semiring R\nM : Type u_9\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\n⊢ Function.Surjective ⇑(Finsupp.linearCombination R id)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_id_surjective := linearCombination_id_surjective\n\n"}
{"name":"Finsupp.range_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\n⊢ Eq (LinearMap.range (Finsupp.linearCombination R v)) (Submodule.span R (Set.range v))","decl":"theorem range_linearCombination : LinearMap.range (linearCombination R v) = span R (range v) := by\n  ext x\n  constructor\n  · intro hx\n    rw [LinearMap.mem_range] at hx\n    rcases hx with ⟨l, hl⟩\n    rw [← hl]\n    rw [linearCombination_apply]\n    exact sum_mem fun i _ => Submodule.smul_mem _ _ (subset_span (mem_range_self i))\n  · apply span_le.2\n    intro x hx\n    rcases hx with ⟨i, hi⟩\n    rw [SetLike.mem_coe, LinearMap.mem_range]\n    use Finsupp.single i 1\n    simp [hi]\n\n"}
{"name":"Finsupp.range_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\n⊢ Eq (LinearMap.range (Finsupp.linearCombination R v)) (Submodule.span R (Set.range v))","decl":"@[deprecated (since := \"2024-08-29\")] alias range_total := range_linearCombination\n\n"}
{"name":"Finsupp.lmapDomain_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv : α → M\nv' : α' → M'\nf : α → α'\ng : LinearMap (RingHom.id R) M M'\nh : ∀ (i : α), Eq (g (v i)) (v' (f i))\n⊢ Eq ((Finsupp.linearCombination R v').comp (Finsupp.lmapDomain R R f)) (g.comp (Finsupp.linearCombination R v))","decl":"theorem lmapDomain_linearCombination (f : α → α') (g : M →ₗ[R] M') (h : ∀ i, g (v i) = v' (f i)) :\n    (linearCombination R v').comp (lmapDomain R R f) = g.comp (linearCombination R v) := by\n  ext l\n  simp [linearCombination_apply, Finsupp.sum_mapDomain_index, add_smul, h]\n\n"}
{"name":"Finsupp.lmapDomain_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv : α → M\nv' : α' → M'\nf : α → α'\ng : LinearMap (RingHom.id R) M M'\nh : ∀ (i : α), Eq (g (v i)) (v' (f i))\n⊢ Eq ((Finsupp.linearCombination R v').comp (Finsupp.lmapDomain R R f)) (g.comp (Finsupp.linearCombination R v))","decl":"@[deprecated (since := \"2024-08-29\")] alias lmapDomain_total := lmapDomain_linearCombination\n\n"}
{"name":"Finsupp.linearCombination_comp_lmapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : α → α'\n⊢ Eq ((Finsupp.linearCombination R v').comp (Finsupp.lmapDomain R R f)) (Finsupp.linearCombination R (Function.comp v' f))","decl":"theorem linearCombination_comp_lmapDomain (f : α → α') :\n    (linearCombination R v').comp (Finsupp.lmapDomain R R f) = linearCombination R (v' ∘ f) := by\n  ext\n  simp\n\n"}
{"name":"Finsupp.total_comp_lmapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : α → α'\n⊢ Eq ((Finsupp.linearCombination R v').comp (Finsupp.lmapDomain R R f)) (Finsupp.linearCombination R (Function.comp v' f))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_comp_lmapDomain :=\n  linearCombination_comp_lmapDomain\n\n"}
{"name":"Finsupp.linearCombination_embDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : Function.Embedding α α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.embDomain f l)) ((Finsupp.linearCombination R (Function.comp v' ⇑f)) l)","decl":"@[simp]\ntheorem linearCombination_embDomain (f : α ↪ α') (l : α →₀ R) :\n    (linearCombination R v') (embDomain f l) = (linearCombination R (v' ∘ f)) l := by\n  simp [linearCombination_apply, Finsupp.sum, support_embDomain, embDomain_apply]\n\n"}
{"name":"Finsupp.total_embDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : Function.Embedding α α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.embDomain f l)) ((Finsupp.linearCombination R (Function.comp v' ⇑f)) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_embDomain := linearCombination_embDomain\n\n"}
{"name":"Finsupp.linearCombination_mapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : α → α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.mapDomain f l)) ((Finsupp.linearCombination R (Function.comp v' f)) l)","decl":"@[simp]\ntheorem linearCombination_mapDomain (f : α → α') (l : α →₀ R) :\n    (linearCombination R v') (mapDomain f l) = (linearCombination R (v' ∘ f)) l :=\n  LinearMap.congr_fun (linearCombination_comp_lmapDomain _ _) l\n\n"}
{"name":"Finsupp.total_mapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : α → α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.mapDomain f l)) ((Finsupp.linearCombination R (Function.comp v' f)) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_mapDomain := linearCombination_mapDomain\n\n"}
{"name":"Finsupp.linearCombination_equivMapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : Equiv α α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.equivMapDomain f l)) ((Finsupp.linearCombination R (Function.comp v' ⇑f)) l)","decl":"@[simp]\ntheorem linearCombination_equivMapDomain (f : α ≃ α') (l : α →₀ R) :\n    (linearCombination R v') (equivMapDomain f l) = (linearCombination R (v' ∘ f)) l := by\n  rw [equivMapDomain_eq_mapDomain, linearCombination_mapDomain]\n\n"}
{"name":"Finsupp.total_equivMapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nR : Type u_5\ninst✝² : Semiring R\nα' : Type u_7\nM' : Type u_8\ninst✝¹ : AddCommMonoid M'\ninst✝ : Module R M'\nv' : α' → M'\nf : Equiv α α'\nl : Finsupp α R\n⊢ Eq ((Finsupp.linearCombination R v') (Finsupp.equivMapDomain f l)) ((Finsupp.linearCombination R (Function.comp v' ⇑f)) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_equivMapDomain := linearCombination_equivMapDomain\n\n"}
{"name":"Finsupp.span_eq_range_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Set M\n⊢ Eq (Submodule.span R s) (LinearMap.range (Finsupp.linearCombination R Subtype.val))","decl":"/-- A version of `Finsupp.range_linearCombination` which is useful for going in the other\ndirection -/\ntheorem span_eq_range_linearCombination (s : Set M) :\n    span R s = LinearMap.range (linearCombination R ((↑) : s → M)) := by\n  rw [range_linearCombination, Subtype.range_coe_subtype, Set.setOf_mem_eq]\n\n"}
{"name":"Finsupp.span_eq_range_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Set M\n⊢ Eq (Submodule.span R s) (LinearMap.range (Finsupp.linearCombination R Subtype.val))","decl":"@[deprecated (since := \"2024-08-29\")] alias span_eq_range_total := span_eq_range_linearCombination\n\n"}
{"name":"Finsupp.mem_span_iff_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Set M\nx : M\n⊢ Iff (Membership.mem (Submodule.span R s) x) (Exists fun l => Eq ((Finsupp.linearCombination R Subtype.val) l) x)","decl":"theorem mem_span_iff_linearCombination (s : Set M) (x : M) :\n    x ∈ span R s ↔ ∃ l : s →₀ R, linearCombination R (↑) l = x :=\n  (SetLike.ext_iff.1 <| span_eq_range_linearCombination _ _) x\n\n"}
{"name":"Finsupp.mem_span_iff_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Set M\nx : M\n⊢ Iff (Membership.mem (Submodule.span R s) x) (Exists fun l => Eq ((Finsupp.linearCombination R Subtype.val) l) x)","decl":"@[deprecated (since := \"2024-08-29\")] alias mem_span_iff_total := mem_span_iff_linearCombination\n\n"}
{"name":"Finsupp.mem_span_range_iff_exists_finsupp","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nx : M\n⊢ Iff (Membership.mem (Submodule.span R (Set.range v)) x) (Exists fun c => Eq (c.sum fun i a => HSMul.hSMul a (v i)) x)","decl":"theorem mem_span_range_iff_exists_finsupp {v : α → M} {x : M} :\n    x ∈ span R (range v) ↔ ∃ c : α →₀ R, (c.sum fun i a => a • v i) = x := by\n  simp only [← Finsupp.range_linearCombination, LinearMap.mem_range, linearCombination_apply]\n\n"}
{"name":"Finsupp.span_image_eq_map_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\n⊢ Eq (Submodule.span R (Set.image v s)) (Submodule.map (Finsupp.linearCombination R v) (Finsupp.supported R R s))","decl":"theorem span_image_eq_map_linearCombination (s : Set α) :\n    span R (v '' s) = Submodule.map (linearCombination R v) (supported R R s) := by\n  apply span_eq_of_le\n  · intro x hx\n    rw [Set.mem_image] at hx\n    apply Exists.elim hx\n    intro i hi\n    exact ⟨_, Finsupp.single_mem_supported R 1 hi.1, by simp [hi.2]⟩\n  · refine map_le_iff_le_comap.2 fun z hz => ?_\n    have : ∀ i, z i • v i ∈ span R (v '' s) := by\n      intro c\n      haveI := Classical.decPred fun x => x ∈ s\n      by_cases h : c ∈ s\n      · exact smul_mem _ _ (subset_span (Set.mem_image_of_mem _ h))\n      · simp [(Finsupp.mem_supported' R _).1 hz _ h]\n    -- Porting note: `rw` is required to infer metavariables in `sum_mem`.\n    rw [mem_comap, linearCombination_apply]\n    refine sum_mem ?_\n    simp [this]\n\n"}
{"name":"Finsupp.span_image_eq_map_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\n⊢ Eq (Submodule.span R (Set.image v s)) (Submodule.map (Finsupp.linearCombination R v) (Finsupp.supported R R s))","decl":"@[deprecated (since := \"2024-08-29\")] alias span_image_eq_map_total :=\n  span_image_eq_map_linearCombination\n\n"}
{"name":"Finsupp.mem_span_image_iff_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\nx : M\n⊢ Iff (Membership.mem (Submodule.span R (Set.image v s)) x) (Exists fun l => And (Membership.mem (Finsupp.supported R R s) l) (Eq ((Finsupp.linearCombination R v) l) x))","decl":"theorem mem_span_image_iff_linearCombination {s : Set α} {x : M} :\n    x ∈ span R (v '' s) ↔ ∃ l ∈ supported R R s, linearCombination R v l = x := by\n  rw [span_image_eq_map_linearCombination]\n  simp\n\n"}
{"name":"Finsupp.mem_span_image_iff_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\nx : M\n⊢ Iff (Membership.mem (Submodule.span R (Set.image v s)) x) (Exists fun l => And (Membership.mem (Finsupp.supported R R s) l) (Eq ((Finsupp.linearCombination R v) l) x))","decl":"@[deprecated (since := \"2024-08-29\")] alias mem_span_image_iff_total :=\n  mem_span_image_iff_linearCombination\n\n"}
{"name":"Finsupp.linearCombination_option","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : Option α → M\nf : Finsupp (Option α) R\n⊢ Eq ((Finsupp.linearCombination R v) f) (HAdd.hAdd (HSMul.hSMul (f Option.none) (v Option.none)) ((Finsupp.linearCombination R (Function.comp v Option.some)) f.some))","decl":"theorem linearCombination_option (v : Option α → M) (f : Option α →₀ R) :\n    linearCombination R v f =\n      f none • v none + linearCombination R (v ∘ Option.some) f.some := by\n  rw [linearCombination_apply, sum_option_index_smul, linearCombination_apply]; simp\n\n"}
{"name":"Finsupp.total_option","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : Option α → M\nf : Finsupp (Option α) R\n⊢ Eq ((Finsupp.linearCombination R v) f) (HAdd.hAdd (HSMul.hSMul (f Option.none) (v Option.none)) ((Finsupp.linearCombination R (Function.comp v Option.some)) f.some))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_option := linearCombination_option\n\n"}
{"name":"Finsupp.linearCombination_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα : Type u_9\nβ : Type u_10\nA : α → M\nB : β → Finsupp α R\nf : Finsupp β R\n⊢ Eq ((Finsupp.linearCombination R A) ((Finsupp.linearCombination R B) f)) ((Finsupp.linearCombination R fun b => (Finsupp.linearCombination R A) (B b)) f)","decl":"theorem linearCombination_linearCombination {α β : Type*} (A : α → M) (B : β → α →₀ R)\n    (f : β →₀ R) : linearCombination R A (linearCombination R B f) =\n      linearCombination R (fun b => linearCombination R A (B b)) f := by\n  classical\n  simp only [linearCombination_apply]\n  apply induction_linear f\n  · simp only [sum_zero_index]\n  · intro f₁ f₂ h₁ h₂\n    simp [sum_add_index, h₁, h₂, add_smul]\n  · simp [sum_single_index, sum_smul_index, smul_sum, mul_smul]\n\n"}
{"name":"Finsupp.total_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα : Type u_9\nβ : Type u_10\nA : α → M\nB : β → Finsupp α R\nf : Finsupp β R\n⊢ Eq ((Finsupp.linearCombination R A) ((Finsupp.linearCombination R B) f)) ((Finsupp.linearCombination R fun b => (Finsupp.linearCombination R A) (B b)) f)","decl":"@[deprecated (since := \"2024-08-29\")] alias total_total := linearCombination_linearCombination\n\n"}
{"name":"Finsupp.linearCombination_smul","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\nS : Type u_6\ninst✝⁶ : Semiring R\ninst✝⁵ : Semiring S\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nα' : Type u_7\nv : α → M\ninst✝² : Module R S\ninst✝¹ : Module S M\ninst✝ : IsScalarTower R S M\nw : α' → S\n⊢ Eq (Finsupp.linearCombination R fun i => HSMul.hSMul (w i.2) (v i.1)) ((↑R (Finsupp.linearCombination S v)).comp ((Finsupp.mapRange.linearMap (Finsupp.linearCombination R w)).comp ↑(Finsupp.finsuppProdLEquiv R)))","decl":"theorem linearCombination_smul [Module R S] [Module S M] [IsScalarTower R S M] {w : α' → S} :\n    linearCombination R (fun i : α × α' ↦ w i.2 • v i.1) = (linearCombination S v).restrictScalars R\n      ∘ₗ mapRange.linearMap (linearCombination R w) ∘ₗ (finsuppProdLEquiv R).toLinearMap := by\n  ext; simp [finsuppProdLEquiv, finsuppProdEquiv, Finsupp.curry]\n\n"}
{"name":"Finsupp.linearCombination_fin_zero","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nf : Fin 0 → M\n⊢ Eq (Finsupp.linearCombination R f) 0","decl":"@[simp]\ntheorem linearCombination_fin_zero (f : Fin 0 → M) : linearCombination R f = 0 := by\n  ext i\n  apply finZeroElim i\n\n"}
{"name":"Finsupp.total_fin_zero","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"M : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nf : Fin 0 → M\n⊢ Eq (Finsupp.linearCombination R f) 0","decl":"@[deprecated (since := \"2024-08-29\")] alias total_fin_zero := linearCombination_fin_zero\n\n"}
{"name":"Finsupp.linearCombinationOn_range","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\n⊢ Eq (LinearMap.range (Finsupp.linearCombinationOn α M R v s)) Top.top","decl":"theorem linearCombinationOn_range (s : Set α) :\n    LinearMap.range (linearCombinationOn α M R v s) = ⊤ := by\n  rw [linearCombinationOn, LinearMap.range_eq_map, LinearMap.map_codRestrict,\n    ← LinearMap.range_le_iff_comap, range_subtype, Submodule.map_top, LinearMap.range_comp,\n    range_subtype]\n  exact (span_image_eq_map_linearCombination _ _).le\n\n"}
{"name":"Finsupp.totalOn_range","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\n⊢ Eq (LinearMap.range (Finsupp.linearCombinationOn α M R v s)) Top.top","decl":"@[deprecated (since := \"2024-08-29\")] alias totalOn_range := linearCombinationOn_range\n\n"}
{"name":"Finsupp.linearCombination_restrict","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\ns : Set α\n⊢ Eq (Finsupp.linearCombination R (s.restrict v)) ((Submodule.span R (Set.image v s)).subtype.comp ((Finsupp.linearCombinationOn α M R v s).comp ↑(Finsupp.supportedEquivFinsupp s).symm))","decl":"theorem linearCombination_restrict (s : Set α) :\n    linearCombination R (s.restrict v) = Submodule.subtype _ ∘ₗ\n      linearCombinationOn α M R v s ∘ₗ (supportedEquivFinsupp s).symm.toLinearMap := by\n  classical ext; simp [linearCombinationOn]\n\n"}
{"name":"Finsupp.linearCombination_comp","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα' : Type u_7\nv : α → M\nf : α' → α\n⊢ Eq (Finsupp.linearCombination R (Function.comp v f)) ((Finsupp.linearCombination R v).comp (Finsupp.lmapDomain R R f))","decl":"theorem linearCombination_comp (f : α' → α) :\n    linearCombination R (v ∘ f) = (linearCombination R v).comp (lmapDomain R R f) := by\n  ext\n  simp [linearCombination_apply]\n\n"}
{"name":"Finsupp.total_comp","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα' : Type u_7\nv : α → M\nf : α' → α\n⊢ Eq (Finsupp.linearCombination R (Function.comp v f)) ((Finsupp.linearCombination R v).comp (Finsupp.lmapDomain R R f))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_comp := linearCombination_comp\n\n"}
{"name":"Finsupp.linearCombination_comapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα' : Type u_7\nv : α → M\nf : α → α'\nl : Finsupp α' R\nhf : Set.InjOn f (Set.preimage f ↑l.support)\n⊢ Eq ((Finsupp.linearCombination R v) (Finsupp.comapDomain f l hf)) ((l.support.preimage f hf).sum fun i => HSMul.hSMul (l (f i)) (v i))","decl":"theorem linearCombination_comapDomain (f : α → α') (l : α' →₀ R)\n    (hf : Set.InjOn f (f ⁻¹' ↑l.support)) : linearCombination R v (Finsupp.comapDomain f l hf) =\n      (l.support.preimage f hf).sum fun i => l (f i) • v i := by\n  rw [linearCombination_apply]; rfl\n\n"}
{"name":"Finsupp.total_comapDomain","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nα' : Type u_7\nv : α → M\nf : α → α'\nl : Finsupp α' R\nhf : Set.InjOn f (Set.preimage f ↑l.support)\n⊢ Eq ((Finsupp.linearCombination R v) (Finsupp.comapDomain f l hf)) ((l.support.preimage f hf).sum fun i => HSMul.hSMul (l (f i)) (v i))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_comapDomain := linearCombination_comapDomain\n\n"}
{"name":"Finsupp.linearCombination_onFinset","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Finset α\nf : α → R\ng : α → M\nhf : ∀ (a : α), Ne (f a) 0 → Membership.mem s a\n⊢ Eq ((Finsupp.linearCombination R g) (Finsupp.onFinset s f hf)) (s.sum fun x => HSMul.hSMul (f x) (g x))","decl":"theorem linearCombination_onFinset {s : Finset α} {f : α → R} (g : α → M)\n    (hf : ∀ a, f a ≠ 0 → a ∈ s) :\n    linearCombination R g (Finsupp.onFinset s f hf) = Finset.sum s fun x : α => f x • g x := by\n  classical\n  simp only [linearCombination_apply, Finsupp.sum, Finsupp.onFinset_apply, Finsupp.support_onFinset]\n  rw [Finset.sum_filter_of_ne]\n  intro x _ h\n  contrapose! h\n  simp [h]\n\n"}
{"name":"Finsupp.total_onFinset","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Finset α\nf : α → R\ng : α → M\nhf : ∀ (a : α), Ne (f a) 0 → Membership.mem s a\n⊢ Eq ((Finsupp.linearCombination R g) (Finsupp.onFinset s f hf)) (s.sum fun x => HSMul.hSMul (f x) (g x))","decl":"@[deprecated (since := \"2024-08-29\")] alias total_onFinset := linearCombination_onFinset\n\n"}
{"name":"Fintype.linearCombination_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\nf : α → R\n⊢ Eq (((Fintype.linearCombination R S) v) f) (Finset.univ.sum fun i => HSMul.hSMul (f i) (v i))","decl":"theorem Fintype.linearCombination_apply (f) : Fintype.linearCombination R S v f = ∑ i, f i • v i :=\n  rfl\n\n"}
{"name":"Fintype.total_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\nf : α → R\n⊢ Eq (((Fintype.linearCombination R S) v) f) (Finset.univ.sum fun i => HSMul.hSMul (f i) (v i))","decl":"@[deprecated (since := \"2024-08-29\")] alias Fintype.total_apply := Fintype.linearCombination_apply\n\n"}
{"name":"Fintype.linearCombination_apply_single","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁷ : Fintype α\ninst✝⁶ : Semiring R\ninst✝⁵ : AddCommMonoid M\ninst✝⁴ : Module R M\nS : Type u_4\ninst✝³ : Semiring S\ninst✝² : Module S M\ninst✝¹ : SMulCommClass R S M\nv : α → M\ninst✝ : DecidableEq α\ni : α\nr : R\n⊢ Eq (((Fintype.linearCombination R S) v) (Pi.single i r)) (HSMul.hSMul r (v i))","decl":"@[simp]\ntheorem Fintype.linearCombination_apply_single [DecidableEq α] (i : α) (r : R) :\n    Fintype.linearCombination R S v (Pi.single i r) = r • v i := by\n  simp_rw [Fintype.linearCombination_apply, Pi.single_apply, ite_smul, zero_smul]\n  rw [Finset.sum_ite_eq', if_pos (Finset.mem_univ _)]\n\n"}
{"name":"Fintype.total_apply_single","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁷ : Fintype α\ninst✝⁶ : Semiring R\ninst✝⁵ : AddCommMonoid M\ninst✝⁴ : Module R M\nS : Type u_4\ninst✝³ : Semiring S\ninst✝² : Module S M\ninst✝¹ : SMulCommClass R S M\nv : α → M\ninst✝ : DecidableEq α\ni : α\nr : R\n⊢ Eq (((Fintype.linearCombination R S) v) (Pi.single i r)) (HSMul.hSMul r (v i))","decl":"@[deprecated (since := \"2024-08-29\")] alias Fintype.total_apply_single :=\n  Fintype.linearCombination_apply_single\n\n"}
{"name":"Finsupp.linearCombination_eq_fintype_linearCombination_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\nx : α → R\n⊢ Eq ((Finsupp.linearCombination R v) ((Finsupp.linearEquivFunOnFinite R R α).symm x)) (((Fintype.linearCombination R S) v) x)","decl":"theorem Finsupp.linearCombination_eq_fintype_linearCombination_apply (x : α → R) :\n    linearCombination R v ((Finsupp.linearEquivFunOnFinite R R α).symm x) =\n      Fintype.linearCombination R S v x := by\n  apply Finset.sum_subset\n  · exact Finset.subset_univ _\n  · intro x _ hx\n    rw [Finsupp.not_mem_support_iff.mp hx]\n    exact zero_smul _ _\n\n"}
{"name":"Finsupp.total_eq_fintype_total_apply","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\nx : α → R\n⊢ Eq ((Finsupp.linearCombination R v) ((Finsupp.linearEquivFunOnFinite R R α).symm x)) (((Fintype.linearCombination R S) v) x)","decl":"@[deprecated (since := \"2024-08-29\")] alias Finsupp.total_eq_fintype_total_apply :=\n  Finsupp.linearCombination_eq_fintype_linearCombination_apply\n\n"}
{"name":"Finsupp.linearCombination_eq_fintype_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\n⊢ Eq ((Finsupp.linearCombination R v).comp ↑(Finsupp.linearEquivFunOnFinite R R α).symm) ((Fintype.linearCombination R S) v)","decl":"theorem Finsupp.linearCombination_eq_fintype_linearCombination :\n    (linearCombination R v).comp (Finsupp.linearEquivFunOnFinite R R α).symm.toLinearMap =\n      Fintype.linearCombination R S v :=\n  LinearMap.ext <| linearCombination_eq_fintype_linearCombination_apply R S v\n\n"}
{"name":"Finsupp.total_eq_fintype_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\n⊢ Eq ((Finsupp.linearCombination R v).comp ↑(Finsupp.linearEquivFunOnFinite R R α).symm) ((Fintype.linearCombination R S) v)","decl":"@[deprecated (since := \"2024-08-29\")] alias Finsupp.total_eq_fintype_total :=\n  Finsupp.linearCombination_eq_fintype_linearCombination\n\n"}
{"name":"Fintype.range_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\n⊢ Eq (LinearMap.range ((Fintype.linearCombination R S) v)) (Submodule.span R (Set.range v))","decl":"@[simp]\ntheorem Fintype.range_linearCombination :\n    LinearMap.range (Fintype.linearCombination R S v) = Submodule.span R (Set.range v) := by\n  rw [← Finsupp.linearCombination_eq_fintype_linearCombination, LinearMap.range_comp,\n      LinearEquiv.range, Submodule.map_top, Finsupp.range_linearCombination]\n\n"}
{"name":"Fintype.range_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝⁶ : Fintype α\ninst✝⁵ : Semiring R\ninst✝⁴ : AddCommMonoid M\ninst✝³ : Module R M\nS : Type u_4\ninst✝² : Semiring S\ninst✝¹ : Module S M\ninst✝ : SMulCommClass R S M\nv : α → M\n⊢ Eq (LinearMap.range ((Fintype.linearCombination R S) v)) (Submodule.span R (Set.range v))","decl":"@[deprecated (since := \"2024-08-29\")] alias Fintype.range_total := Fintype.range_linearCombination\n\n"}
{"name":"mem_span_range_iff_exists_fun","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝³ : Fintype α\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\nx : M\n⊢ Iff (Membership.mem (Submodule.span R (Set.range v)) x) (Exists fun c => Eq (Finset.univ.sum fun i => HSMul.hSMul (c i) (v i)) x)","decl":"/-- An element `x` lies in the span of `v` iff it can be written as sum `∑ cᵢ • vᵢ = x`.\n-/\ntheorem mem_span_range_iff_exists_fun :\n    x ∈ span R (range v) ↔ ∃ c : α → R, ∑ i, c i • v i = x := by\n  -- Porting note: `Finsupp.equivFunOnFinite.surjective.exists` should be come before `simp`.\n  rw [Finsupp.equivFunOnFinite.surjective.exists]\n  simp only [Finsupp.mem_span_range_iff_exists_finsupp, Finsupp.equivFunOnFinite_apply]\n  exact exists_congr fun c => Eq.congr_left <| Finsupp.sum_fintype _ _ fun i => zero_smul _ _\n\n"}
{"name":"top_le_span_range_iff_forall_exists_fun","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"α : Type u_1\nM : Type u_2\nR : Type u_3\ninst✝³ : Fintype α\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nv : α → M\n⊢ Iff (LE.le Top.top (Submodule.span R (Set.range v))) (∀ (x : M), Exists fun c => Eq (Finset.univ.sum fun i => HSMul.hSMul (c i) (v i)) x)","decl":"/-- A family `v : α → V` is generating `V` iff every element `(x : V)`\ncan be written as sum `∑ cᵢ • vᵢ = x`.\n-/\ntheorem top_le_span_range_iff_forall_exists_fun :\n    ⊤ ≤ span R (range v) ↔ ∀ x, ∃ c : α → R, ∑ i, c i • v i = x := by\n  simp_rw [← mem_span_range_iff_exists_fun]\n  exact ⟨fun h x => h trivial, fun h x _ => h x⟩\n\n"}
{"name":"Span.repr_def","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_4\nM : Type u_5\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nw : Set M\nx : Subtype fun x => Membership.mem (Submodule.span R w) x\n⊢ Eq (Span.repr R w x) ⋯.choose","decl":"/-- Pick some representation of `x : span R w` as a linear combination in `w`,\n  ((Finsupp.mem_span_iff_linearCombination _ _ _).mp x.2).choose\n-/\nirreducible_def Span.repr (w : Set M) (x : span R w) : w →₀ R :=\n  ((Finsupp.mem_span_iff_linearCombination _ _ _).mp x.2).choose\n\n"}
{"name":"Span.finsupp_linearCombination_repr","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nw : Set M\nx : Subtype fun x => Membership.mem (Submodule.span R w) x\n⊢ Eq ((Finsupp.linearCombination R Subtype.val) (Span.repr R w x)) ↑x","decl":"@[simp]\ntheorem Span.finsupp_linearCombination_repr {w : Set M} (x : span R w) :\n    Finsupp.linearCombination R ((↑) : w → M) (Span.repr R w x) = x := by\n  rw [Span.repr_def]\n  exact ((Finsupp.mem_span_iff_linearCombination _ _ _).mp x.2).choose_spec\n\n"}
{"name":"Span.finsupp_total_repr","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nw : Set M\nx : Subtype fun x => Membership.mem (Submodule.span R w) x\n⊢ Eq ((Finsupp.linearCombination R Subtype.val) (Span.repr R w x)) ↑x","decl":"@[deprecated (since := \"2024-08-29\")] alias Span.finsupp_total_repr :=\n  Span.finsupp_linearCombination_repr\n"}
{"name":"LinearMap.map_finsupp_linearCombination","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\nN : Type u_3\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\ninst✝¹ : AddCommMonoid N\ninst✝ : Module R N\nf : LinearMap (RingHom.id R) M N\nι : Type u_4\ng : ι → M\nl : Finsupp ι R\n⊢ Eq (f ((Finsupp.linearCombination R g) l)) ((Finsupp.linearCombination R (Function.comp (⇑f) g)) l)","decl":"theorem LinearMap.map_finsupp_linearCombination (f : M →ₗ[R] N) {ι : Type*} {g : ι → M}\n    (l : ι →₀ R) : f (linearCombination R g l) = linearCombination R (f ∘ g) l :=\n  apply_linearCombination _ _ _ _\n\n"}
{"name":"LinearMap.map_finsupp_total","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\nN : Type u_3\ninst✝⁴ : Semiring R\ninst✝³ : AddCommMonoid M\ninst✝² : Module R M\ninst✝¹ : AddCommMonoid N\ninst✝ : Module R N\nf : LinearMap (RingHom.id R) M N\nι : Type u_4\ng : ι → M\nl : Finsupp ι R\n⊢ Eq (f ((Finsupp.linearCombination R g) l)) ((Finsupp.linearCombination R (Function.comp (⇑f) g)) l)","decl":"@[deprecated (since := \"2024-08-29\")] alias LinearMap.map_finsupp_total :=\n  LinearMap.map_finsupp_linearCombination\n\n"}
{"name":"mem_span_finset","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Finset M\nx : M\n⊢ Iff (Membership.mem (Submodule.span R ↑s) x) (Exists fun f => Eq (s.sum fun i => HSMul.hSMul (f i) i) x)","decl":"theorem mem_span_finset {s : Finset M} {x : M} :\n    x ∈ span R (↑s : Set M) ↔ ∃ f : M → R, ∑ i ∈ s, f i • i = x :=\n  ⟨fun hx =>\n    let ⟨v, hvs, hvx⟩ :=\n      (Finsupp.mem_span_image_iff_linearCombination _).1\n        (show x ∈ span R (_root_.id '' (↑s : Set M)) by rwa [Set.image_id])\n    ⟨v, hvx ▸ (linearCombination_apply_of_mem_supported _ hvs).symm⟩,\n    fun ⟨_, hf⟩ => hf ▸ sum_mem fun _ hi => smul_mem _ _ <| subset_span hi⟩\n\n"}
{"name":"mem_span_set","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nm : M\ns : Set M\n⊢ Iff (Membership.mem (Submodule.span R s) m) (Exists fun c => And (HasSubset.Subset (↑c.support) s) (Eq (c.sum fun mi r => HSMul.hSMul r mi) m))","decl":"/-- An element `m ∈ M` is contained in the `R`-submodule spanned by a set `s ⊆ M`, if and only if\n`m` can be written as a finite `R`-linear combination of elements of `s`.\nThe implementation uses `Finsupp.sum`. -/\ntheorem mem_span_set {m : M} {s : Set M} :\n    m ∈ Submodule.span R s ↔\n      ∃ c : M →₀ R, (c.support : Set M) ⊆ s ∧ (c.sum fun mi r => r • mi) = m := by\n  conv_lhs => rw [← Set.image_id s]\n  exact Finsupp.mem_span_image_iff_linearCombination R (v := _root_.id (α := M))\n\n"}
{"name":"mem_span_set'","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\nm : M\ns : Set M\n⊢ Iff (Membership.mem (Submodule.span R s) m) (Exists fun n => Exists fun f => Exists fun g => Eq (Finset.univ.sum fun i => HSMul.hSMul (f i) ↑(g i)) m)","decl":"/-- An element `m ∈ M` is contained in the `R`-submodule spanned by a set `s ⊆ M`, if and only if\n`m` can be written as a finite `R`-linear combination of elements of `s`.\nThe implementation uses a sum indexed by `Fin n` for some `n`. -/\nlemma mem_span_set' {m : M} {s : Set M} :\n    m ∈ Submodule.span R s ↔ ∃ (n : ℕ) (f : Fin n → R) (g : Fin n → s),\n      ∑ i, f i • (g i : M) = m := by\n  refine ⟨fun h ↦ ?_, ?_⟩\n  · rcases mem_span_set.1 h with ⟨c, cs, rfl⟩\n    have A : c.support ≃ Fin c.support.card := Finset.equivFin _\n    refine ⟨_, fun i ↦ c (A.symm i), fun i ↦ ⟨A.symm i, cs (A.symm i).2⟩, ?_⟩\n    rw [Finsupp.sum, ← Finset.sum_coe_sort c.support]\n    exact Fintype.sum_equiv A.symm _ (fun j ↦ c j • (j : M)) (fun i ↦ rfl)\n  · rintro ⟨n, f, g, rfl⟩\n    exact Submodule.sum_mem _ (fun i _ ↦ Submodule.smul_mem _ _ (Submodule.subset_span (g i).2))\n\n"}
{"name":"span_eq_iUnion_nat","module":"Mathlib.LinearAlgebra.Finsupp.LinearCombination","initialProofState":"R : Type u_1\nM : Type u_2\ninst✝² : Semiring R\ninst✝¹ : AddCommMonoid M\ninst✝ : Module R M\ns : Set M\n⊢ Eq (↑(Submodule.span R s)) (Set.iUnion fun n => Set.image (fun f => Finset.univ.sum fun i => HSMul.hSMul (f i).1 (f i).2) (setOf fun f => ∀ (i : Fin n), Membership.mem s (f i).2))","decl":"/-- The span of a subset `s` is the union over all `n` of the set of linear combinations of at most\n`n` terms belonging to `s`. -/\nlemma span_eq_iUnion_nat (s : Set M) :\n    (Submodule.span R s : Set M) = ⋃ (n : ℕ),\n      (fun (f : Fin n → (R × M)) ↦ ∑ i, (f i).1 • (f i).2) '' ({f | ∀ i, (f i).2 ∈ s}) := by\n  ext m\n  simp only [SetLike.mem_coe, mem_iUnion, mem_image, mem_setOf_eq, mem_span_set']\n  refine exists_congr (fun n ↦ ⟨?_, ?_⟩)\n  · rintro ⟨f, g, rfl⟩\n    exact ⟨fun i ↦ (f i, g i), fun i ↦ (g i).2, rfl⟩\n  · rintro ⟨f, hf, rfl⟩\n    exact ⟨fun i ↦ (f i).1, fun i ↦ ⟨(f i).2, (hf i)⟩, rfl⟩\n"}
