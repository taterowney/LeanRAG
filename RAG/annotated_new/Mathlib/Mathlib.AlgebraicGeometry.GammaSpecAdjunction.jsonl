{"name":"AlgebraicGeometry.LocallyRingedSpace.not_mem_prime_iff_unit_in_stalk","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nx : â†‘X.toTopCat\nâŠ¢ Iff (Not (Membership.mem (X.toÎ“SpecFun x).asIdeal r)) (IsUnit ((CategoryTheory.ConcreteCategory.hom (X.presheaf.Î“germ x)) r))","decl":"theorem not_mem_prime_iff_unit_in_stalk (r : Î“.obj (op X)) (x : X) :\n    r âˆ‰ (X.toÎ“SpecFun x).asIdeal â†” IsUnit (X.presheaf.Î“germ x r) := by\n  erw [IsLocalRing.mem_maximalIdeal, Classical.not_not]\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“Spec_preimage_basicOpen_eq","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq (Set.preimage X.toÎ“SpecFun (PrimeSpectrum.basicOpen r).carrier) (X.toRingedSpace.basicOpen r).carrier","decl":"/-- The preimage of a basic open in `Spec Î“(X)` under the unit is the basic\nopen in `X` defined by the same element (they are equal as sets). -/\ntheorem toÎ“Spec_preimage_basicOpen_eq (r : Î“.obj (op X)) :\n    X.toÎ“SpecFun â»Â¹' (basicOpen r).1 = (X.toRingedSpace.basicOpen r).1 := by\n      ext\n      dsimp\n      simp only [Set.mem_preimage, SetLike.mem_coe]\n      rw [X.toRingedSpace.mem_top_basicOpen]\n      exact not_mem_prime_iff_unit_in_stalk ..\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“Spec_continuous","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Continuous X.toÎ“SpecFun","decl":"/-- `toÎ“SpecFun` is continuous. -/\ntheorem toÎ“Spec_continuous : Continuous X.toÎ“SpecFun := by\n  rw [isTopologicalBasis_basic_opens.continuous_iff]\n  rintro _ âŸ¨r, rflâŸ©\n  erw [X.toÎ“Spec_preimage_basicOpen_eq r]\n  exact (X.toRingedSpace.basicOpen r).2\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecMapBasicOpen_eq","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq (X.toÎ“SpecMapBasicOpen r) (X.toRingedSpace.basicOpen r)","decl":"/-- The preimage is the basic open in `X` defined by the same element `r`. -/\ntheorem toÎ“SpecMapBasicOpen_eq : X.toÎ“SpecMapBasicOpen r = X.toRingedSpace.basicOpen r :=\n  Opens.ext (X.toÎ“Spec_preimage_basicOpen_eq r)\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.isUnit_res_toÎ“SpecMapBasicOpen","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ IsUnit ((CategoryTheory.ConcreteCategory.hom (X.toToÎ“SpecMapBasicOpen r)) r)","decl":"/-- `r` is a unit as a section on the basic open defined by `r`. -/\ntheorem isUnit_res_toÎ“SpecMapBasicOpen : IsUnit (X.toToÎ“SpecMapBasicOpen r r) := by\n  convert\n    (X.presheaf.map <| (eqToHom <| X.toÎ“SpecMapBasicOpen_eq r).op).hom.isUnit_map\n      (X.toRingedSpace.isUnit_res_basicOpen r)\n  -- Porting note: `rw [comp_apply]` to `erw [comp_apply]`\n  erw [â† CommRingCat.comp_apply, â† Functor.map_comp]\n  congr\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecCApp_iff","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nf : Quiver.Hom ((AlgebraicGeometry.Spec.structureSheaf â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })).val.obj { unop := PrimeSpectrum.basicOpen r }) (X.presheaf.obj { unop := X.toÎ“SpecMapBasicOpen r })\nâŠ¢ Iff (Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) (PrimeSpectrum.basicOpen r)) f) (X.toToÎ“SpecMapBasicOpen r)) (Eq f (X.toÎ“SpecCApp r))","decl":"/-- Characterization of the sheaf hom on basic opens,\n    direction â† (next lemma) is used at various places, but â†’ is not used in this file. -/\ntheorem toÎ“SpecCApp_iff\n    (f :\n      (structureSheaf <| Î“.obj <| op X).val.obj (op <| basicOpen r) âŸ¶\n        X.presheaf.obj (op <| X.toÎ“SpecMapBasicOpen r)) :\n    toOpen _ (basicOpen r) â‰« f = X.toToÎ“SpecMapBasicOpen r â†” f = X.toÎ“SpecCApp r := by\n  -- Porting Note: Type class problem got stuck in `IsLocalization.Away.AwayMap.lift_comp`\n  -- created instance manually. This replaces the `pick_goal` tactics\n  have loc_inst := IsLocalization.to_basicOpen (Î“.obj (op X)) r\n  refine ConcreteCategory.ext_iff.trans ?_\n  rw [â† @IsLocalization.Away.lift_comp _ _ _ _ _ _ _ r loc_inst _\n      (X.isUnit_res_toÎ“SpecMapBasicOpen r)]\n  --pick_goal 5; exact is_localization.to_basic_open _ r\n  constructor\n  Â· intro h\n    ext : 1\n    exact IsLocalization.ringHom_ext (Submonoid.powers r) h\n  apply congr_arg\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecCApp_spec","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) (PrimeSpectrum.basicOpen r)) (X.toÎ“SpecCApp r)) (X.toToÎ“SpecMapBasicOpen r)","decl":"theorem toÎ“SpecCApp_spec : toOpen _ (basicOpen r) â‰« X.toÎ“SpecCApp r = X.toToÎ“SpecMapBasicOpen r :=\n  (X.toÎ“SpecCApp_iff r _).2 rfl\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecCBasicOpens_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : Opposite (CategoryTheory.InducedCategory (TopologicalSpace.Opens (PrimeSpectrum â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X }))) PrimeSpectrum.basicOpen)\nâŠ¢ Eq (X.toÎ“SpecCBasicOpens.app r) (X.toÎ“SpecCApp (Opposite.unop r))","decl":"/-- The sheaf hom on all basic opens, commuting with restrictions. -/\n@[simps app]\ndef toÎ“SpecCBasicOpens :\n    (inducedFunctor basicOpen).op â‹™ (structureSheaf (Î“.obj (op X))).1 âŸ¶\n      (inducedFunctor basicOpen).op â‹™ ((TopCat.Sheaf.pushforward _ X.toÎ“SpecBase).obj X.ğ’ª).1 where\n  app r := X.toÎ“SpecCApp r.unop\n  naturality r s f := by\n    apply (StructureSheaf.to_basicOpen_epi (Î“.obj (op X)) r.unop).1\n    simp only [â† Category.assoc]\n    rw [X.toÎ“SpecCApp_spec r.unop]\n    convert X.toÎ“SpecCApp_spec s.unop\n    symm\n    apply X.presheaf.map_comp\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecSheafedSpace_base","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Eq X.toÎ“SpecSheafedSpace.base X.toÎ“SpecBase","decl":"/-- The canonical morphism of sheafed spaces from `X` to the spectrum of its global sections. -/\n@[simps]\ndef toÎ“SpecSheafedSpace : X.toSheafedSpace âŸ¶ Spec.toSheafedSpace.obj (op (Î“.obj (op X))) where\n  base := X.toÎ“SpecBase\n  c :=\n    TopCat.Sheaf.restrictHomEquivHom (structureSheaf (Î“.obj (op X))).1 _ isBasis_basic_opens\n      X.toÎ“SpecCBasicOpens\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecSheafedSpace_c","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Eq X.toÎ“SpecSheafedSpace.c ((TopCat.Sheaf.restrictHomEquivHom (AlgebraicGeometry.Spec.structureSheaf â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })).val ((TopCat.Sheaf.pushforward CommRingCat X.toÎ“SpecBase).obj X.ğ’ª) â‹¯) X.toÎ“SpecCBasicOpens)","decl":"/-- The canonical morphism of sheafed spaces from `X` to the spectrum of its global sections. -/\n@[simps]\ndef toÎ“SpecSheafedSpace : X.toSheafedSpace âŸ¶ Spec.toSheafedSpace.obj (op (Î“.obj (op X))) where\n  base := X.toÎ“SpecBase\n  c :=\n    TopCat.Sheaf.restrictHomEquivHom (structureSheaf (Î“.obj (op X))).1 _ isBasis_basic_opens\n      X.toÎ“SpecCBasicOpens\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecSheafedSpace_app_eq","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq (X.toÎ“SpecSheafedSpace.c.app { unop := PrimeSpectrum.basicOpen r }) (X.toÎ“SpecCApp r)","decl":"theorem toÎ“SpecSheafedSpace_app_eq :\n    X.toÎ“SpecSheafedSpace.c.app (op (basicOpen r)) = X.toÎ“SpecCApp r := by\n  apply TopCat.Sheaf.extend_hom_app _ _ _\n\n-- Porting note: need a helper lemma `toÎ“SpecSheafedSpace_app_spec_assoc` to help compile\n-- `toStalk_stalkMap_to_Î“_Spec`\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecSheafedSpace_app_spec_assoc","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nZ : CommRingCat\nh : Quiver.Hom (((TopCat.Presheaf.pushforward CommRingCat X.toÎ“SpecSheafedSpace.base).obj X.presheaf).obj { unop := PrimeSpectrum.basicOpen r }) Z\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) (PrimeSpectrum.basicOpen r)) (CategoryTheory.CategoryStruct.comp (X.toÎ“SpecSheafedSpace.c.app { unop := PrimeSpectrum.basicOpen r }) h)) (CategoryTheory.CategoryStruct.comp (X.toToÎ“SpecMapBasicOpen r) h)","decl":"@[reassoc] theorem toÎ“SpecSheafedSpace_app_spec (r : Î“.obj (op X)) :\n    toOpen (Î“.obj (op X)) (basicOpen r) â‰« X.toÎ“SpecSheafedSpace.c.app (op (basicOpen r)) =\n      X.toToÎ“SpecMapBasicOpen r :=\n  (X.toÎ“SpecSheafedSpace_app_eq r).symm â–¸ X.toÎ“SpecCApp_spec r\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“SpecSheafedSpace_app_spec","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nr : â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) (PrimeSpectrum.basicOpen r)) (X.toÎ“SpecSheafedSpace.c.app { unop := PrimeSpectrum.basicOpen r })) (X.toToÎ“SpecMapBasicOpen r)","decl":"@[reassoc] theorem toÎ“SpecSheafedSpace_app_spec (r : Î“.obj (op X)) :\n    toOpen (Î“.obj (op X)) (basicOpen r) â‰« X.toÎ“SpecSheafedSpace.c.app (op (basicOpen r)) =\n      X.toToÎ“SpecMapBasicOpen r :=\n  (X.toÎ“SpecSheafedSpace_app_eq r).symm â–¸ X.toÎ“SpecCApp_spec r\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toStalk_stalkMap_toÎ“Spec","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nx : â†‘X.toTopCat\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toStalk (â†‘(Opposite.unop { unop := AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X } })) (X.toÎ“SpecSheafedSpace.base x)) (AlgebraicGeometry.PresheafedSpace.Hom.stalkMap X.toÎ“SpecSheafedSpace x)) (X.presheaf.Î“germ x)","decl":"/-- The map on stalks induced by the unit commutes with maps from `Î“(X)` to\n    stalks (in `Spec Î“(X)` and in `X`). -/\ntheorem toStalk_stalkMap_toÎ“Spec (x : X) :\n    toStalk _ _ â‰« X.toÎ“SpecSheafedSpace.stalkMap x = X.presheaf.Î“germ x := by\n  rw [PresheafedSpace.Hom.stalkMap,\n    â† toOpen_germ _ (basicOpen (1 : Î“.obj (op X))) _ (by rw [basicOpen_one]; trivial),\n    â† Category.assoc, Category.assoc (toOpen _ _), stalkFunctor_map_germ, â† Category.assoc,\n    toÎ“SpecSheafedSpace_app_spec, Î“germ]\n  erw [â† stalkPushforward_germ _ _ X.presheaf âŠ¤]\n  congr 1\n  exact (X.toÎ“SpecBase _* X.presheaf).germ_res le_top.hom _ _\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“Spec_base","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Eq X.toÎ“Spec.base X.toÎ“SpecBase","decl":"/-- The canonical morphism from `X` to the spectrum of its global sections. -/\n@[simps! base]\ndef toÎ“Spec : X âŸ¶ Spec.locallyRingedSpaceObj (Î“.obj (op X)) where\n  __ := X.toÎ“SpecSheafedSpace\n  prop := by\n    intro x\n    let p : PrimeSpectrum (Î“.obj (op X)) := X.toÎ“SpecFun x\n    constructor\n    -- show stalk map is local hom â†“\n    let S := (structureSheaf _).presheaf.stalk p\n    rintro (t : S) ht\n    obtain âŸ¨âŸ¨r, sâŸ©, heâŸ© := IsLocalization.surj p.asIdeal.primeCompl t\n    dsimp at he\n    set t' := _\n    change t * t' = _ at he\n    apply isUnit_of_mul_isUnit_left (y := t')\n    rw [he]\n    refine IsLocalization.map_units S (âŸ¨r, ?_âŸ© : p.asIdeal.primeCompl)\n    apply (not_mem_prime_iff_unit_in_stalk _ _ _).mpr\n    rw [â† toStalk_stalkMap_toÎ“Spec]\n    erw [CommRingCat.comp_apply, â† he]\n    rw [RingHom.map_mul]\n    exact ht.mul <| (IsLocalization.map_units (R := Î“.obj (op X)) S s).map _\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.toÎ“Spec_preimage_zeroLocus_eq","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\ns : Set â†‘(X.presheaf.obj { unop := Top.top })\nâŠ¢ Eq (Set.preimage (â‡‘X.toÎ“Spec.base) (PrimeSpectrum.zeroLocus s)) (X.toRingedSpace.zeroLocus s)","decl":"/-- On a locally ringed space `X`, the preimage of the zero locus of the prime spectrum\nof `Î“(X, âŠ¤)` under `toÎ“Spec` agrees with the associated zero locus on `X`. -/\nlemma toÎ“Spec_preimage_zeroLocus_eq {X : LocallyRingedSpace.{u}}\n    (s : Set (X.presheaf.obj (op âŠ¤))) :\n    X.toÎ“Spec.base â»Â¹' PrimeSpectrum.zeroLocus s = X.toRingedSpace.zeroLocus s := by\n  simp only [RingedSpace.zeroLocus]\n  have (i : LocallyRingedSpace.Î“.obj (op X)) (_ : i âˆˆ s) :\n      ((X.toRingedSpace.basicOpen i).carrier)á¶œ =\n        X.toÎ“Spec.base â»Â¹' (PrimeSpectrum.basicOpen i).carrierá¶œ := by\n    symm\n    erw [Set.preimage_compl, X.toÎ“Spec_preimage_basicOpen_eq i]\n  erw [Set.iInterâ‚‚_congr this]\n  simp_rw [â† Set.preimage_iInterâ‚‚, Opens.carrier_eq_coe, PrimeSpectrum.basicOpen_eq_zeroLocus_compl,\n    compl_compl]\n  rw [â† PrimeSpectrum.zeroLocus_iUnionâ‚‚]\n  simp\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.comp_ring_hom_ext","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nR : CommRingCat\nf : Quiver.Hom R (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nÎ² : Quiver.Hom X (AlgebraicGeometry.Spec.locallyRingedSpaceObj R)\nw : Eq (CategoryTheory.CategoryStruct.comp X.toÎ“Spec.base (AlgebraicGeometry.Spec.locallyRingedSpaceMap f).base) Î².base\nh : âˆ€ (r : â†‘R), Eq (CategoryTheory.CategoryStruct.comp f (X.presheaf.map (CategoryTheory.homOfLE â‹¯).op)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘R) (PrimeSpectrum.basicOpen r)) (Î².c.app { unop := PrimeSpectrum.basicOpen r }))\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp X.toÎ“Spec (AlgebraicGeometry.Spec.locallyRingedSpaceMap f)) Î²","decl":"theorem comp_ring_hom_ext {X : LocallyRingedSpace.{u}} {R : CommRingCat.{u}} {f : R âŸ¶ Î“.obj (op X)}\n    {Î² : X âŸ¶ Spec.locallyRingedSpaceObj R}\n    (w : X.toÎ“Spec.base â‰« (Spec.locallyRingedSpaceMap f).base = Î².base)\n    (h :\n      âˆ€ r : R,\n        f â‰« X.presheaf.map (homOfLE le_top : (Opens.map Î².base).obj (basicOpen r) âŸ¶ _).op =\n          toOpen R (basicOpen r) â‰« Î².c.app (op (basicOpen r))) :\n    X.toÎ“Spec â‰« Spec.locallyRingedSpaceMap f = Î² := by\n  ext1\n  -- Porting note: was `apply Spec.basicOpen_hom_ext`\n  refine Spec.basicOpen_hom_ext w ?_\n  intro r U\n  rw [LocallyRingedSpace.comp_c_app]\n  erw [toOpen_comp_comap_assoc]\n  rw [Category.assoc]\n  erw [toÎ“SpecSheafedSpace_app_spec, â† X.presheaf.map_comp]\n  exact h r\n\n"}
{"name":"AlgebraicGeometry.LocallyRingedSpace.Î“_Spec_left_triangle","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.toSpecÎ“ (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) (X.toÎ“Spec.c.app { unop := Top.top })) (CategoryTheory.CategoryStruct.id (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X }))","decl":"/-- `toSpecÎ“ _` is an isomorphism so these are mutually two-sided inverses. -/\ntheorem Î“_Spec_left_triangle : toSpecÎ“ (Î“.obj (op X)) â‰« X.toÎ“Spec.c.app (op âŠ¤) = ğŸ™ _ := by\n  unfold toSpecÎ“\n  rw [â† toOpen_res _ (basicOpen (1 : Î“.obj (op X))) âŠ¤ (eqToHom basicOpen_one.symm),\n    Category.assoc, NatTrans.naturality, â† Category.assoc]\n  erw [X.toÎ“SpecSheafedSpace_app_spec 1, â† Functor.map_comp]\n  convert eqToHom_map X.presheaf _; rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.left_triangle","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.LocallyRingedSpace.SpecÎ“Identity.inv.app (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })) ((AlgebraicGeometry.identityToÎ“Spec.app X).c.app { unop := Top.top })) (CategoryTheory.CategoryStruct.id ((CategoryTheory.Functor.id CommRingCat).obj (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })))","decl":"theorem left_triangle (X : LocallyRingedSpace) :\n    SpecÎ“Identity.inv.app (Î“.obj (op X)) â‰« (identityToÎ“Spec.app X).c.app (op âŠ¤) = ğŸ™ _ :=\n  X.Î“_Spec_left_triangle\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.right_triangle","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : CommRingCat\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.identityToÎ“Spec.app (AlgebraicGeometry.Spec.toLocallyRingedSpace.obj { unop := R })) (AlgebraicGeometry.Spec.toLocallyRingedSpace.map (AlgebraicGeometry.LocallyRingedSpace.SpecÎ“Identity.inv.app R).op)) (CategoryTheory.CategoryStruct.id ((CategoryTheory.Functor.id AlgebraicGeometry.LocallyRingedSpace).obj (AlgebraicGeometry.Spec.toLocallyRingedSpace.obj { unop := R })))","decl":"/-- `SpecÎ“Identity` is iso so these are mutually two-sided inverses. -/\ntheorem right_triangle (R : CommRingCat) :\n    identityToÎ“Spec.app (Spec.toLocallyRingedSpace.obj <| op R) â‰«\n        Spec.toLocallyRingedSpace.map (SpecÎ“Identity.inv.app R).op =\n      ğŸ™ _ := by\n  apply LocallyRingedSpace.comp_ring_hom_ext\n  Â· ext (p : PrimeSpectrum R)\n    dsimp\n    ext x\n    erw [â† IsLocalization.AtPrime.to_map_mem_maximal_iff ((structureSheaf R).presheaf.stalk p)\n        p.asIdeal x]\n    rfl\n  Â· intro r; apply toOpen_res\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_unit","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ Eq AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.unit AlgebraicGeometry.identityToÎ“Spec","decl":"lemma locallyRingedSpaceAdjunction_unit :\n    locallyRingedSpaceAdjunction.unit = identityToÎ“Spec := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_counit","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ Eq AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.counit (CategoryTheory.NatIso.op AlgebraicGeometry.LocallyRingedSpace.SpecÎ“Identity).inv","decl":"lemma locallyRingedSpaceAdjunction_counit :\n    locallyRingedSpaceAdjunction.counit = (NatIso.op SpecÎ“Identity.{u}).inv := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_counit_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : Opposite CommRingCat\nâŠ¢ Eq (AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.counit.app R) (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(Opposite.unop R)) Top.top).op","decl":"@[simp]\nlemma locallyRingedSpaceAdjunction_counit_app (R : CommRingCatáµ’áµ–) :\n    locallyRingedSpaceAdjunction.counit.app R =\n      (toOpen R.unop âŠ¤).op := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_counit_app'","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : Type u\ninstâœ : CommRing R\nâŠ¢ Eq (AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.counit.app { unop := CommRingCat.of R }) (AlgebraicGeometry.StructureSheaf.toOpen R Top.top).op","decl":"@[simp]\nlemma locallyRingedSpaceAdjunction_counit_app' (R : Type u) [CommRing R] :\n    locallyRingedSpaceAdjunction.counit.app (op <| CommRingCat.of R) =\n      (toOpen R âŠ¤).op := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_homEquiv_apply","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nR : Opposite CommRingCat\nf : Quiver.Hom (AlgebraicGeometry.LocallyRingedSpace.Î“.rightOp.obj X) R\nâŠ¢ Eq ((AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.homEquiv X R) f) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.identityToÎ“Spec.app X) (AlgebraicGeometry.Spec.locallyRingedSpaceMap f.unop))","decl":"lemma locallyRingedSpaceAdjunction_homEquiv_apply\n    {X : LocallyRingedSpace} {R : CommRingCatáµ’áµ–}\n    (f : Î“.rightOp.obj X âŸ¶ R) :\n    locallyRingedSpaceAdjunction.homEquiv X R f =\n      identityToÎ“Spec.app X â‰« Spec.locallyRingedSpaceMap f.unop := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction_homEquiv_apply'","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nR : Type u\ninstâœ : CommRing R\nf : Quiver.Hom (CommRingCat.of R) (AlgebraicGeometry.LocallyRingedSpace.Î“.obj { unop := X })\nâŠ¢ Eq ((AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.homEquiv X { unop := CommRingCat.of R }) { unop := f }) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.identityToÎ“Spec.app X) (AlgebraicGeometry.Spec.locallyRingedSpaceMap f))","decl":"lemma locallyRingedSpaceAdjunction_homEquiv_apply'\n    {X : LocallyRingedSpace} {R : Type u} [CommRing R]\n    (f : CommRingCat.of R âŸ¶ Î“.obj <| op X) :\n    locallyRingedSpaceAdjunction.homEquiv X (op <| CommRingCat.of R) (op f) =\n      identityToÎ“Spec.app X â‰« Spec.locallyRingedSpaceMap f := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.toOpen_comp_locallyRingedSpaceAdjunction_homEquiv_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.LocallyRingedSpace\nR : Type u\ninstâœ : CommRing R\nf : Quiver.Hom (AlgebraicGeometry.LocallyRingedSpace.Î“.rightOp.obj X) { unop := CommRingCat.of R }\nU : Opposite (TopologicalSpace.Opens â†‘â†‘(AlgebraicGeometry.Spec.toLocallyRingedSpace.obj { unop := CommRingCat.of R }).toPresheafedSpace)\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen R (Opposite.unop U)) (((AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.homEquiv X { unop := CommRingCat.of R }) f).c.app U)) (CategoryTheory.CategoryStruct.comp f.unop (X.presheaf.map (CategoryTheory.homOfLE â‹¯).op))","decl":"lemma toOpen_comp_locallyRingedSpaceAdjunction_homEquiv_app\n    {X : LocallyRingedSpace} {R : Type u} [CommRing R]\n    (f : Î“.rightOp.obj X âŸ¶ op (CommRingCat.of R)) (U) :\n    StructureSheaf.toOpen R U.unop â‰«\n      (locallyRingedSpaceAdjunction.homEquiv X (op <| CommRingCat.of R) f).c.app U =\n    f.unop â‰« X.presheaf.map (homOfLE le_top).op := by\n  rw [â† StructureSheaf.toOpen_res _ _ _ (homOfLE le_top), Category.assoc,\n    NatTrans.naturality _ (homOfLE (le_top (a := U.unop))).op,\n    show (toOpen R âŠ¤) = (toOpen R âŠ¤).op.unop from rfl,\n    â† locallyRingedSpaceAdjunction_counit_app']\n  simp_rw [â† Î“_map_op]\n  rw [â† Î“.rightOp_map_unop, â† Category.assoc, â† unop_comp, â† Adjunction.homEquiv_counit,\n    Equiv.symm_apply_apply]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.adjunction_homEquiv_apply","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nR : Opposite CommRingCat\nf : Quiver.Hom { unop := AlgebraicGeometry.Scheme.Î“.obj { unop := X } } R\nâŠ¢ Eq ((AlgebraicGeometry.Î“Spec.adjunction.homEquiv X R) f) { toHom_1 := (AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.homEquiv X.toLocallyRingedSpace R) f }","decl":"theorem adjunction_homEquiv_apply {X : Scheme} {R : CommRingCatáµ’áµ–}\n    (f : (op <| Scheme.Î“.obj <| op X) âŸ¶ R) :\n    Î“Spec.adjunction.homEquiv X R f = âŸ¨locallyRingedSpaceAdjunction.homEquiv X.1 R fâŸ© := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.adjunction_homEquiv_symm_apply","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nR : Opposite CommRingCat\nf : Quiver.Hom X (AlgebraicGeometry.Scheme.Spec.obj R)\nâŠ¢ Eq ((AlgebraicGeometry.Î“Spec.adjunction.homEquiv X R).symm f) ((AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.homEquiv X.toLocallyRingedSpace R).symm (AlgebraicGeometry.Scheme.Hom.toLRSHom f))","decl":"theorem adjunction_homEquiv_symm_apply {X : Scheme} {R : CommRingCatáµ’áµ–}\n    (f : X âŸ¶ Scheme.Spec.obj R) :\n    (Î“Spec.adjunction.homEquiv X R).symm f =\n      (locallyRingedSpaceAdjunction.homEquiv X.1 R).symm f.toLRSHom := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.adjunction_counit_app'","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : Opposite CommRingCat\nâŠ¢ Eq (AlgebraicGeometry.Î“Spec.adjunction.counit.app R) (AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.counit.app R)","decl":"theorem adjunction_counit_app' {R : CommRingCatáµ’áµ–} :\n    Î“Spec.adjunction.counit.app R = locallyRingedSpaceAdjunction.counit.app R := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.adjunction_counit_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : Opposite CommRingCat\nâŠ¢ Eq (AlgebraicGeometry.Î“Spec.adjunction.counit.app R) (AlgebraicGeometry.Scheme.Î“SpecIso (Opposite.unop R)).inv.op","decl":"@[simp]\ntheorem adjunction_counit_app {R : CommRingCatáµ’áµ–} :\n    Î“Spec.adjunction.counit.app R = (Scheme.Î“SpecIso (unop R)).inv.op := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.adjunction_unit_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nâŠ¢ Eq (AlgebraicGeometry.Î“Spec.adjunction.unit.app X) X.toSpecÎ“","decl":"@[simp]\ntheorem adjunction_unit_app {X : Scheme} :\n    Î“Spec.adjunction.unit.app X = X.toSpecÎ“ := rfl\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.isIso_locallyRingedSpaceAdjunction_counit","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ CategoryTheory.IsIso AlgebraicGeometry.Î“Spec.locallyRingedSpaceAdjunction.counit","decl":"instance isIso_locallyRingedSpaceAdjunction_counit :\n    IsIso.{u + 1, u + 1} locallyRingedSpaceAdjunction.counit :=\n  (NatIso.op SpecÎ“Identity).isIso_inv\n\n"}
{"name":"AlgebraicGeometry.Î“Spec.isIso_adjunction_counit","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ CategoryTheory.IsIso AlgebraicGeometry.Î“Spec.adjunction.counit","decl":"instance isIso_adjunction_counit : IsIso Î“Spec.adjunction.counit := by\n  apply (config := { allowSynthFailures := true }) NatIso.isIso_of_isIso_app\n  intro R\n  rw [adjunction_counit_app]\n  infer_instance\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_base","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nx : â†‘â†‘X.toPresheafedSpace\nâŠ¢ Eq (X.toSpecÎ“.base x) ((AlgebraicGeometry.Spec.map (X.presheaf.germ Top.top x trivial)).base (IsLocalRing.closedPoint â†‘(X.presheaf.stalk x)))","decl":"theorem Scheme.toSpecÎ“_base (X : Scheme.{u}) (x) :\n    (Scheme.toSpecÎ“ X).base x =\n      (Spec.map (X.presheaf.germ âŠ¤ x trivial)).base (IsLocalRing.closedPoint _) := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_naturality_assoc","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (AlgebraicGeometry.Spec (Y.presheaf.obj { unop := Top.top })) Z\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp f (CategoryTheory.CategoryStruct.comp Y.toSpecÎ“ h)) (CategoryTheory.CategoryStruct.comp X.toSpecÎ“ (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Spec.map (AlgebraicGeometry.Scheme.Hom.appTop f)) h))","decl":"@[reassoc]\ntheorem Scheme.toSpecÎ“_naturality {X Y : Scheme.{u}} (f : X âŸ¶ Y) :\n    f â‰« Y.toSpecÎ“ = X.toSpecÎ“ â‰« Spec.map (f.appTop) :=\n  Î“Spec.adjunction.unit.naturality f\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_naturality","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp f Y.toSpecÎ“) (CategoryTheory.CategoryStruct.comp X.toSpecÎ“ (AlgebraicGeometry.Spec.map (AlgebraicGeometry.Scheme.Hom.appTop f)))","decl":"@[reassoc]\ntheorem Scheme.toSpecÎ“_naturality {X Y : Scheme.{u}} (f : X âŸ¶ Y) :\n    f â‰« Y.toSpecÎ“ = X.toSpecÎ“ â‰« Spec.map (f.appTop) :=\n  Î“Spec.adjunction.unit.naturality f\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_appTop","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nâŠ¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop X.toSpecÎ“) (AlgebraicGeometry.Scheme.Î“SpecIso (X.presheaf.obj { unop := Top.top })).hom","decl":"@[simp]\ntheorem Scheme.toSpecÎ“_appTop (X : Scheme.{u}) :\n    X.toSpecÎ“.appTop = (Scheme.Î“SpecIso Î“(X, âŠ¤)).hom := by\n  have := Î“Spec.adjunction.left_triangle_components X\n  dsimp at this\n  rw [â† IsIso.eq_comp_inv] at this\n  simp only [Î“Spec.adjunction_counit_app, Functor.id_obj, Functor.comp_obj, Functor.rightOp_obj,\n    Scheme.Î“_obj, Category.id_comp] at this\n  rw [â† Quiver.Hom.op_inj.eq_iff, this, â† op_inv, IsIso.Iso.inv_inv]\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_app_top","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nâŠ¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop X.toSpecÎ“) (AlgebraicGeometry.Scheme.Î“SpecIso (X.presheaf.obj { unop := Top.top })).hom","decl":"@[deprecated (since := \"2024-11-23\")] alias Scheme.toSpecÎ“_app_top := Scheme.toSpecÎ“_appTop\n\n"}
{"name":"AlgebraicGeometry.SpecMap_Î“SpecIso_hom","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : CommRingCat\nâŠ¢ Eq (AlgebraicGeometry.Spec.map (AlgebraicGeometry.Scheme.Î“SpecIso R).hom) (AlgebraicGeometry.Spec R).toSpecÎ“","decl":"@[simp]\ntheorem SpecMap_Î“SpecIso_hom (R : CommRingCat.{u}) :\n    Spec.map ((Scheme.Î“SpecIso R).hom) = (Spec R).toSpecÎ“ := by\n  have := Î“Spec.adjunction.right_triangle_components (op R)\n  dsimp at this\n  rwa [â† IsIso.eq_comp_inv, Category.id_comp, â† Spec.map_inv, IsIso.Iso.inv_inv, eq_comm] at this\n\n"}
{"name":"AlgebraicGeometry.Scheme.toSpecÎ“_preimage_basicOpen","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nr : â†‘(X.presheaf.obj { unop := Top.top })\nâŠ¢ Eq ((TopologicalSpace.Opens.map X.toSpecÎ“.base).obj (PrimeSpectrum.basicOpen r)) (X.basicOpen r)","decl":"lemma Scheme.toSpecÎ“_preimage_basicOpen (X : Scheme.{u}) (r : Î“(X, âŠ¤)) :\n    X.toSpecÎ“ â»Â¹áµ (PrimeSpectrum.basicOpen r) = X.basicOpen r := by\n  rw [â† basicOpen_eq_of_affine, Scheme.preimage_basicOpen, â† Scheme.Hom.appTop]\n  congr\n  rw [Scheme.toSpecÎ“_appTop]\n  exact Iso.inv_hom_id_apply (C := CommRingCat) _ _\n\n-- Warning: this LHS of this lemma breaks the structure-sheaf abstraction.\n"}
{"name":"AlgebraicGeometry.toOpen_toSpecÎ“_app","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nU : (AlgebraicGeometry.Spec (X.presheaf.obj { unop := Top.top })).Opens\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(X.presheaf.obj { unop := Top.top })) U) (AlgebraicGeometry.Scheme.Hom.app X.toSpecÎ“ U)) (X.presheaf.map (CategoryTheory.homOfLE â‹¯).op)","decl":"@[reassoc (attr := simp)]\ntheorem toOpen_toSpecÎ“_app {X : Scheme.{u}} (U) :\n    StructureSheaf.toOpen _ _ â‰« X.toSpecÎ“.app U =\n      X.presheaf.map (homOfLE (by exact le_top)).op := by\n  rw [â† StructureSheaf.toOpen_res _ _ _ (homOfLE le_top), Category.assoc,\n    NatTrans.naturality _ (homOfLE (le_top (a := U))).op]\n  show (Î“Spec.adjunction.counit.app (Scheme.Î“.rightOp.obj X)).unop â‰«\n    (Scheme.Î“.rightOp.map (Î“Spec.adjunction.unit.app X)).unop â‰« _ = _\n  rw [â† Category.assoc, â† unop_comp, Î“Spec.adjunction.left_triangle_components]\n  dsimp\n  exact Category.id_comp _\n\n"}
{"name":"AlgebraicGeometry.toOpen_toSpecÎ“_app_assoc","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nU : (AlgebraicGeometry.Spec (X.presheaf.obj { unop := Top.top })).Opens\nZ : CommRingCat\nh : Quiver.Hom (X.presheaf.obj { unop := (TopologicalSpace.Opens.map X.toSpecÎ“.base).obj U }) Z\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.StructureSheaf.toOpen (â†‘(X.presheaf.obj { unop := Top.top })) U) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.app X.toSpecÎ“ U) h)) (CategoryTheory.CategoryStruct.comp (X.presheaf.map (CategoryTheory.homOfLE â‹¯).op) h)","decl":"@[reassoc (attr := simp)]\ntheorem toOpen_toSpecÎ“_app {X : Scheme.{u}} (U) :\n    StructureSheaf.toOpen _ _ â‰« X.toSpecÎ“.app U =\n      X.presheaf.map (homOfLE (by exact le_top)).op := by\n  rw [â† StructureSheaf.toOpen_res _ _ _ (homOfLE le_top), Category.assoc,\n    NatTrans.naturality _ (homOfLE (le_top (a := U))).op]\n  show (Î“Spec.adjunction.counit.app (Scheme.Î“.rightOp.obj X)).unop â‰«\n    (Scheme.Î“.rightOp.map (Î“Spec.adjunction.unit.app X)).unop â‰« _ = _\n  rw [â† Category.assoc, â† unop_comp, Î“Spec.adjunction.left_triangle_components]\n  dsimp\n  exact Category.id_comp _\n\n"}
{"name":"AlgebraicGeometry.Î“SpecIso_inv_Î“Spec_adjunction_homEquiv","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nB : CommRingCat\nÏ† : Quiver.Hom B (X.presheaf.obj { unop := Top.top })\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Î“SpecIso B).inv (AlgebraicGeometry.Scheme.Hom.appTop ((AlgebraicGeometry.Î“Spec.adjunction.homEquiv X { unop := B }) Ï†.op))) Ï†","decl":"lemma Î“SpecIso_inv_Î“Spec_adjunction_homEquiv {X : Scheme.{u}} {B : CommRingCat} (Ï† : B âŸ¶ Î“(X, âŠ¤)) :\n    (Scheme.Î“SpecIso B).inv â‰« ((Î“Spec.adjunction.homEquiv X (op B)) Ï†.op).appTop = Ï† := by\n  simp only [Adjunction.homEquiv_apply, Scheme.Spec_map, Opens.map_top, Scheme.comp_app]\n  simp\n\n"}
{"name":"AlgebraicGeometry.Î“Spec_adjunction_homEquiv_eq","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nB : CommRingCat\nÏ† : Quiver.Hom B (X.presheaf.obj { unop := Top.top })\nâŠ¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop ((AlgebraicGeometry.Î“Spec.adjunction.homEquiv X { unop := B }) Ï†.op)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Î“SpecIso B).hom Ï†)","decl":"lemma Î“Spec_adjunction_homEquiv_eq {X : Scheme.{u}} {B : CommRingCat} (Ï† : B âŸ¶ Î“(X, âŠ¤)) :\n    ((Î“Spec.adjunction.homEquiv X (op B)) Ï†.op).appTop = (Scheme.Î“SpecIso B).hom â‰« Ï† := by\n  rw [â† Iso.inv_comp_eq, Î“SpecIso_inv_Î“Spec_adjunction_homEquiv]\n\n"}
{"name":"AlgebraicGeometry.Î“SpecIso_obj_hom","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nâŠ¢ Eq (AlgebraicGeometry.Scheme.Î“SpecIso (X.presheaf.obj { unop := U })).hom (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.appTop (AlgebraicGeometry.Spec.map U.topIso.inv)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.appTop (â†‘U).toSpecÎ“) U.topIso.hom))","decl":"theorem Î“SpecIso_obj_hom {X : Scheme.{u}} (U : X.Opens) :\n    (Scheme.Î“SpecIso Î“(X, U)).hom = (Spec.map U.topIso.inv).appTop â‰«\n      U.toScheme.toSpecÎ“.appTop â‰« U.topIso.hom := by simp\n\n"}
{"name":"AlgebraicGeometry.instPreservesLimitsOppositeCommRingCatLocallyRingedSpaceToLocallyRingedSpace","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ CategoryTheory.Limits.PreservesLimits AlgebraicGeometry.Spec.toLocallyRingedSpace","decl":"/-- Spec preserves limits. -/\ninstance : Limits.PreservesLimits Spec.toLocallyRingedSpace :=\n  Î“Spec.locallyRingedSpaceAdjunction.rightAdjoint_preservesLimits\n\n"}
{"name":"AlgebraicGeometry.Spec.preservesLimits","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ CategoryTheory.Limits.PreservesLimits AlgebraicGeometry.Scheme.Spec","decl":"instance Spec.preservesLimits : Limits.PreservesLimits Scheme.Spec :=\n  Î“Spec.adjunction.rightAdjoint_preservesLimits\n\n"}
{"name":"AlgebraicGeometry.instFullOppositeCommRingCatLocallyRingedSpaceToLocallyRingedSpace","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Spec.toLocallyRingedSpace.Full","decl":"/-- Spec is a full functor. -/\ninstance : Spec.toLocallyRingedSpace.Full :=\n  Spec.fullyFaithfulToLocallyRingedSpace.full\n\n"}
{"name":"AlgebraicGeometry.instFaithfulOppositeCommRingCatLocallyRingedSpaceToLocallyRingedSpace","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Spec.toLocallyRingedSpace.Faithful","decl":"/-- Spec is a faithful functor. -/\ninstance : Spec.toLocallyRingedSpace.Faithful :=\n  Spec.fullyFaithfulToLocallyRingedSpace.faithful\n\n"}
{"name":"AlgebraicGeometry.Spec.full","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Scheme.Spec.Full","decl":"/-- Spec is a full functor. -/\ninstance Spec.full : Scheme.Spec.Full :=\n  Spec.fullyFaithful.full\n\n"}
{"name":"AlgebraicGeometry.Spec.faithful","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Scheme.Spec.Faithful","decl":"/-- Spec is a faithful functor. -/\ninstance Spec.faithful : Scheme.Spec.Faithful :=\n  Spec.fullyFaithful.faithful\n\n"}
{"name":"AlgebraicGeometry.Spec.map_inj","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nÏ† Ïˆ : Quiver.Hom R S\nâŠ¢ Iff (Eq (AlgebraicGeometry.Spec.map Ï†) (AlgebraicGeometry.Spec.map Ïˆ)) (Eq Ï† Ïˆ)","decl":"lemma Spec.map_inj : Spec.map Ï† = Spec.map Ïˆ â†” Ï† = Ïˆ := by\n  rw [iff_comm, â† Quiver.Hom.op_inj.eq_iff, â† Scheme.Spec.map_injective.eq_iff]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Spec.map_injective","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nâŠ¢ Function.Injective AlgebraicGeometry.Spec.map","decl":"lemma Spec.map_injective {R S : CommRingCat} : Function.Injective (Spec.map : (R âŸ¶ S) â†’ _) :=\n  fun _ _ â†¦ Spec.map_inj.mp\n\n"}
{"name":"AlgebraicGeometry.Spec.map_preimage","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nf : Quiver.Hom (AlgebraicGeometry.Spec S) (AlgebraicGeometry.Spec R)\nâŠ¢ Eq (AlgebraicGeometry.Spec.map (AlgebraicGeometry.Spec.preimage f)) f","decl":"@[simp] lemma Spec.map_preimage : Spec.map (Spec.preimage f) = f := Scheme.Spec.map_preimage f\n\n"}
{"name":"AlgebraicGeometry.Spec.preimage_map","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nÏ† : Quiver.Hom R S\nâŠ¢ Eq (AlgebraicGeometry.Spec.preimage (AlgebraicGeometry.Spec.map Ï†)) Ï†","decl":"variable (Ï†) in\n@[simp] lemma Spec.preimage_map : Spec.preimage (Spec.map Ï†) = Ï† :=\n  Spec.map_injective (Spec.map_preimage (Spec.map Ï†))\n\n"}
{"name":"AlgebraicGeometry.Spec.map_surjective","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nâŠ¢ Function.Surjective AlgebraicGeometry.Spec.map","decl":"/-- Useful for replacing `f` by `Spec.map Ï†` everywhere in proofs. -/\nlemma Spec.map_surjective {R S : CommRingCat} :\n    Function.Surjective (Spec.map : (R âŸ¶ S) â†’ _) := by\n  intro f\n  use Spec.preimage f\n  simp\n\n"}
{"name":"AlgebraicGeometry.Spec.homEquiv_apply","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nf : Quiver.Hom (AlgebraicGeometry.Spec S) (AlgebraicGeometry.Spec R)\nâŠ¢ Eq (AlgebraicGeometry.Spec.homEquiv f) (AlgebraicGeometry.Spec.preimage f)","decl":"/-- Spec is fully faithful -/\n@[simps]\ndef Spec.homEquiv {R S : CommRingCat} : (Spec S âŸ¶ Spec R) â‰ƒ (R âŸ¶ S) where\n  toFun := Spec.preimage\n  invFun := Spec.map\n  left_inv := Spec.map_preimage\n  right_inv := Spec.preimage_map\n\n"}
{"name":"AlgebraicGeometry.Spec.homEquiv_symm_apply","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S : CommRingCat\nf : Quiver.Hom R S\nâŠ¢ Eq (AlgebraicGeometry.Spec.homEquiv.symm f) (AlgebraicGeometry.Spec.map f)","decl":"/-- Spec is fully faithful -/\n@[simps]\ndef Spec.homEquiv {R S : CommRingCat} : (Spec S âŸ¶ Spec R) â‰ƒ (R âŸ¶ S) where\n  toFun := Spec.preimage\n  invFun := Spec.map\n  left_inv := Spec.map_preimage\n  right_inv := Spec.preimage_map\n\n"}
{"name":"AlgebraicGeometry.Spec.preimage_id","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R : CommRingCat\nâŠ¢ Eq (AlgebraicGeometry.Spec.preimage (CategoryTheory.CategoryStruct.id (AlgebraicGeometry.Spec R))) (CategoryTheory.CategoryStruct.id R)","decl":"@[simp]\nlemma Spec.preimage_id {R : CommRingCat} : Spec.preimage (ğŸ™ (Spec R)) = ğŸ™ R :=\n  Spec.map_injective (by simp)\n\n"}
{"name":"AlgebraicGeometry.Spec.preimage_comp_assoc","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S T : CommRingCat\nf : Quiver.Hom (AlgebraicGeometry.Spec R) (AlgebraicGeometry.Spec S)\ng : Quiver.Hom (AlgebraicGeometry.Spec S) (AlgebraicGeometry.Spec T)\nZ : CommRingCat\nh : Quiver.Hom R Z\nâŠ¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Spec.preimage (CategoryTheory.CategoryStruct.comp f g)) h) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Spec.preimage g) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Spec.preimage f) h))","decl":"@[simp, reassoc]\nlemma Spec.preimage_comp {R S T : CommRingCat} (f : Spec R âŸ¶ Spec S) (g : Spec S âŸ¶ Spec T) :\n    Spec.preimage (f â‰« g) = Spec.preimage g â‰« Spec.preimage f :=\n  Spec.map_injective (by simp)\n\n"}
{"name":"AlgebraicGeometry.Spec.preimage_comp","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"R S T : CommRingCat\nf : Quiver.Hom (AlgebraicGeometry.Spec R) (AlgebraicGeometry.Spec S)\ng : Quiver.Hom (AlgebraicGeometry.Spec S) (AlgebraicGeometry.Spec T)\nâŠ¢ Eq (AlgebraicGeometry.Spec.preimage (CategoryTheory.CategoryStruct.comp f g)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Spec.preimage g) (AlgebraicGeometry.Spec.preimage f))","decl":"@[simp, reassoc]\nlemma Spec.preimage_comp {R S T : CommRingCat} (f : Spec R âŸ¶ Spec S) (g : Spec S âŸ¶ Spec T) :\n    Spec.preimage (f â‰« g) = Spec.preimage g â‰« Spec.preimage f :=\n  Spec.map_injective (by simp)\n\n"}
{"name":"AlgebraicGeometry.instIsRightAdjointLocallyRingedSpaceOppositeCommRingCatToLocallyRingedSpace","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Spec.toLocallyRingedSpace.IsRightAdjoint","decl":"instance : Spec.toLocallyRingedSpace.IsRightAdjoint :=\n  (Î“Spec.locallyRingedSpaceAdjunction).isRightAdjoint\n\n"}
{"name":"AlgebraicGeometry.instIsRightAdjointSchemeOppositeCommRingCatSpec","module":"Mathlib.AlgebraicGeometry.GammaSpecAdjunction","initialProofState":"âŠ¢ AlgebraicGeometry.Scheme.Spec.IsRightAdjoint","decl":"instance : Scheme.Spec.IsRightAdjoint :=\n  (Î“Spec.adjunction).isRightAdjoint\n\n"}
