{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_base_apply","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nx : Subtype fun x => Membership.mem U x\n‚ä¢ Eq (U.Œπ.base x) ‚Üëx","decl":"@[simp]\nlemma Œπ_base_apply (x : U) : U.Œπ.base x = x.val := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.instIsOpenImmersionŒπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ AlgebraicGeometry.IsOpenImmersion U.Œπ","decl":"instance : IsOpenImmersion U.Œπ := inferInstanceAs (IsOpenImmersion (X.ofRestrict _))\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.instCanonicallyOver_over","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (CategoryTheory.over (‚ÜëU) X inferInstance) U.Œπ","decl":"@[simps! over] instance : U.toScheme.CanonicallyOver X where\n  hom := U.Œπ\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.instIsOverŒπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ AlgebraicGeometry.Scheme.Hom.IsOver U.Œπ X","decl":"instance (U : X.Opens) : U.Œπ.IsOver X where\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.toScheme_carrier","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq ‚Üë‚Üë(‚ÜëU).toPresheafedSpace ‚Üë‚ÜëU","decl":"lemma toScheme_carrier : (U : Type u) = (U : Set X) := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.toScheme_presheaf_obj","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\n‚ä¢ Eq ((‚ÜëU).presheaf.obj { unop := V }) (X.presheaf.obj { unop := (AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V })","decl":"lemma toScheme_presheaf_obj (V) : Œì(U, V) = Œì(X, U.Œπ ''·µÅ V) := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.toScheme_presheaf_map","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV W : Opposite (TopologicalSpace.Opens ‚Üë‚Üë(‚ÜëU).toPresheafedSpace)\ni : Quiver.Hom V W\n‚ä¢ Eq ((‚ÜëU).presheaf.map i) (X.presheaf.map ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).map i.unop).op)","decl":"@[simp]\nlemma toScheme_presheaf_map {V W} (i : V ‚ü∂ W) :\n    U.toScheme.presheaf.map i = X.presheaf.map (U.Œπ.opensFunctor.map i.unop).op := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app U.Œπ V) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"@[simp]\nlemma Œπ_app (V) : U.Œπ.app V = X.presheaf.map\n    (homOfLE (x := U.Œπ ''·µÅ U.Œπ ‚Åª¬π·µÅ V) (Set.image_preimage_subset _ _)).op :=\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_appTop","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop U.Œπ) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"@[simp]\nlemma Œπ_appTop :\n    U.Œπ.appTop = X.presheaf.map (homOfLE (x := U.Œπ ''·µÅ ‚ä§) le_top).op :=\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_appLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\nW : (‚ÜëU).Opens\ne : LE.le W ((TopologicalSpace.Opens.map U.Œπ.base).obj V)\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appLE U.Œπ V W e) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"@[simp]\nlemma Œπ_appLE (V W e) :\n    U.Œπ.appLE V W e =\n      X.presheaf.map (homOfLE (x := U.Œπ ''·µÅ W) (Set.image_subset_iff.mpr ‚Äπ_‚Ä∫)).op := by\n  simp only [Hom.appLE, Œπ_app, Functor.op_obj, Opens.carrier_eq_coe, toScheme_presheaf_map,\n    Quiver.Hom.unop_op, Hom.opensFunctor_map_homOfLE, Opens.coe_inclusion', ‚Üê Functor.map_comp]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_appIso","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appIso U.Œπ V) (CategoryTheory.Iso.refl (X.presheaf.obj { unop := (AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V }))","decl":"@[simp]\nlemma Œπ_appIso (V) : U.Œπ.appIso V = Iso.refl _ :=\n  X.ofRestrict_appIso _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.opensRange_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.opensRange U.Œπ) U","decl":"@[simp]\nlemma opensRange_Œπ : U.Œπ.opensRange = U :=\n  Opens.ext Subtype.range_val\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.range_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (Set.range ‚áëU.Œπ.base) ‚ÜëU","decl":"@[simp]\nlemma range_Œπ : Set.range U.Œπ.base = U :=\n  Subtype.range_val\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_image_top","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj Top.top) U","decl":"lemma Œπ_image_top : U.Œπ ''·µÅ ‚ä§ = U :=\n  U.isOpenEmbedding_obj_top\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_image_le","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nW : (‚ÜëU).Opens\n‚ä¢ LE.le ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj W) U","decl":"lemma Œπ_image_le (W : U.toScheme.Opens) : U.Œπ ''·µÅ W ‚â§ U := by\n  simp_rw [‚Üê U.Œπ_image_top]\n  exact U.Œπ.image_le_image_of_le le_top\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_preimage_self","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq ((TopologicalSpace.Opens.map U.Œπ.base).obj U) Top.top","decl":"@[simp]\nlemma Œπ_preimage_self : U.Œπ ‚Åª¬π·µÅ U = ‚ä§ :=\n  Opens.inclusion'_map_eq_top _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_appLE_isIso","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ CategoryTheory.IsIso (AlgebraicGeometry.Scheme.Hom.appLE U.Œπ U Top.top ‚ãØ)","decl":"instance Œπ_appLE_isIso :\n    IsIso (U.Œπ.appLE U ‚ä§ U.Œπ_preimage_self.ge) := by\n  simp only [Œπ, ofRestrict_appLE]\n  show IsIso (X.presheaf.map (eqToIso U.Œπ_image_top).hom.op)\n  infer_instance\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_app_self","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app U.Œπ U) (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)","decl":"lemma Œπ_app_self : U.Œπ.app U = X.presheaf.map (eqToHom (X := U.Œπ ''·µÅ _) (by simp)).op := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.eq_presheaf_map_eqToHom","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV W : (‚ÜëU).Opens\ne : Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj W)\n‚ä¢ Eq (X.presheaf.map (CategoryTheory.eqToHom e).op) ((‚ÜëU).presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)","decl":"lemma eq_presheaf_map_eqToHom {V W : Opens U} (e : U.Œπ ''·µÅ V = U.Œπ ''·µÅ W) :\n    X.presheaf.map (eqToHom e).op =\n      U.toScheme.presheaf.map (eqToHom <| U.isOpenEmbedding.functor_obj_injective e).op := rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.nonempty_iff","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Iff (Nonempty ‚Üë‚Üë(‚ÜëU).toPresheafedSpace) (‚ÜëU).Nonempty","decl":"@[simp]\nlemma nonempty_iff : Nonempty U.toScheme ‚Üî (U : Set X).Nonempty := by\n  simp only [toScheme_carrier, SetLike.coe_sort_coe, nonempty_subtype]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.topIso_hom","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq U.topIso.hom (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)","decl":"attribute [-simp] eqToHom_op in\n/-- The global sections of the restriction is isomorphic to the sections on the open set. -/\n@[simps!]\ndef topIso : Œì(U, ‚ä§) ‚âÖ Œì(X, U) :=\n  X.presheaf.mapIso (eqToIso U.Œπ_image_top.symm).op\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.topIso_inv","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq U.topIso.inv (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)","decl":"attribute [-simp] eqToHom_op in\n/-- The global sections of the restriction is isomorphic to the sections on the open set. -/\n@[simps!]\ndef topIso : Œì(U, ‚ä§) ‚âÖ Œì(X, U) :=\n  X.presheaf.mapIso (eqToIso U.Œπ_image_top.symm).op\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.germ_stalkIso_hom","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\nx : Subtype fun x => Membership.mem U x\nhx : Membership.mem V x\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp ((‚ÜëU).presheaf.germ V x hx) (U.stalkIso x).hom) (X.presheaf.germ ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ‚Üëx ‚ãØ)","decl":"@[reassoc (attr := simp)]\nlemma germ_stalkIso_hom {X : Scheme.{u}} (U : X.Opens)\n    {V : U.toScheme.Opens} (x : U) (hx : x ‚àà V) :\n      U.toScheme.presheaf.germ V x hx ‚â´ (U.stalkIso x).hom =\n        X.presheaf.germ (U.Œπ ''·µÅ V) x.1 ‚ü®x, hx, rfl‚ü© :=\n    PresheafedSpace.restrictStalkIso_hom_eq_germ _ U.isOpenEmbedding _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.germ_stalkIso_hom_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\nx : Subtype fun x => Membership.mem U x\nhx : Membership.mem V x\nZ : CommRingCat\nh : Quiver.Hom (X.presheaf.stalk ‚Üëx) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp ((‚ÜëU).presheaf.germ V x hx) (CategoryTheory.CategoryStruct.comp (U.stalkIso x).hom h)) (CategoryTheory.CategoryStruct.comp (X.presheaf.germ ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ‚Üëx ‚ãØ) h)","decl":"@[reassoc (attr := simp)]\nlemma germ_stalkIso_hom {X : Scheme.{u}} (U : X.Opens)\n    {V : U.toScheme.Opens} (x : U) (hx : x ‚àà V) :\n      U.toScheme.presheaf.germ V x hx ‚â´ (U.stalkIso x).hom =\n        X.presheaf.germ (U.Œπ ''·µÅ V) x.1 ‚ü®x, hx, rfl‚ü© :=\n    PresheafedSpace.restrictStalkIso_hom_eq_germ _ U.isOpenEmbedding _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.germ_stalkIso_inv_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\nx : Subtype fun x => Membership.mem U x\nhx : Membership.mem V x\nZ : CommRingCat\nh : Quiver.Hom ((‚ÜëU).presheaf.stalk x) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.presheaf.germ ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ‚Üëx ‚ãØ) (CategoryTheory.CategoryStruct.comp (U.stalkIso x).inv h)) (CategoryTheory.CategoryStruct.comp ((‚ÜëU).presheaf.germ V x hx) h)","decl":"@[reassoc]\nlemma germ_stalkIso_inv {X : Scheme.{u}} (U : X.Opens) (V : U.toScheme.Opens) (x : U)\n    (hx : x ‚àà V) : X.presheaf.germ (U.Œπ ''·µÅ V) x ‚ü®x, hx, rfl‚ü© ‚â´\n      (U.stalkIso x).inv = U.toScheme.presheaf.germ V x hx :=\n  PresheafedSpace.restrictStalkIso_inv_eq_germ X.toPresheafedSpace U.isOpenEmbedding V x hx\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.germ_stalkIso_inv","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nV : (‚ÜëU).Opens\nx : Subtype fun x => Membership.mem U x\nhx : Membership.mem V x\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.presheaf.germ ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ‚Üëx ‚ãØ) (U.stalkIso x).inv) ((‚ÜëU).presheaf.germ V x hx)","decl":"@[reassoc]\nlemma germ_stalkIso_inv {X : Scheme.{u}} (U : X.Opens) (V : U.toScheme.Opens) (x : U)\n    (hx : x ‚àà V) : X.presheaf.germ (U.Œπ ''·µÅ V) x ‚ü®x, hx, rfl‚ü© ‚â´\n      (U.stalkIso x).inv = U.toScheme.presheaf.germ V x hx :=\n  PresheafedSpace.restrictStalkIso_inv_eq_germ X.toPresheafedSpace U.isOpenEmbedding V x hx\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.stalkIso_inv","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nx : Subtype fun x => Membership.mem U x\n‚ä¢ Eq (U.stalkIso x).inv (AlgebraicGeometry.Scheme.Hom.stalkMap U.Œπ x)","decl":"lemma stalkIso_inv {X : Scheme.{u}} (U : X.Opens) (x : U) :\n    (U.stalkIso x).inv = U.Œπ.stalkMap x := by\n  rw [‚Üê Category.comp_id (U.stalkIso x).inv, Iso.inv_comp_eq]\n  apply TopCat.Presheaf.stalk_hom_ext\n  intro W hxW\n  simp only [Category.comp_id, U.germ_stalkIso_hom_assoc]\n  convert (Scheme.stalkMap_germ U.Œπ (U.Œπ ''·µÅ W) x ‚ü®_, hxW, rfl‚ü©).symm\n  refine (U.toScheme.presheaf.germ_res (homOfLE ?_) _ _).symm\n  exact (Set.preimage_image_eq _ Subtype.val_injective).le\n\n"}
{"name":"AlgebraicGeometry.Scheme.openCoverOfISupEqTop_J","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"s : Type u_1\nX : AlgebraicGeometry.Scheme\nU : s ‚Üí X.Opens\nhU : Eq (iSup fun i => U i) Top.top\n‚ä¢ Eq (X.openCoverOfISupEqTop U hU).J s","decl":"/-- If `U` is a family of open sets that covers `X`, then `X.restrict U` forms an `X.open_cover`. -/\n@[simps! J obj map]\ndef Scheme.openCoverOfISupEqTop {s : Type*} (X : Scheme.{u}) (U : s ‚Üí X.Opens)\n    (hU : ‚®Ü i, U i = ‚ä§) : X.OpenCover where\n  J := s\n  obj i := U i\n  map i := (U i).Œπ\n  f x :=\n    haveI : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    (Opens.mem_iSup.mp this).choose\n  covers x := by\n    erw [Subtype.range_coe]\n    have : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    exact (Opens.mem_iSup.mp this).choose_spec\n\n"}
{"name":"AlgebraicGeometry.Scheme.openCoverOfISupEqTop_map","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"s : Type u_1\nX : AlgebraicGeometry.Scheme\nU : s ‚Üí X.Opens\nhU : Eq (iSup fun i => U i) Top.top\ni : s\n‚ä¢ Eq ((X.openCoverOfISupEqTop U hU).map i) (U i).Œπ","decl":"/-- If `U` is a family of open sets that covers `X`, then `X.restrict U` forms an `X.open_cover`. -/\n@[simps! J obj map]\ndef Scheme.openCoverOfISupEqTop {s : Type*} (X : Scheme.{u}) (U : s ‚Üí X.Opens)\n    (hU : ‚®Ü i, U i = ‚ä§) : X.OpenCover where\n  J := s\n  obj i := U i\n  map i := (U i).Œπ\n  f x :=\n    haveI : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    (Opens.mem_iSup.mp this).choose\n  covers x := by\n    erw [Subtype.range_coe]\n    have : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    exact (Opens.mem_iSup.mp this).choose_spec\n\n"}
{"name":"AlgebraicGeometry.Scheme.openCoverOfISupEqTop_obj","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"s : Type u_1\nX : AlgebraicGeometry.Scheme\nU : s ‚Üí X.Opens\nhU : Eq (iSup fun i => U i) Top.top\ni : s\n‚ä¢ Eq ((X.openCoverOfISupEqTop U hU).obj i) ‚Üë(U i)","decl":"/-- If `U` is a family of open sets that covers `X`, then `X.restrict U` forms an `X.open_cover`. -/\n@[simps! J obj map]\ndef Scheme.openCoverOfISupEqTop {s : Type*} (X : Scheme.{u}) (U : s ‚Üí X.Opens)\n    (hU : ‚®Ü i, U i = ‚ä§) : X.OpenCover where\n  J := s\n  obj i := U i\n  map i := (U i).Œπ\n  f x :=\n    haveI : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    (Opens.mem_iSup.mp this).choose\n  covers x := by\n    erw [Subtype.range_coe]\n    have : x ‚àà ‚®Ü i, U i := hU.symm ‚ñ∏ show x ‚àà (‚ä§ : X.Opens) by trivial\n    exact (Opens.mem_iSup.mp this).choose_spec\n\n"}
{"name":"AlgebraicGeometry.coe_opensRestrict_symm_apply","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\na‚úù : Subtype fun V => LE.le V U\n‚ä¢ Eq (‚Üë((AlgebraicGeometry.opensRestrict U).symm a‚úù)) (Set.preimage ‚áëU.Œπ.base ‚Üë‚Üë((Equiv.subtypeEquivProp ‚ãØ).symm a‚úù))","decl":"/-- The open sets of an open subscheme corresponds to the open sets containing in the subset. -/\n@[simps!]\ndef opensRestrict :\n    Scheme.Opens U ‚âÉ { V : X.Opens // V ‚â§ U } :=\n  (IsOpenImmersion.opensEquiv (U.Œπ)).trans (Equiv.subtypeEquivProp (by simp))\n\n"}
{"name":"AlgebraicGeometry.coe_opensRestrict_apply_coe","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\na‚úù : (‚ÜëU).Opens\n‚ä¢ Eq (‚Üë‚Üë((AlgebraicGeometry.opensRestrict U) a‚úù)) (Set.image (fun a => ‚Üëa) ‚Üëa‚úù)","decl":"/-- The open sets of an open subscheme corresponds to the open sets containing in the subset. -/\n@[simps!]\ndef opensRestrict :\n    Scheme.Opens U ‚âÉ { V : X.Opens // V ‚â§ U } :=\n  (IsOpenImmersion.opensEquiv (U.Œπ)).trans (Equiv.subtypeEquivProp (by simp))\n\n"}
{"name":"AlgebraicGeometry.Scheme.map_basicOpen","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nr : ‚Üë((‚ÜëU).presheaf.obj { unop := Top.top })\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((‚ÜëU).basicOpen r)) (X.basicOpen ((CategoryTheory.ConcreteCategory.hom (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)) r))","decl":"lemma Scheme.map_basicOpen (r : Œì(U, ‚ä§)) :\n    U.Œπ ''·µÅ U.toScheme.basicOpen r = X.basicOpen\n      (X.presheaf.map (eqToHom U.isOpenEmbedding_obj_top.symm).op r) := by\n  refine (Scheme.image_basicOpen (X.ofRestrict U.isOpenEmbedding) r).trans ?_\n  rw [‚Üê Scheme.basicOpen_res_eq _ _ (eqToHom U.isOpenEmbedding_obj_top).op]\n  rw [‚Üê CommRingCat.comp_apply, ‚Üê CategoryTheory.Functor.map_comp, ‚Üê op_comp, eqToHom_trans,\n    eqToHom_refl, op_id, CategoryTheory.Functor.map_id]\n  congr\n  exact PresheafedSpace.IsOpenImmersion.ofRestrict_invApp _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.map_basicOpen'","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nr : ‚Üë((‚ÜëU).presheaf.obj { unop := Top.top })\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((‚ÜëU).basicOpen r)) (X.basicOpen ((CategoryTheory.ConcreteCategory.hom (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)) r))","decl":"@[deprecated (since := \"2024-10-23\")] alias Scheme.map_basicOpen' := Scheme.map_basicOpen\n\n"}
{"name":"AlgebraicGeometry.Scheme.Opens.Œπ_image_basicOpen","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nr : ‚Üë((‚ÜëU).presheaf.obj { unop := Top.top })\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((‚ÜëU).basicOpen r)) (X.basicOpen r)","decl":"lemma Scheme.Opens.Œπ_image_basicOpen (r : Œì(U, ‚ä§)) :\n    U.Œπ ''·µÅ U.toScheme.basicOpen r = X.basicOpen r := by\n  rw [Scheme.map_basicOpen, Scheme.basicOpen_res_eq]\n\n"}
{"name":"AlgebraicGeometry.Scheme.map_basicOpen_map","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\nr : ‚Üë(X.presheaf.obj { unop := U })\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((‚ÜëU).basicOpen ((CategoryTheory.ConcreteCategory.hom U.topIso.inv) r))) (X.basicOpen r)","decl":"lemma Scheme.map_basicOpen_map (r : Œì(X, U)) :\n    U.Œπ ''·µÅ (U.toScheme.basicOpen <| U.topIso.inv r) = X.basicOpen r := by\n  simp only [Scheme.Opens.toScheme_presheaf_obj]\n  rw [Scheme.map_basicOpen, Scheme.basicOpen_res_eq, Scheme.Opens.topIso_inv,\n    Scheme.basicOpen_res_eq X]\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e) V.Œπ) U.Œπ","decl":"@[reassoc (attr := simp)]\nlemma Scheme.homOfLE_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U ‚â§ V) :\n    X.homOfLE e ‚â´ V.Œπ = U.Œπ :=\n  IsOpenImmersion.lift_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e) (CategoryTheory.CategoryStruct.comp V.Œπ h)) (CategoryTheory.CategoryStruct.comp U.Œπ h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.homOfLE_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U ‚â§ V) :\n    X.homOfLE e ‚â´ V.Œπ = U.Œπ :=\n  IsOpenImmersion.lift_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.instIsOverHomOfLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\nh : LE.le U V\n‚ä¢ AlgebraicGeometry.Scheme.Hom.IsOver (X.homOfLE h) X","decl":"instance {U V : X.Opens} (h : U ‚â§ V) : (X.homOfLE h).IsOver X where\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_rfl","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (X.homOfLE ‚ãØ) (CategoryTheory.CategoryStruct.id ‚ÜëU)","decl":"@[simp]\nlemma Scheme.homOfLE_rfl (X : Scheme.{u}) (U : X.Opens) : X.homOfLE (refl U) = ùüô _ := by\n  rw [‚Üê cancel_mono U.Œπ, Scheme.homOfLE_Œπ, Category.id_comp]\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_homOfLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V W : X.Opens\ne‚ÇÅ : LE.le U V\ne‚ÇÇ : LE.le V W\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e‚ÇÅ) (X.homOfLE e‚ÇÇ)) (X.homOfLE ‚ãØ)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.homOfLE_homOfLE (X : Scheme.{u}) {U V W : X.Opens} (e‚ÇÅ : U ‚â§ V) (e‚ÇÇ : V ‚â§ W) :\n    X.homOfLE e‚ÇÅ ‚â´ X.homOfLE e‚ÇÇ = X.homOfLE (e‚ÇÅ.trans e‚ÇÇ) := by\n  rw [‚Üê cancel_mono W.Œπ, Category.assoc, Scheme.homOfLE_Œπ, Scheme.homOfLE_Œπ, Scheme.homOfLE_Œπ]\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_homOfLE_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V W : X.Opens\ne‚ÇÅ : LE.le U V\ne‚ÇÇ : LE.le V W\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëW) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e‚ÇÅ) (CategoryTheory.CategoryStruct.comp (X.homOfLE e‚ÇÇ) h)) (CategoryTheory.CategoryStruct.comp (X.homOfLE ‚ãØ) h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.homOfLE_homOfLE (X : Scheme.{u}) {U V W : X.Opens} (e‚ÇÅ : U ‚â§ V) (e‚ÇÇ : V ‚â§ W) :\n    X.homOfLE e‚ÇÅ ‚â´ X.homOfLE e‚ÇÇ = X.homOfLE (e‚ÇÅ.trans e‚ÇÇ) := by\n  rw [‚Üê cancel_mono W.Œπ, Category.assoc, Scheme.homOfLE_Œπ, Scheme.homOfLE_Œπ, Scheme.homOfLE_Œπ]\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_base","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ Eq (X.homOfLE e).base ((TopologicalSpace.Opens.toTopCat ‚ÜëX.toPresheafedSpace).map (CategoryTheory.homOfLE e))","decl":"theorem Scheme.homOfLE_base {U V : X.Opens} (e : U ‚â§ V) :\n    (X.homOfLE e).base = (Opens.toTopCat _).map (homOfLE e) := by\n  ext a; refine Subtype.ext ?_ -- Porting note: `ext` did not pick up `Subtype.ext`\n  exact congr($(X.homOfLE_Œπ e).base a)\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_apply","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nx : Subtype fun x => Membership.mem U x\n‚ä¢ Eq ‚Üë((X.homOfLE e).base x) ‚Üëx","decl":"@[simp]\ntheorem Scheme.homOfLE_apply {U V : X.Opens} (e : U ‚â§ V) (x : U) :\n    ((X.homOfLE e).base x).1 = x := by\n  rw [homOfLE_base]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Œπ_image_homOfLE_le_Œπ_image","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nW : (‚ÜëV).Opens\n‚ä¢ LE.le ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((TopologicalSpace.Opens.map (X.homOfLE e).base).obj W)) ((AlgebraicGeometry.Scheme.Hom.opensFunctor V.Œπ).obj W)","decl":"theorem Scheme.Œπ_image_homOfLE_le_Œπ_image {U V : X.Opens} (e : U ‚â§ V) (W : Opens V) :\n    U.Œπ ''·µÅ (X.homOfLE e ‚Åª¬π·µÅ W) ‚â§ V.Œπ ''·µÅ W := by\n  simp only [‚Üê SetLike.coe_subset_coe, IsOpenMap.coe_functor_obj, Set.image_subset_iff,\n    Scheme.homOfLE_base, Opens.map_coe, Opens.inclusion'_apply]\n  rintro _ h\n  exact ‚ü®_, h, rfl‚ü©\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nW : (‚ÜëV).Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app (X.homOfLE e) W) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"@[simp]\ntheorem Scheme.homOfLE_app {U V : X.Opens} (e : U ‚â§ V) (W : Opens V) :\n    (X.homOfLE e).app W =\n      X.presheaf.map (homOfLE <| X.Œπ_image_homOfLE_le_Œπ_image e W).op := by\n  have e‚ÇÅ := Scheme.congr_app (X.homOfLE_Œπ e) (V.Œπ ''·µÅ W)\n  have : V.Œπ ‚Åª¬π·µÅ V.Œπ ''·µÅ W = W := W.map_functor_eq (U := V)\n  have e‚ÇÇ := (X.homOfLE e).naturality (eqToIso this).hom.op\n  have e‚ÇÉ := e‚ÇÇ.symm.trans e‚ÇÅ\n  dsimp at e‚ÇÉ ‚ä¢\n  rw [‚Üê IsIso.eq_comp_inv, ‚Üê Functor.map_inv, ‚Üê Functor.map_comp] at e‚ÇÉ\n  rw [e‚ÇÉ, ‚Üê Functor.map_comp]\n  congr 1\n\n"}
{"name":"AlgebraicGeometry.Scheme.homOfLE_appTop","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop (X.homOfLE e)) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"theorem Scheme.homOfLE_appTop {U V : X.Opens} (e : U ‚â§ V) :\n    (X.homOfLE e).appTop =\n      X.presheaf.map (homOfLE <| X.Œπ_image_homOfLE_le_Œπ_image e ‚ä§).op :=\n  homOfLE_app ..\n\n"}
{"name":"AlgebraicGeometry.instIsOpenImmersionHomOfLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ AlgebraicGeometry.IsOpenImmersion (X.homOfLE e)","decl":"instance (X : Scheme.{u}) {U V : X.Opens} (e : U ‚â§ V) : IsOpenImmersion (X.homOfLE e) := by\n  delta Scheme.homOfLE\n  infer_instance\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_obj_left","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (X.restrictFunctor.obj U).left ‚ÜëU","decl":"variable (X) in\n/-- The functor taking open subsets of `X` to open subschemes of `X`. -/\n@[simps! obj_left obj_hom map_left]\ndef Scheme.restrictFunctor : X.Opens ‚•§ Over X where\n  obj U := Over.mk U.Œπ\n  map {U V} i := Over.homMk (X.homOfLE i.le) (by simp)\n  map_id U := by\n    ext1\n    exact Scheme.homOfLE_rfl _ _\n  map_comp {U V W} i j := by\n    ext1\n    exact (X.homOfLE_homOfLE i.le j.le).symm\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_left","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ni : Quiver.Hom U V\n‚ä¢ Eq (X.restrictFunctor.map i).left (X.homOfLE ‚ãØ)","decl":"variable (X) in\n/-- The functor taking open subsets of `X` to open subschemes of `X`. -/\n@[simps! obj_left obj_hom map_left]\ndef Scheme.restrictFunctor : X.Opens ‚•§ Over X where\n  obj U := Over.mk U.Œπ\n  map {U V} i := Over.homMk (X.homOfLE i.le) (by simp)\n  map_id U := by\n    ext1\n    exact Scheme.homOfLE_rfl _ _\n  map_comp {U V W} i j := by\n    ext1\n    exact (X.homOfLE_homOfLE i.le j.le).symm\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_obj_hom","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (X.restrictFunctor.obj U).hom U.Œπ","decl":"variable (X) in\n/-- The functor taking open subsets of `X` to open subschemes of `X`. -/\n@[simps! obj_left obj_hom map_left]\ndef Scheme.restrictFunctor : X.Opens ‚•§ Over X where\n  obj U := Over.mk U.Œπ\n  map {U V} i := Over.homMk (X.homOfLE i.le) (by simp)\n  map_id U := by\n    ext1\n    exact Scheme.homOfLE_rfl _ _\n  map_comp {U V W} i j := by\n    ext1\n    exact (X.homOfLE_homOfLE i.le j.le).symm\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_ofRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e) V.Œπ) U.Œπ","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictFunctor_map_ofRestrict := Scheme.homOfLE_Œπ\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_ofRestrict_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE e) (CategoryTheory.CategoryStruct.comp V.Œπ h)) (CategoryTheory.CategoryStruct.comp U.Œπ h)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictFunctor_map_ofRestrict_assoc := Scheme.homOfLE_Œπ_assoc\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_base","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\n‚ä¢ Eq (X.homOfLE e).base ((TopologicalSpace.Opens.toTopCat ‚ÜëX.toPresheafedSpace).map (CategoryTheory.homOfLE e))","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictFunctor_map_base := Scheme.homOfLE_base\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_app_aux","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nW : (‚ÜëV).Opens\n‚ä¢ LE.le ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj ((TopologicalSpace.Opens.map (X.homOfLE e).base).obj W)) ((AlgebraicGeometry.Scheme.Hom.opensFunctor V.Œπ).obj W)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictFunctor_map_app_aux := Scheme.Œπ_image_homOfLE_le_Œπ_image\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctor_map_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : LE.le U V\nW : (‚ÜëV).Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app (X.homOfLE e) W) (X.presheaf.map (CategoryTheory.homOfLE ‚ãØ).op)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictFunctor_map_app := Scheme.homOfLE_app\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctorŒì_hom_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X‚úù : AlgebraicGeometry.Scheme\nX : Opposite X‚úù.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.restrictFunctorŒì.hom.app X) (X‚úù.presheaf.map (CategoryTheory.eqToHom ‚ãØ))","decl":"/-- The functor that restricts to open subschemes and then takes global section is\nisomorphic to the structure sheaf. -/\n@[simps!]\ndef Scheme.restrictFunctorŒì : X.restrictFunctor.op ‚ãô (Over.forget X).op ‚ãô Scheme.Œì ‚âÖ X.presheaf :=\n  NatIso.ofComponents\n    (fun U => X.presheaf.mapIso ((eqToIso (unop U).isOpenEmbedding_obj_top).symm.op :))\n    (by\n      intro U V i\n      dsimp\n      rw [X.homOfLE_appTop, ‚Üê Functor.map_comp, ‚Üê Functor.map_comp]\n      congr 1)\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictFunctorŒì_inv_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X‚úù : AlgebraicGeometry.Scheme\nX : Opposite X‚úù.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.restrictFunctorŒì.inv.app X) (X‚úù.presheaf.map (CategoryTheory.eqToHom ‚ãØ))","decl":"/-- The functor that restricts to open subschemes and then takes global section is\nisomorphic to the structure sheaf. -/\n@[simps!]\ndef Scheme.restrictFunctorŒì : X.restrictFunctor.op ‚ãô (Over.forget X).op ‚ãô Scheme.Œì ‚âÖ X.presheaf :=\n  NatIso.ofComponents\n    (fun U => X.presheaf.mapIso ((eqToIso (unop U).isOpenEmbedding_obj_top).symm.op :))\n    (by\n      intro U V i\n      dsimp\n      rw [X.homOfLE_appTop, ‚Üê Functor.map_comp, ‚Üê Functor.map_comp]\n      congr 1)\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.isoImage_hom_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).hom ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ) (CategoryTheory.CategoryStruct.comp U.Œπ f)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.isoImage_hom_Œπ\n    {X Y : Scheme.{u}} (f : X ‚ü∂ Y) [IsOpenImmersion f] (U : X.Opens) :\n    (f.isoImage U).hom ‚â´ (f ''·µÅ U).Œπ = U.Œπ ‚â´ f :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.isoImage_hom_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).hom (CategoryTheory.CategoryStruct.comp ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ h)) (CategoryTheory.CategoryStruct.comp U.Œπ (CategoryTheory.CategoryStruct.comp f h))","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.isoImage_hom_Œπ\n    {X Y : Scheme.{u}} (f : X ‚ü∂ Y) [IsOpenImmersion f] (U : X.Opens) :\n    (f.isoImage U).hom ‚â´ (f ''·µÅ U).Œπ = U.Œπ ‚â´ f :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.isoImage_inv_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).inv (CategoryTheory.CategoryStruct.comp U.Œπ (CategoryTheory.CategoryStruct.comp f h))) (CategoryTheory.CategoryStruct.comp ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.isoImage_inv_Œπ\n    {X Y : Scheme.{u}} (f : X ‚ü∂ Y) [IsOpenImmersion f] (U : X.Opens) :\n    (f.isoImage U).inv ‚â´ U.Œπ ‚â´ f = (f ''·µÅ U).Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.isoImage_inv_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).inv (CategoryTheory.CategoryStruct.comp U.Œπ f)) ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.isoImage_inv_Œπ\n    {X Y : Scheme.{u}} (f : X ‚ü∂ Y) [IsOpenImmersion f] (U : X.Opens) :\n    (f.isoImage U).inv ‚â´ U.Œπ ‚â´ f = (f ''·µÅ U).Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.restrictRestrict_hom_restrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).hom ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ) (CategoryTheory.CategoryStruct.comp U.Œπ f)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictRestrict_hom_restrict := Scheme.Hom.isoImage_hom_Œπ\n"}
{"name":"AlgebraicGeometry.Scheme.restrictRestrict_inv_restrict_restrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).inv (CategoryTheory.CategoryStruct.comp U.Œπ f)) ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictRestrict_inv_restrict_restrict := Scheme.Hom.isoImage_inv_Œπ\n"}
{"name":"AlgebraicGeometry.Scheme.restrictRestrict_hom_restrict_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).hom (CategoryTheory.CategoryStruct.comp ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ h)) (CategoryTheory.CategoryStruct.comp U.Œπ (CategoryTheory.CategoryStruct.comp f h))","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictRestrict_hom_restrict_assoc := Scheme.Hom.isoImage_hom_Œπ_assoc\n"}
{"name":"AlgebraicGeometry.Scheme.restrictRestrict_inv_restrict_restrict_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\nU : X.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.isoImage f U).inv (CategoryTheory.CategoryStruct.comp U.Œπ (CategoryTheory.CategoryStruct.comp f h))) (CategoryTheory.CategoryStruct.comp ((AlgebraicGeometry.Scheme.Hom.opensFunctor f).obj U).Œπ h)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias Scheme.restrictRestrict_inv_restrict_restrict_assoc := Scheme.Hom.isoImage_inv_Œπ_assoc\n\n"}
{"name":"AlgebraicGeometry.Scheme.topIso_hom","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\n‚ä¢ Eq X.topIso.hom Top.top.Œπ","decl":"/-- `(‚ä§ : X.Opens)` as a scheme is isomorphic to `X`. -/\n@[simps hom]\ndef Scheme.topIso (X : Scheme) : ‚Üë(‚ä§ : X.Opens) ‚âÖ X where\n  hom := Scheme.Opens.Œπ _\n  inv := ‚ü®X.restrictTopIso.inv‚ü©\n  hom_inv_id := Hom.ext' X.restrictTopIso.hom_inv_id\n  inv_hom_id := Hom.ext' X.restrictTopIso.inv_hom_id\n\n"}
{"name":"AlgebraicGeometry.Scheme.toIso_inv_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Z : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp X.topIso.inv (CategoryTheory.CategoryStruct.comp Top.top.Œπ h)) h","decl":"@[reassoc (attr := simp)]\nlemma Scheme.toIso_inv_Œπ (X : Scheme.{u}) : X.topIso.inv ‚â´ Opens.Œπ _ = ùüô _ :=\n  X.topIso.inv_hom_id\n\n"}
{"name":"AlgebraicGeometry.Scheme.toIso_inv_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp X.topIso.inv Top.top.Œπ) (CategoryTheory.CategoryStruct.id X)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.toIso_inv_Œπ (X : Scheme.{u}) : X.topIso.inv ‚â´ Opens.Œπ _ = ùüô _ :=\n  X.topIso.inv_hom_id\n\n"}
{"name":"AlgebraicGeometry.Scheme.Œπ_toIso_inv_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Z : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëTop.top) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp Top.top.Œπ (CategoryTheory.CategoryStruct.comp X.topIso.inv h)) h","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Œπ_toIso_inv (X : Scheme.{u}) : Opens.Œπ _ ‚â´ X.topIso.inv = ùüô _ :=\n  X.topIso.hom_inv_id\n\n"}
{"name":"AlgebraicGeometry.Scheme.Œπ_toIso_inv","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp Top.top.Œπ X.topIso.inv) (CategoryTheory.CategoryStruct.id ‚ÜëTop.top)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Œπ_toIso_inv (X : Scheme.{u}) : Opens.Œπ _ ‚â´ X.topIso.inv = ùüô _ :=\n  X.topIso.hom_inv_id\n\n"}
{"name":"AlgebraicGeometry.Scheme.isoOfEq_hom_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : Eq U V\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.isoOfEq e).hom V.Œπ) U.Œπ","decl":"@[reassoc (attr := simp)]\nlemma Scheme.isoOfEq_hom_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U = V) :\n    (X.isoOfEq e).hom ‚â´ V.Œπ = U.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.isoOfEq_hom_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : Eq U V\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.isoOfEq e).hom (CategoryTheory.CategoryStruct.comp V.Œπ h)) (CategoryTheory.CategoryStruct.comp U.Œπ h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.isoOfEq_hom_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U = V) :\n    (X.isoOfEq e).hom ‚â´ V.Œπ = U.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.isoOfEq_inv_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : Eq U V\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.isoOfEq e).inv U.Œπ) V.Œπ","decl":"@[reassoc (attr := simp)]\nlemma Scheme.isoOfEq_inv_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U = V) :\n    (X.isoOfEq e).inv ‚â´ U.Œπ = V.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.isoOfEq_inv_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\ne : Eq U V\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.isoOfEq e).inv (CategoryTheory.CategoryStruct.comp U.Œπ h)) (CategoryTheory.CategoryStruct.comp V.Œπ h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.isoOfEq_inv_Œπ (X : Scheme.{u}) {U V : X.Opens} (e : U = V) :\n    (X.isoOfEq e).inv ‚â´ U.Œπ = V.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.isoOfEq_rfl","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (X.isoOfEq ‚ãØ) (CategoryTheory.Iso.refl ‚ÜëU)","decl":"@[simp]\nlemma Scheme.isoOfEq_rfl (X : Scheme.{u}) (U : X.Opens) : X.isoOfEq (refl U) = Iso.refl _ := by\n  ext1\n  rw [‚Üê cancel_mono U.Œπ, Scheme.isoOfEq_hom_Œπ, Iso.refl_hom, Category.id_comp]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.preimageIso_hom_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : X.Hom Y\ninst‚úù : CategoryTheory.IsIso f\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (f.preimageIso U).hom (CategoryTheory.CategoryStruct.comp U.Œπ h)) (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ (CategoryTheory.CategoryStruct.comp f h))","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.preimageIso_hom_Œπ {X Y : Scheme.{u}} (f : X.Hom Y) [IsIso (C := Scheme) f]\n    (U : Y.Opens) : (f.preimageIso U).hom ‚â´ U.Œπ = (f ‚Åª¬π·µÅ U).Œπ ‚â´ f :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.preimageIso_hom_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : X.Hom Y\ninst‚úù : CategoryTheory.IsIso f\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (f.preimageIso U).hom U.Œπ) (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ f)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.preimageIso_hom_Œπ {X Y : Scheme.{u}} (f : X.Hom Y) [IsIso (C := Scheme) f]\n    (U : Y.Opens) : (f.preimageIso U).hom ‚â´ U.Œπ = (f ‚Åª¬π·µÅ U).Œπ ‚â´ f :=\n  IsOpenImmersion.isoOfRangeEq_hom_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.preimageIso_inv_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : X.Hom Y\ninst‚úù : CategoryTheory.IsIso f\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (f.preimageIso U).inv (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ (CategoryTheory.CategoryStruct.comp f h))) (CategoryTheory.CategoryStruct.comp U.Œπ h)","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.preimageIso_inv_Œπ {X Y : Scheme.{u}} (f : X.Hom Y) [IsIso (C := Scheme) f]\n    (U : Y.Opens) : (f.preimageIso U).inv ‚â´ (f ‚Åª¬π·µÅ U).Œπ ‚â´ f = U.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.preimageIso_inv_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : X.Hom Y\ninst‚úù : CategoryTheory.IsIso f\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (f.preimageIso U).inv (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ f)) U.Œπ","decl":"@[reassoc (attr := simp)]\nlemma Scheme.Hom.preimageIso_inv_Œπ {X Y : Scheme.{u}} (f : X.Hom Y) [IsIso (C := Scheme) f]\n    (U : Y.Opens) : (f.preimageIso U).inv ‚â´ (f ‚Åª¬π·µÅ U).Œπ ‚â´ f = U.Œπ :=\n  IsOpenImmersion.isoOfRangeEq_inv_fac _ _ _\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_inv_fst_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).inv (CategoryTheory.CategoryStruct.comp (CategoryTheory.Limits.pullback.fst f U.Œπ) h)) (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ h)","decl":"@[simp, reassoc]\ntheorem pullbackRestrictIsoRestrict_inv_fst {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (pullbackRestrictIsoRestrict f U).inv ‚â´ pullback.fst f _ = (f ‚Åª¬π·µÅ U).Œπ := by\n  delta pullbackRestrictIsoRestrict; simp\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_inv_fst","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).inv (CategoryTheory.Limits.pullback.fst f U.Œπ)) ((TopologicalSpace.Opens.map f.base).obj U).Œπ","decl":"@[simp, reassoc]\ntheorem pullbackRestrictIsoRestrict_inv_fst {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (pullbackRestrictIsoRestrict f U).inv ‚â´ pullback.fst f _ = (f ‚Åª¬π·µÅ U).Œπ := by\n  delta pullbackRestrictIsoRestrict; simp\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom ((TopologicalSpace.Opens.map f.base).obj U).Œπ) (CategoryTheory.Limits.pullback.fst f U.Œπ)","decl":"@[reassoc (attr := simp)]\ntheorem pullbackRestrictIsoRestrict_hom_Œπ {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (pullbackRestrictIsoRestrict f U).hom ‚â´ (f ‚Åª¬π·µÅ U).Œπ = pullback.fst f _ := by\n  delta pullbackRestrictIsoRestrict; simp\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ h)) (CategoryTheory.CategoryStruct.comp (CategoryTheory.Limits.pullback.fst f U.Œπ) h)","decl":"@[reassoc (attr := simp)]\ntheorem pullbackRestrictIsoRestrict_hom_Œπ {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (pullbackRestrictIsoRestrict f U).hom ‚â´ (f ‚Åª¬π·µÅ U).Œπ = pullback.fst f _ := by\n  delta pullbackRestrictIsoRestrict; simp\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_restrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom ((TopologicalSpace.Opens.map f.base).obj U).Œπ) (CategoryTheory.Limits.pullback.fst f U.Œπ)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias pullbackRestrictIsoRestrict_hom_restrict := pullbackRestrictIsoRestrict_hom_Œπ\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_restrict_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom X Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ h)) (CategoryTheory.CategoryStruct.comp (CategoryTheory.Limits.pullback.fst f U.Œπ) h)","decl":"@[deprecated (since := \"2024-10-20\")]\nalias pullbackRestrictIsoRestrict_hom_restrict_assoc := pullbackRestrictIsoRestrict_hom_Œπ_assoc\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_morphismRestrict_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëU) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.morphismRestrict f U) h)) (CategoryTheory.CategoryStruct.comp (CategoryTheory.Limits.pullback.snd f U.Œπ) h)","decl":"@[reassoc (attr := simp)]\ntheorem pullbackRestrictIsoRestrict_hom_morphismRestrict {X Y : Scheme.{u}} (f : X ‚ü∂ Y)\n    (U : Y.Opens) : (pullbackRestrictIsoRestrict f U).hom ‚â´ f ‚à£_ U = pullback.snd _ _ :=\n  Iso.hom_inv_id_assoc _ _\n\n"}
{"name":"AlgebraicGeometry.pullbackRestrictIsoRestrict_hom_morphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.pullbackRestrictIsoRestrict f U).hom (AlgebraicGeometry.morphismRestrict f U)) (CategoryTheory.Limits.pullback.snd f U.Œπ)","decl":"@[reassoc (attr := simp)]\ntheorem pullbackRestrictIsoRestrict_hom_morphismRestrict {X Y : Scheme.{u}} (f : X ‚ü∂ Y)\n    (U : Y.Opens) : (pullbackRestrictIsoRestrict f U).hom ‚â´ f ‚à£_ U = pullback.snd _ _ :=\n  Iso.hom_inv_id_assoc _ _\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.morphismRestrict f U) (CategoryTheory.CategoryStruct.comp U.Œπ h)) (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ (CategoryTheory.CategoryStruct.comp f h))","decl":"@[reassoc (attr := simp)]\ntheorem morphismRestrict_Œπ {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (f ‚à£_ U) ‚â´ U.Œπ = (f ‚Åª¬π·µÅ U).Œπ ‚â´ f := by\n  delta morphismRestrict\n  rw [Category.assoc, pullback.condition.symm, pullbackRestrictIsoRestrict_inv_fst_assoc]\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.morphismRestrict f U) U.Œπ) (CategoryTheory.CategoryStruct.comp ((TopologicalSpace.Opens.map f.base).obj U).Œπ f)","decl":"@[reassoc (attr := simp)]\ntheorem morphismRestrict_Œπ {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (f ‚à£_ U) ‚â´ U.Œπ = (f ‚Åª¬π·µÅ U).Œπ ‚â´ f := by\n  delta morphismRestrict\n  rw [Category.assoc, pullback.condition.symm, pullbackRestrictIsoRestrict_inv_fst_assoc]\n\n"}
{"name":"AlgebraicGeometry.isPullback_morphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ CategoryTheory.IsPullback (AlgebraicGeometry.morphismRestrict f U) ((TopologicalSpace.Opens.map f.base).obj U).Œπ U.Œπ f","decl":"theorem isPullback_morphismRestrict {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    IsPullback (f ‚à£_ U) (f ‚Åª¬π·µÅ U).Œπ U.Œπ f := by\n  delta morphismRestrict\n  rw [‚Üê Category.id_comp f]\n  refine\n    (IsPullback.of_horiz_isIso ‚ü®?_‚ü©).paste_horiz\n      (IsPullback.of_hasPullback f (Y.ofRestrict U.isOpenEmbedding)).flip\n  -- Porting note: changed `rw` to `erw`\n  erw [pullbackRestrictIsoRestrict_inv_fst]; rw [Category.comp_id]\n\n"}
{"name":"AlgebraicGeometry.isPullback_opens_inf_le","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V W : X.Opens\nhU : LE.le U W\nhV : LE.le V W\n‚ä¢ CategoryTheory.IsPullback (X.homOfLE ‚ãØ) (X.homOfLE ‚ãØ) (X.homOfLE hU) (X.homOfLE hV)","decl":"lemma isPullback_opens_inf_le {X : Scheme} {U V W : X.Opens} (hU : U ‚â§ W) (hV : V ‚â§ W) :\n    IsPullback (X.homOfLE inf_le_left) (X.homOfLE inf_le_right) (X.homOfLE hU) (X.homOfLE hV) := by\n  refine (isPullback_morphismRestrict (X.homOfLE hV) (W.Œπ ‚Åª¬π·µÅ U)).of_iso (V.Œπ.isoImage _ ‚â™‚â´\n    X.isoOfEq ?_) (W.Œπ.isoImage _ ‚â™‚â´ X.isoOfEq ?_) (Iso.refl _) (Iso.refl _) ?_ ?_ ?_ ?_\n  ¬∑ rw [‚Üê TopologicalSpace.Opens.map_comp_obj, ‚Üê Scheme.comp_base, Scheme.homOfLE_Œπ]\n    exact V.functor_map_eq_inf U\n  ¬∑ exact (W.functor_map_eq_inf U).trans (by simpa)\n  all_goals { simp [‚Üê cancel_mono (Scheme.Opens.Œπ _)] }\n\n"}
{"name":"AlgebraicGeometry.isPullback_opens_inf","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU V : X.Opens\n‚ä¢ CategoryTheory.IsPullback (X.homOfLE ‚ãØ) (X.homOfLE ‚ãØ) U.Œπ V.Œπ","decl":"lemma isPullback_opens_inf {X : Scheme} (U V : X.Opens) :\n    IsPullback (X.homOfLE inf_le_left) (X.homOfLE inf_le_right) U.Œπ V.Œπ :=\n  (isPullback_morphismRestrict V.Œπ U).of_iso (V.Œπ.isoImage _ ‚â™‚â´ X.isoOfEq\n    (V.functor_map_eq_inf U)) (Iso.refl _) (Iso.refl _) (Iso.refl _) (by simp [‚Üê cancel_mono U.Œπ])\n    (by simp [‚Üê cancel_mono V.Œπ]) (by simp) (by simp)\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_id","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nU : X.Opens\n‚ä¢ Eq (AlgebraicGeometry.morphismRestrict (CategoryTheory.CategoryStruct.id X) U) (CategoryTheory.CategoryStruct.id ‚Üë((TopologicalSpace.Opens.map (CategoryTheory.CategoryStruct.id X).base).obj U))","decl":"@[simp]\nlemma morphismRestrict_id {X : Scheme.{u}} (U : X.Opens) : ùüô X ‚à£_ U = ùüô _ := by\n  rw [‚Üê cancel_mono U.Œπ, morphismRestrict_Œπ, Category.comp_id, Category.id_comp]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_comp","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y Z : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ng : Quiver.Hom Y Z\nU : TopologicalSpace.Opens ‚Üë‚ÜëZ.toPresheafedSpace\n‚ä¢ Eq (AlgebraicGeometry.morphismRestrict (CategoryTheory.CategoryStruct.comp f g) U) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.morphismRestrict f ((TopologicalSpace.Opens.map g.base).obj U)) (AlgebraicGeometry.morphismRestrict g U))","decl":"theorem morphismRestrict_comp {X Y Z : Scheme.{u}} (f : X ‚ü∂ Y) (g : Y ‚ü∂ Z) (U : Opens Z) :\n    (f ‚â´ g) ‚à£_ U = f ‚à£_ g ‚Åª¬π·µÅ U ‚â´ g ‚à£_ U := by\n  delta morphismRestrict\n  rw [‚Üê pullbackRightPullbackFstIso_inv_snd_snd]\n  simp_rw [‚Üê Category.assoc]\n  congr 1\n  rw [‚Üê cancel_mono (pullback.fst _ _)]\n  simp_rw [Category.assoc]\n  rw [pullbackRestrictIsoRestrict_inv_fst, pullbackRightPullbackFstIso_inv_snd_fst, ‚Üê\n    pullback.condition, pullbackRestrictIsoRestrict_inv_fst_assoc,\n    pullbackRestrictIsoRestrict_inv_fst_assoc]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.instIsIsoSchemeMorphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst‚úù : CategoryTheory.IsIso f\nU : Y.Opens\n‚ä¢ CategoryTheory.IsIso (AlgebraicGeometry.morphismRestrict f U)","decl":"instance {X Y : Scheme.{u}} (f : X ‚ü∂ Y) [IsIso f] (U : Y.Opens) : IsIso (f ‚à£_ U) := by\n  delta morphismRestrict; infer_instance\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_base_coe","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nx : ‚Üë‚Üë(‚Üë((TopologicalSpace.Opens.map f.base).obj U)).toPresheafedSpace\n‚ä¢ Eq (Coe.coe ((AlgebraicGeometry.morphismRestrict f U).base x)) (f.base ‚Üëx)","decl":"theorem morphismRestrict_base_coe {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) (x) :\n    @Coe.coe U Y (‚ü®fun x => x.1‚ü©) ((f ‚à£_ U).base x) = f.base x.1 :=\n  congr_arg (fun f => (Scheme.Hom.toLRSHom f).base x)\n    (morphismRestrict_Œπ f U)\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_base","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (‚áë(AlgebraicGeometry.morphismRestrict f U).base) (U.carrier.restrictPreimage ‚áëf.base)","decl":"theorem morphismRestrict_base {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    ‚áë(f ‚à£_ U).base = U.1.restrictPreimage f.base :=\n  funext fun x => Subtype.ext (morphismRestrict_base_coe f U x)\n\n"}
{"name":"AlgebraicGeometry.image_morphismRestrict_preimage","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : TopologicalSpace.Opens ‚Üë‚Üë(‚ÜëU).toPresheafedSpace\n‚ä¢ Eq ((AlgebraicGeometry.Scheme.Hom.opensFunctor ((TopologicalSpace.Opens.map f.base).obj U).Œπ).obj ((TopologicalSpace.Opens.map (AlgebraicGeometry.morphismRestrict f U).base).obj V)) ((TopologicalSpace.Opens.map f.base).obj ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V))","decl":"theorem image_morphismRestrict_preimage {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) (V : Opens U) :\n    (f ‚Åª¬π·µÅ U).Œπ ''·µÅ ((f ‚à£_ U) ‚Åª¬π·µÅ V) = f ‚Åª¬π·µÅ (U.Œπ ''·µÅ V) := by\n  ext1\n  ext x\n  constructor\n  ¬∑ rintro ‚ü®‚ü®x, hx‚ü©, hx' : (f ‚à£_ U).base _ ‚àà V, rfl‚ü©\n    refine ‚ü®‚ü®_, hx‚ü©, ?_, rfl‚ü©\n    -- Porting note: this rewrite was not necessary\n    rw [SetLike.mem_coe]\n    convert hx'\n    -- Porting note (https://github.com/leanprover-community/mathlib4/issues/11041): `ext1` is not compiling\n    refine Subtype.ext ?_\n    exact (morphismRestrict_base_coe f U ‚ü®x, hx‚ü©).symm\n  ¬∑ rintro ‚ü®‚ü®x, hx‚ü©, hx' : _ ‚àà V.1, rfl : x = _‚ü©\n    refine ‚ü®‚ü®_, hx‚ü©, (?_ : (f ‚à£_ U).base ‚ü®x, hx‚ü© ‚àà V.1), rfl‚ü©\n    convert hx'\n    -- Porting note (https://github.com/leanprover-community/mathlib4/issues/11041): `ext1` is compiling\n    refine Subtype.ext ?_\n    exact morphismRestrict_base_coe f U ‚ü®x, hx‚ü©\n\n"}
{"name":"AlgebraicGeometry.eqToHom_eq_homOfLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"C : Type u_1\ninst‚úù : Preorder C\nX Y : C\ne : Eq X Y\n‚ä¢ Eq (CategoryTheory.eqToHom e) (CategoryTheory.homOfLE ‚ãØ)","decl":"lemma eqToHom_eq_homOfLE {C} [Preorder C] {X Y : C} (e : X = Y) : eqToHom e = homOfLE e.le := rfl\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_app","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : (‚ÜëU).Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app (AlgebraicGeometry.morphismRestrict f U) V) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.app f ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V)) (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op))","decl":"open Scheme in\ntheorem morphismRestrict_app {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) (V : U.toScheme.Opens) :\n    (f ‚à£_ U).app V = f.app (U.Œπ ''·µÅ V) ‚â´\n        X.presheaf.map (eqToHom (image_morphismRestrict_preimage f U V)).op := by\n  have := Scheme.congr_app (morphismRestrict_Œπ f U) (U.Œπ ''·µÅ V)\n  simp only [Scheme.preimage_comp, Opens.toScheme_presheaf_obj, Hom.app_eq_appLE, comp_appLE,\n    Opens.Œπ_appLE, eqToHom_op, Opens.toScheme_presheaf_map, eqToHom_unop] at this\n  have e : U.Œπ ‚Åª¬π·µÅ (U.Œπ ''·µÅ V) = V :=\n    Opens.ext (Set.preimage_image_eq _ Subtype.coe_injective)\n  have e' : (f ‚à£_ U) ‚Åª¬π·µÅ V = (f ‚à£_ U) ‚Åª¬π·µÅ U.Œπ ‚Åª¬π·µÅ U.Œπ ''·µÅ V := by rw [e]\n  simp only [Opens.toScheme_presheaf_obj, Hom.app_eq_appLE, eqToHom_op, Hom.appLE_map]\n  rw [‚Üê (f ‚à£_ U).appLE_map' _ e', ‚Üê (f ‚à£_ U).map_appLE' _ e]\n  simp only [Opens.toScheme_presheaf_obj, eqToHom_eq_homOfLE, Opens.toScheme_presheaf_map,\n    Quiver.Hom.unop_op, Hom.opensFunctor_map_homOfLE]\n  rw [this, Hom.appLE_map, Hom.appLE_map, Hom.appLE_map]\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_appTop","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appTop (AlgebraicGeometry.morphismRestrict f U)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.app f ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj Top.top)) (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op))","decl":"theorem morphismRestrict_appTop {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    (f ‚à£_ U).appTop = f.app (U.Œπ ''·µÅ ‚ä§) ‚â´\n        X.presheaf.map (eqToHom (image_morphismRestrict_preimage f U ‚ä§)).op :=\n  morphismRestrict_app ..\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_app'","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : TopologicalSpace.Opens ‚Üë‚Üë(‚ÜëU).toPresheafedSpace\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.app (AlgebraicGeometry.morphismRestrict f U) V) (AlgebraicGeometry.Scheme.Hom.appLE f ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ((AlgebraicGeometry.Scheme.Hom.opensFunctor ((TopologicalSpace.Opens.map f.base).obj U).Œπ).obj ((TopologicalSpace.Opens.map (AlgebraicGeometry.morphismRestrict f U).base).obj V)) ‚ãØ)","decl":"@[simp]\ntheorem morphismRestrict_app' {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) (V : Opens U) :\n    (f ‚à£_ U).app V = f.appLE _ _ (image_morphismRestrict_preimage f U V).le :=\n  morphismRestrict_app f U V\n\n"}
{"name":"AlgebraicGeometry.morphismRestrict_appLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : (‚ÜëU).Opens\nW : (‚Üë((TopologicalSpace.Opens.map f.base).obj U)).Opens\ne : LE.le W ((TopologicalSpace.Opens.map (AlgebraicGeometry.morphismRestrict f U).base).obj V)\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appLE (AlgebraicGeometry.morphismRestrict f U) V W e) (AlgebraicGeometry.Scheme.Hom.appLE f ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj V) ((AlgebraicGeometry.Scheme.Hom.opensFunctor ((TopologicalSpace.Opens.map f.base).obj U).Œπ).obj W) ‚ãØ)","decl":"@[simp]\ntheorem morphismRestrict_appLE {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) (V W e) :\n    (f ‚à£_ U).appLE V W e = f.appLE (U.Œπ ''·µÅ V) ((f ‚Åª¬π·µÅ U).Œπ ''·µÅ W)\n      ((Set.image_subset _ e).trans (image_morphismRestrict_preimage f U V).le) := by\n  rw [Scheme.Hom.appLE, morphismRestrict_app', Scheme.Opens.toScheme_presheaf_map,\n    Scheme.Hom.appLE_map]\n\n"}
{"name":"AlgebraicGeometry.Œì_map_morphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Œì.map (AlgebraicGeometry.morphismRestrict f U).op) (CategoryTheory.CategoryStruct.comp (Y.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.app f U) (X.presheaf.map (CategoryTheory.eqToHom ‚ãØ).op)))","decl":"theorem Œì_map_morphismRestrict {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) :\n    Scheme.Œì.map (f ‚à£_ U).op =\n      Y.presheaf.map (eqToHom U.isOpenEmbedding_obj_top.symm).op ‚â´\n        f.app U ‚â´ X.presheaf.map (eqToHom (f ‚Åª¬π·µÅ U).isOpenEmbedding_obj_top).op := by\n  rw [Scheme.Œì_map_op, morphismRestrict_appTop f U, f.naturality_assoc, ‚Üê X.presheaf.map_comp]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.instIsOpenImmersionMorphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\ninst‚úù : AlgebraicGeometry.IsOpenImmersion f\n‚ä¢ AlgebraicGeometry.IsOpenImmersion (AlgebraicGeometry.morphismRestrict f U)","decl":"instance {X Y : Scheme.{u}} (f : X ‚ü∂ Y) (U : Y.Opens) [IsOpenImmersion f] :\n    IsOpenImmersion (f ‚à£_ U) := by\n  delta morphismRestrict\n  exact PresheafedSpace.IsOpenImmersion.comp _ _\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_eq_morphismRestrict","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.resLE f U ((TopologicalSpace.Opens.map f.base).obj U) ‚ãØ) (AlgebraicGeometry.morphismRestrict f U)","decl":"lemma resLE_eq_morphismRestrict : f.resLE U (f ‚Åª¬π·µÅ U) le_rfl = f ‚à£_ U := by\n  simp [resLE]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_id","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nV V' : X.Opens\ni : LE.le V V'\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.resLE (CategoryTheory.CategoryStruct.id X) V' V i) (X.homOfLE i)","decl":"lemma resLE_id (i : V ‚â§ V') : resLE (ùüô X) V' V i = X.homOfLE i := by\n  simp only [resLE, morphismRestrict_id]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_comp_Œπ","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) U.Œπ) (CategoryTheory.CategoryStruct.comp V.Œπ f)","decl":"@[reassoc (attr := simp)]\nlemma resLE_comp_Œπ : f.resLE U V e ‚â´ U.Œπ = V.Œπ ‚â´ f := by\n  simp [resLE]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_comp_Œπ_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom Y Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) (CategoryTheory.CategoryStruct.comp U.Œπ h)) (CategoryTheory.CategoryStruct.comp V.Œπ (CategoryTheory.CategoryStruct.comp f h))","decl":"@[reassoc (attr := simp)]\nlemma resLE_comp_Œπ : f.resLE U V e ‚â´ U.Œπ = V.Œπ ‚â´ f := by\n  simp [resLE]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_comp_resLE_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nZ‚úù : AlgebraicGeometry.Scheme\ng : Quiver.Hom Y Z‚úù\nW : Z‚úù.Opens\ne' : LE.le U ((TopologicalSpace.Opens.map g.base).obj W)\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëW) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE g W U e') h)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE (CategoryTheory.CategoryStruct.comp f g) W V ‚ãØ) h)","decl":"@[reassoc]\nlemma resLE_comp_resLE {Z : Scheme.{u}} (g : Y ‚ü∂ Z) {W : Z.Opens} (e') :\n    f.resLE U V e ‚â´ g.resLE W U e' = (f ‚â´ g).resLE W V\n      (e.trans ((Opens.map f.base).map (homOfLE e')).le) := by\n  simp [‚Üê cancel_mono W.Œπ]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_comp_resLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nZ : AlgebraicGeometry.Scheme\ng : Quiver.Hom Y Z\nW : Z.Opens\ne' : LE.le U ((TopologicalSpace.Opens.map g.base).obj W)\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) (AlgebraicGeometry.Scheme.Hom.resLE g W U e')) (AlgebraicGeometry.Scheme.Hom.resLE (CategoryTheory.CategoryStruct.comp f g) W V ‚ãØ)","decl":"@[reassoc]\nlemma resLE_comp_resLE {Z : Scheme.{u}} (g : Y ‚ü∂ Z) {W : Z.Opens} (e') :\n    f.resLE U V e ‚â´ g.resLE W U e' = (f ‚â´ g).resLE W V\n      (e.trans ((Opens.map f.base).map (homOfLE e')).le) := by\n  simp [‚Üê cancel_mono W.Œπ]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.map_resLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV V' : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\ni : LE.le V' V\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE i) (AlgebraicGeometry.Scheme.Hom.resLE f U V e)) (AlgebraicGeometry.Scheme.Hom.resLE f U V' ‚ãØ)","decl":"@[reassoc (attr := simp)]\nlemma map_resLE (i : V' ‚â§ V) :\n    X.homOfLE i ‚â´ f.resLE U V e = f.resLE U V' (i.trans e) := by\n  simp_rw [‚Üê resLE_id, resLE_comp_resLE, Category.id_comp]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.map_resLE_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV V' : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\ni : LE.le V' V\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëU) Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (X.homOfLE i) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) h)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V' ‚ãØ) h)","decl":"@[reassoc (attr := simp)]\nlemma map_resLE (i : V' ‚â§ V) :\n    X.homOfLE i ‚â´ f.resLE U V e = f.resLE U V' (i.trans e) := by\n  simp_rw [‚Üê resLE_id, resLE_comp_resLE, Category.id_comp]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_map","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU U' : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\ni : LE.le U U'\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) (Y.homOfLE i)) (AlgebraicGeometry.Scheme.Hom.resLE f U' V ‚ãØ)","decl":"@[reassoc (attr := simp)]\nlemma resLE_map (i : U ‚â§ U') :\n    f.resLE U V e ‚â´ Y.homOfLE i =\n      f.resLE U' V (e.trans ((Opens.map f.base).map i.hom).le) := by\n  simp_rw [‚Üê resLE_id, resLE_comp_resLE, Category.comp_id]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_map_assoc","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU U' : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\ni : LE.le U U'\nZ : AlgebraicGeometry.Scheme\nh : Quiver.Hom (‚ÜëU') Z\n‚ä¢ Eq (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U V e) (CategoryTheory.CategoryStruct.comp (Y.homOfLE i) h)) (CategoryTheory.CategoryStruct.comp (AlgebraicGeometry.Scheme.Hom.resLE f U' V ‚ãØ) h)","decl":"@[reassoc (attr := simp)]\nlemma resLE_map (i : U ‚â§ U') :\n    f.resLE U V e ‚â´ Y.homOfLE i =\n      f.resLE U' V (e.trans ((Opens.map f.base).map i.hom).le) := by\n  simp_rw [‚Üê resLE_id, resLE_comp_resLE, Category.comp_id]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_congr","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU U' : Y.Opens\nV V' : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\ne‚ÇÅ : Eq U U'\ne‚ÇÇ : Eq V V'\nP : CategoryTheory.MorphismProperty AlgebraicGeometry.Scheme\n‚ä¢ Iff (P (AlgebraicGeometry.Scheme.Hom.resLE f U V e)) (P (AlgebraicGeometry.Scheme.Hom.resLE f U' V' ‚ãØ))","decl":"lemma resLE_congr (e‚ÇÅ : U = U') (e‚ÇÇ : V = V') (P : MorphismProperty Scheme.{u}) :\n    P (f.resLE U V e) ‚Üî P (f.resLE U' V' (e‚ÇÅ ‚ñ∏ e‚ÇÇ ‚ñ∏ e)) := by\n  subst e‚ÇÅ; subst e‚ÇÇ; rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_preimage","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nO : (‚ÜëU).Opens\n‚ä¢ Eq ((TopologicalSpace.Opens.map (AlgebraicGeometry.Scheme.Hom.resLE f U V e).base).obj O) ((TopologicalSpace.Opens.map V.Œπ.base).obj ((TopologicalSpace.Opens.map f.base).obj ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj O)))","decl":"lemma resLE_preimage (f : X ‚ü∂ Y) {U : Y.Opens} {V : X.Opens} (e : V ‚â§ f ‚Åª¬π·µÅ U)\n    (O : U.toScheme.Opens) :\n    f.resLE U V e ‚Åª¬π·µÅ O = V.Œπ ‚Åª¬π·µÅ (f ‚Åª¬π·µÅ U.Œπ ''·µÅ O) := by\n  rw [‚Üê preimage_comp, ‚Üê resLE_comp_Œπ f e, preimage_comp, preimage_image_eq]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.le_preimage_resLE_iff","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nO : (‚ÜëU).Opens\nW : (‚ÜëV).Opens\n‚ä¢ Iff (LE.le W ((TopologicalSpace.Opens.map (AlgebraicGeometry.Scheme.Hom.resLE f U V e).base).obj O)) (LE.le ((AlgebraicGeometry.Scheme.Hom.opensFunctor V.Œπ).obj W) ((TopologicalSpace.Opens.map f.base).obj ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj O)))","decl":"lemma le_preimage_resLE_iff {U : Y.Opens} {V : X.Opens} (e : V ‚â§ f ‚Åª¬π·µÅ U)\n    (O : U.toScheme.Opens) (W : V.toScheme.Opens) :\n    W ‚â§ (f.resLE U V e) ‚Åª¬π·µÅ O ‚Üî V.Œπ ''·µÅ W ‚â§ f ‚Åª¬π·µÅ U.Œπ ''·µÅ O := by\n  simp [resLE_preimage, ‚Üê image_le_image_iff V.Œπ, image_preimage_eq_opensRange_inter, V.Œπ_image_le]\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.resLE_appLE","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nO : (‚ÜëU).Opens\nW : (‚ÜëV).Opens\ne' : LE.le W ((TopologicalSpace.Opens.map (AlgebraicGeometry.Scheme.Hom.resLE f U V e).base).obj O)\n‚ä¢ Eq (AlgebraicGeometry.Scheme.Hom.appLE (AlgebraicGeometry.Scheme.Hom.resLE f U V e) O W e') (AlgebraicGeometry.Scheme.Hom.appLE f ((AlgebraicGeometry.Scheme.Hom.opensFunctor U.Œπ).obj O) ((AlgebraicGeometry.Scheme.Hom.opensFunctor V.Œπ).obj W) ‚ãØ)","decl":"lemma resLE_appLE {U : Y.Opens} {V : X.Opens} (e : V ‚â§ f ‚Åª¬π·µÅ U)\n    (O : U.toScheme.Opens) (W : V.toScheme.Opens) (e' : W ‚â§ resLE f U V e ‚Åª¬π·µÅ O) :\n    (f.resLE U V e).appLE O W e' =\n      f.appLE (U.Œπ ''·µÅ O) (V.Œπ ''·µÅ W) ((le_preimage_resLE_iff f e O W).mp e') := by\n  simp only [appLE, resLE, comp_coeBase, Opens.map_comp_obj, comp_app, morphismRestrict_app',\n    homOfLE_leOfHom, homOfLE_app, Category.assoc, Opens.toScheme_presheaf_map, Quiver.Hom.unop_op,\n    opensFunctor_map_homOfLE]\n  rw [‚Üê X.presheaf.map_comp, ‚Üê X.presheaf.map_comp]\n  rfl\n\n"}
{"name":"AlgebraicGeometry.Scheme.Hom.coe_resLE_base","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nU : Y.Opens\nV : X.Opens\ne : LE.le V ((TopologicalSpace.Opens.map f.base).obj U)\nx : Subtype fun x => Membership.mem V x\n‚ä¢ Eq (‚Üë((AlgebraicGeometry.Scheme.Hom.resLE f U V e).base x)) (f.base ‚Üëx)","decl":"@[simp]\nlemma coe_resLE_base (x : V) : ((f.resLE U V e).base x).val = f.base x := by\n  simp [resLE, morphismRestrict_base]\n\n"}
{"name":"AlgebraicGeometry.Scheme.OpenCover.restrict_map","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nùí∞ : X.OpenCover\nU : X.Opens\nx‚úù : ùí∞.J\n‚ä¢ Eq ((ùí∞.restrict U).map x‚úù) (AlgebraicGeometry.morphismRestrict (ùí∞.map x‚úù) U)","decl":"/-- The restriction of an open cover to an open subset. -/\n@[simps! J obj map]\nnoncomputable\ndef Scheme.OpenCover.restrict {X : Scheme.{u}} (ùí∞ : X.OpenCover) (U : Opens X) :\n    U.toScheme.OpenCover := by\n  refine Cover.copy (ùí∞.pullbackCover U.Œπ) ùí∞.J _ (ùí∞.map ¬∑ ‚à£_ U) (Equiv.refl _)\n    (fun i ‚Ü¶ IsOpenImmersion.isoOfRangeEq (Opens.Œπ _) (pullback.snd _ _) ?_) ?_\n  ¬∑ erw [IsOpenImmersion.range_pullback_snd_of_left U.Œπ (ùí∞.map i)]\n    rw [Opens.opensRange_Œπ]\n    exact Subtype.range_val\n  ¬∑ intro i\n    rw [‚Üê cancel_mono U.Œπ]\n    simp only [morphismRestrict_Œπ, Cover.pullbackCover_J, Equiv.refl_apply, Cover.pullbackCover_obj,\n      Cover.pullbackCover_map, Category.assoc, pullback.condition]\n    rw [IsOpenImmersion.isoOfRangeEq_hom_fac_assoc]\n\n"}
{"name":"AlgebraicGeometry.Scheme.OpenCover.restrict_J","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nùí∞ : X.OpenCover\nU : X.Opens\n‚ä¢ Eq (ùí∞.restrict U).J ùí∞.J","decl":"/-- The restriction of an open cover to an open subset. -/\n@[simps! J obj map]\nnoncomputable\ndef Scheme.OpenCover.restrict {X : Scheme.{u}} (ùí∞ : X.OpenCover) (U : Opens X) :\n    U.toScheme.OpenCover := by\n  refine Cover.copy (ùí∞.pullbackCover U.Œπ) ùí∞.J _ (ùí∞.map ¬∑ ‚à£_ U) (Equiv.refl _)\n    (fun i ‚Ü¶ IsOpenImmersion.isoOfRangeEq (Opens.Œπ _) (pullback.snd _ _) ?_) ?_\n  ¬∑ erw [IsOpenImmersion.range_pullback_snd_of_left U.Œπ (ùí∞.map i)]\n    rw [Opens.opensRange_Œπ]\n    exact Subtype.range_val\n  ¬∑ intro i\n    rw [‚Üê cancel_mono U.Œπ]\n    simp only [morphismRestrict_Œπ, Cover.pullbackCover_J, Equiv.refl_apply, Cover.pullbackCover_obj,\n      Cover.pullbackCover_map, Category.assoc, pullback.condition]\n    rw [IsOpenImmersion.isoOfRangeEq_hom_fac_assoc]\n\n"}
{"name":"AlgebraicGeometry.Scheme.OpenCover.restrict_obj","module":"Mathlib.AlgebraicGeometry.Restrict","initialProofState":"X : AlgebraicGeometry.Scheme\nùí∞ : X.OpenCover\nU : X.Opens\nx‚úù : ùí∞.J\n‚ä¢ Eq ((ùí∞.restrict U).obj x‚úù) ‚Üë((TopologicalSpace.Opens.map (ùí∞.map x‚úù).base).obj U)","decl":"/-- The restriction of an open cover to an open subset. -/\n@[simps! J obj map]\nnoncomputable\ndef Scheme.OpenCover.restrict {X : Scheme.{u}} (ùí∞ : X.OpenCover) (U : Opens X) :\n    U.toScheme.OpenCover := by\n  refine Cover.copy (ùí∞.pullbackCover U.Œπ) ùí∞.J _ (ùí∞.map ¬∑ ‚à£_ U) (Equiv.refl _)\n    (fun i ‚Ü¶ IsOpenImmersion.isoOfRangeEq (Opens.Œπ _) (pullback.snd _ _) ?_) ?_\n  ¬∑ erw [IsOpenImmersion.range_pullback_snd_of_left U.Œπ (ùí∞.map i)]\n    rw [Opens.opensRange_Œπ]\n    exact Subtype.range_val\n  ¬∑ intro i\n    rw [‚Üê cancel_mono U.Œπ]\n    simp only [morphismRestrict_Œπ, Cover.pullbackCover_J, Equiv.refl_apply, Cover.pullbackCover_obj,\n      Cover.pullbackCover_map, Category.assoc, pullback.condition]\n    rw [IsOpenImmersion.isoOfRangeEq_hom_fac_assoc]\n\n"}
