{"name":"not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter_aux","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"E : Type u_1\nF : Type u_2\ninstâœâµ : NormedAddCommGroup E\ninstâœâ´ : NormedSpace Real E\ninstâœÂ³ : NormedAddCommGroup F\ninstâœÂ² : CompleteSpace E\nf : Real â†’ E\ng : Real â†’ F\nk : Set Real\nl : Filter Real\ninstâœÂ¹ : l.NeBot\ninstâœ : Filter.TendstoIxxClass Set.Icc l l\nhl : Membership.mem l k\nhd : Filter.Eventually (fun x => DifferentiableAt Real f x) l\nhf : Filter.Tendsto (fun x => Norm.norm (f x)) l Filter.atTop\nhfg : Asymptotics.IsBigO l (deriv f) g\nâŠ¢ Not (MeasureTheory.IntegrableOn g k MeasureTheory.MeasureSpace.volume)","decl":"/-- If `f` is eventually differentiable along a nontrivial filter `l : Filter â„` that is generated\nby convex sets, the norm of `f` tends to infinity along `l`, and `f' = O(g)` along `l`, where `f'`\nis the derivative of `f`, then `g` is not integrable on any set `k` belonging to `l`.\nAuxiliary version assuming that `E` is complete. -/\ntheorem not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter_aux\n    [CompleteSpace E] {f : â„ â†’ E} {g : â„ â†’ F}\n    {k : Set â„} (l : Filter â„) [NeBot l] [TendstoIxxClass Icc l l]\n    (hl : k âˆˆ l) (hd : âˆ€á¶  x in l, DifferentiableAt â„ f x) (hf : Tendsto (fun x => â€–f xâ€–) l atTop)\n    (hfg : deriv f =O[l] g) : Â¬IntegrableOn g k := by\n  intro hgi\n  obtain âŸ¨C, hCâ‚€, s, hsl, hsub, hfd, hgâŸ© :\n    âˆƒ (C : â„) (_ : 0 â‰¤ C), âˆƒ s âˆˆ l, (âˆ€ x âˆˆ s, âˆ€ y âˆˆ s, [[x, y]] âŠ† k) âˆ§\n      (âˆ€ x âˆˆ s, âˆ€ y âˆˆ s, âˆ€ z âˆˆ [[x, y]], DifferentiableAt â„ f z) âˆ§\n        âˆ€ x âˆˆ s, âˆ€ y âˆˆ s, âˆ€ z âˆˆ [[x, y]], â€–deriv f zâ€– â‰¤ C * â€–g zâ€– := by\n    rcases hfg.exists_nonneg with âŸ¨C, Câ‚€, hCâŸ©\n    have h : âˆ€á¶  x : â„ Ã— â„ in l Ã—Ë¢ l,\n        âˆ€ y âˆˆ [[x.1, x.2]], (DifferentiableAt â„ f y âˆ§ â€–deriv f yâ€– â‰¤ C * â€–g yâ€–) âˆ§ y âˆˆ k :=\n      (tendsto_fst.uIcc tendsto_snd).eventually ((hd.and hC.bound).and hl).smallSets\n    rcases mem_prod_self_iff.1 h with âŸ¨s, hsl, hsâŸ©\n    simp only [prod_subset_iff, mem_setOf_eq] at hs\n    exact âŸ¨C, Câ‚€, s, hsl, fun x hx y hy z hz => (hs x hx y hy z hz).2, fun x hx y hy z hz =>\n      (hs x hx y hy z hz).1.1, fun x hx y hy z hz => (hs x hx y hy z hz).1.2âŸ©\n  replace hgi : IntegrableOn (fun x â†¦ C * â€–g xâ€–) k := by exact hgi.norm.smul C\n  obtain âŸ¨c, hc, d, hd, hltâŸ© : âˆƒ c âˆˆ s, âˆƒ d âˆˆ s, (â€–f câ€– + âˆ« y in k, C * â€–g yâ€–) < â€–f dâ€– := by\n    rcases Filter.nonempty_of_mem hsl with âŸ¨c, hcâŸ©\n    have : âˆ€á¶  x in l, (â€–f câ€– + âˆ« y in k, C * â€–g yâ€–) < â€–f xâ€– :=\n      hf.eventually (eventually_gt_atTop _)\n    exact âŸ¨c, hc, (this.and hsl).exists.imp fun d hd => âŸ¨hd.2, hd.1âŸ©âŸ©\n  specialize hsub c hc d hd; specialize hfd c hc d hd\n  replace hg : âˆ€ x âˆˆ Î™ c d, â€–deriv f xâ€– â‰¤ C * â€–g xâ€– :=\n    fun z hz => hg c hc d hd z âŸ¨hz.1.le, hz.2âŸ©\n  have hg_ae : âˆ€áµ x âˆ‚volume.restrict (Î™ c d), â€–deriv f xâ€– â‰¤ C * â€–g xâ€– :=\n    (ae_restrict_mem measurableSet_uIoc).mono hg\n  have hsub' : Î™ c d âŠ† k := Subset.trans Ioc_subset_Icc_self hsub\n  have hfi : IntervalIntegrable (deriv f) volume c d := by\n    rw [intervalIntegrable_iff]\n    have : IntegrableOn (fun x â†¦ C * â€–g xâ€–) (Î™ c d) := IntegrableOn.mono hgi hsub' le_rfl\n    exact Integrable.mono' this (aestronglyMeasurable_deriv _ _) hg_ae\n  refine hlt.not_le (sub_le_iff_le_add'.1 ?_)\n  calc\n    â€–f dâ€– - â€–f câ€– â‰¤ â€–f d - f câ€– := norm_sub_norm_le _ _\n    _ = â€–âˆ« x in c..d, deriv f xâ€– := congr_arg _ (integral_deriv_eq_sub hfd hfi).symm\n    _ = â€–âˆ« x in Î™ c d, deriv f xâ€– := norm_integral_eq_norm_integral_Ioc _\n    _ â‰¤ âˆ« x in Î™ c d, â€–deriv f xâ€– := norm_integral_le_integral_norm _\n    _ â‰¤ âˆ« x in Î™ c d, C * â€–g xâ€– :=\n      setIntegral_mono_on hfi.norm.def' (hgi.mono_set hsub') measurableSet_uIoc hg\n    _ â‰¤ âˆ« x in k, C * â€–g xâ€– := by\n      apply setIntegral_mono_set hgi\n        (ae_of_all _ fun x => mul_nonneg hCâ‚€ (norm_nonneg _)) hsub'.eventuallyLE\n\n"}
{"name":"not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"E : Type u_1\nF : Type u_2\ninstâœâ´ : NormedAddCommGroup E\ninstâœÂ³ : NormedSpace Real E\ninstâœÂ² : NormedAddCommGroup F\nf : Real â†’ E\ng : Real â†’ F\nk : Set Real\nl : Filter Real\ninstâœÂ¹ : l.NeBot\ninstâœ : Filter.TendstoIxxClass Set.Icc l l\nhl : Membership.mem l k\nhd : Filter.Eventually (fun x => DifferentiableAt Real f x) l\nhf : Filter.Tendsto (fun x => Norm.norm (f x)) l Filter.atTop\nhfg : Asymptotics.IsBigO l (deriv f) g\nâŠ¢ Not (MeasureTheory.IntegrableOn g k MeasureTheory.MeasureSpace.volume)","decl":"theorem not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter\n    {f : â„ â†’ E} {g : â„ â†’ F}\n    {k : Set â„} (l : Filter â„) [NeBot l] [TendstoIxxClass Icc l l]\n    (hl : k âˆˆ l) (hd : âˆ€á¶  x in l, DifferentiableAt â„ f x) (hf : Tendsto (fun x => â€–f xâ€–) l atTop)\n    (hfg : deriv f =O[l] g) : Â¬IntegrableOn g k := by\n  let a : E â†’â‚—áµ¢[â„] UniformSpace.Completion E := UniformSpace.Completion.toComplâ‚—áµ¢\n  let f' := a âˆ˜ f\n  have h'd : âˆ€á¶  x in l, DifferentiableAt â„ f' x := by\n    filter_upwards [hd] with x hx using a.toContinuousLinearMap.differentiableAt.comp x hx\n  have h'f : Tendsto (fun x => â€–f' xâ€–) l atTop := hf.congr (fun x â†¦ by simp [f'])\n  have h'fg : deriv f' =O[l] g := by\n    apply IsBigO.trans _ hfg\n    rw [â† isBigO_norm_norm]\n    suffices (fun x â†¦ â€–deriv f' xâ€–) =á¶ [l] (fun x â†¦ â€–deriv f xâ€–) by exact this.isBigO\n    filter_upwards [hd] with x hx\n    have : deriv f' x = a (deriv f x) := by\n      rw [fderiv_comp_deriv x _ hx]\n      Â· have : fderiv â„ a (f x) = a.toContinuousLinearMap := a.toContinuousLinearMap.fderiv\n        simp only [this]\n        rfl\n      Â· exact a.toContinuousLinearMap.differentiableAt\n    simp only [this]\n    simp\n  exact not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter_aux l hl h'd h'f h'fg\n\n"}
{"name":"not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_filter","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"E : Type u_1\nF : Type u_2\ninstâœâ´ : NormedAddCommGroup E\ninstâœÂ³ : NormedSpace Real E\ninstâœÂ² : NormedAddCommGroup F\nf : Real â†’ E\ng : Real â†’ F\na b : Real\nl : Filter Real\ninstâœÂ¹ : l.NeBot\ninstâœ : Filter.TendstoIxxClass Set.Icc l l\nhl : Membership.mem l (Set.uIcc a b)\nhd : Filter.Eventually (fun x => DifferentiableAt Real f x) l\nhf : Filter.Tendsto (fun x => Norm.norm (f x)) l Filter.atTop\nhfg : Asymptotics.IsBigO l (deriv f) g\nâŠ¢ Not (IntervalIntegrable g MeasureTheory.MeasureSpace.volume a b)","decl":"/-- If `f` is eventually differentiable along a nontrivial filter `l : Filter â„` that is generated\nby convex sets, the norm of `f` tends to infinity along `l`, and `f' = O(g)` along `l`, where `f'`\nis the derivative of `f`, then `g` is not integrable on any interval `a..b` such that\n`[a, b] âˆˆ l`. -/\ntheorem not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_filter {f : â„ â†’ E} {g : â„ â†’ F}\n    {a b : â„} (l : Filter â„) [NeBot l] [TendstoIxxClass Icc l l] (hl : [[a, b]] âˆˆ l)\n    (hd : âˆ€á¶  x in l, DifferentiableAt â„ f x) (hf : Tendsto (fun x => â€–f xâ€–) l atTop)\n    (hfg : deriv f =O[l] g) : Â¬IntervalIntegrable g volume a b := by\n  rw [intervalIntegrable_iff']\n  exact not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter _ hl hd hf hfg\n\n"}
{"name":"not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_within_diff_singleton","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"E : Type u_1\nF : Type u_2\ninstâœÂ² : NormedAddCommGroup E\ninstâœÂ¹ : NormedSpace Real E\ninstâœ : NormedAddCommGroup F\nf : Real â†’ E\ng : Real â†’ F\na b c : Real\nhne : Ne a b\nhc : Membership.mem (Set.uIcc a b) c\nh_deriv : Filter.Eventually (fun x => DifferentiableAt Real f x) (nhdsWithin c (SDiff.sdiff (Set.uIcc a b) (Singleton.singleton c)))\nh_infty : Filter.Tendsto (fun x => Norm.norm (f x)) (nhdsWithin c (SDiff.sdiff (Set.uIcc a b) (Singleton.singleton c))) Filter.atTop\nhg : Asymptotics.IsBigO (nhdsWithin c (SDiff.sdiff (Set.uIcc a b) (Singleton.singleton c))) (deriv f) g\nâŠ¢ Not (IntervalIntegrable g MeasureTheory.MeasureSpace.volume a b)","decl":"/-- If `a â‰  b`, `c âˆˆ [a, b]`, `f` is differentiable in the neighborhood of `c` within\n`[a, b] \\ {c}`, `â€–f xâ€– â†’ âˆ` as `x â†’ c` within `[a, b] \\ {c}`, and `f' = O(g)` along\n`ğ“[[a, b] \\ {c}] c`, where `f'` is the derivative of `f`, then `g` is not interval integrable on\n`a..b`. -/\ntheorem not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_within_diff_singleton\n    {f : â„ â†’ E} {g : â„ â†’ F} {a b c : â„} (hne : a â‰  b) (hc : c âˆˆ [[a, b]])\n    (h_deriv : âˆ€á¶  x in ğ“[[[a, b]] \\ {c}] c, DifferentiableAt â„ f x)\n    (h_infty : Tendsto (fun x => â€–f xâ€–) (ğ“[[[a, b]] \\ {c}] c) atTop)\n    (hg : deriv f =O[ğ“[[[a, b]] \\ {c}] c] g) : Â¬IntervalIntegrable g volume a b := by\n  obtain âŸ¨l, hl, hl', hle, hmemâŸ© :\n    âˆƒ l : Filter â„, TendstoIxxClass Icc l l âˆ§ l.NeBot âˆ§ l â‰¤ ğ“ c âˆ§ [[a, b]] \\ {c} âˆˆ l := by\n    cases' (min_lt_max.2 hne).lt_or_lt c with hlt hlt\n    Â· refine âŸ¨ğ“[<] c, inferInstance, inferInstance, inf_le_left, ?_âŸ©\n      rw [â† Iic_diff_right]\n      exact diff_mem_nhdsWithin_diff (Icc_mem_nhdsLE_of_mem âŸ¨hlt, hc.2âŸ©) _\n    Â· refine âŸ¨ğ“[>] c, inferInstance, inferInstance, inf_le_left, ?_âŸ©\n      rw [â† Ici_diff_left]\n      exact diff_mem_nhdsWithin_diff (Icc_mem_nhdsGE_of_mem âŸ¨hc.1, hltâŸ©) _\n  have : l â‰¤ ğ“[[[a, b]] \\ {c}] c := le_inf hle (le_principal_iff.2 hmem)\n  exact not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_filter l\n    (mem_of_superset hmem diff_subset) (h_deriv.filter_mono this) (h_infty.mono_left this)\n    (hg.mono this)\n\n"}
{"name":"not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_punctured","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"E : Type u_1\nF : Type u_2\ninstâœÂ² : NormedAddCommGroup E\ninstâœÂ¹ : NormedSpace Real E\ninstâœ : NormedAddCommGroup F\nf : Real â†’ E\ng : Real â†’ F\na b c : Real\nh_deriv : Filter.Eventually (fun x => DifferentiableAt Real f x) (nhdsWithin c (HasCompl.compl (Singleton.singleton c)))\nh_infty : Filter.Tendsto (fun x => Norm.norm (f x)) (nhdsWithin c (HasCompl.compl (Singleton.singleton c))) Filter.atTop\nhg : Asymptotics.IsBigO (nhdsWithin c (HasCompl.compl (Singleton.singleton c))) (deriv f) g\nhne : Ne a b\nhc : Membership.mem (Set.uIcc a b) c\nâŠ¢ Not (IntervalIntegrable g MeasureTheory.MeasureSpace.volume a b)","decl":"/-- If `f` is differentiable in a punctured neighborhood of `c`, `â€–f xâ€– â†’ âˆ` as `x â†’ c` (more\nformally, along the filter `ğ“[â‰ ] c`), and `f' = O(g)` along `ğ“[â‰ ] c`, where `f'` is the derivative\nof `f`, then `g` is not interval integrable on any nontrivial interval `a..b` such that\n`c âˆˆ [a, b]`. -/\ntheorem not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_punctured {f : â„ â†’ E}\n    {g : â„ â†’ F} {a b c : â„} (h_deriv : âˆ€á¶  x in ğ“[â‰ ] c, DifferentiableAt â„ f x)\n    (h_infty : Tendsto (fun x => â€–f xâ€–) (ğ“[â‰ ] c) atTop) (hg : deriv f =O[ğ“[â‰ ] c] g) (hne : a â‰  b)\n    (hc : c âˆˆ [[a, b]]) : Â¬IntervalIntegrable g volume a b :=\n  have : ğ“[[[a, b]] \\ {c}] c â‰¤ ğ“[â‰ ] c := nhdsWithin_mono _ inter_subset_right\n  not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_within_diff_singleton hne hc\n    (h_deriv.filter_mono this) (h_infty.mono_left this) (hg.mono this)\n\n"}
{"name":"not_intervalIntegrable_of_sub_inv_isBigO_punctured","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"F : Type u_2\ninstâœ : NormedAddCommGroup F\nf : Real â†’ F\na b c : Real\nhf : Asymptotics.IsBigO (nhdsWithin c (HasCompl.compl (Singleton.singleton c))) (fun x => Inv.inv (HSub.hSub x c)) f\nhne : Ne a b\nhc : Membership.mem (Set.uIcc a b) c\nâŠ¢ Not (IntervalIntegrable f MeasureTheory.MeasureSpace.volume a b)","decl":"/-- If `f` grows in the punctured neighborhood of `c : â„` at least as fast as `1 / (x - c)`,\nthen it is not interval integrable on any nontrivial interval `a..b`, `c âˆˆ [a, b]`. -/\ntheorem not_intervalIntegrable_of_sub_inv_isBigO_punctured {f : â„ â†’ F} {a b c : â„}\n    (hf : (fun x => (x - c)â»Â¹) =O[ğ“[â‰ ] c] f) (hne : a â‰  b) (hc : c âˆˆ [[a, b]]) :\n    Â¬IntervalIntegrable f volume a b := by\n  have A : âˆ€á¶  x in ğ“[â‰ ] c, HasDerivAt (fun x => Real.log (x - c)) (x - c)â»Â¹ x := by\n    filter_upwards [self_mem_nhdsWithin] with x hx\n    simpa using ((hasDerivAt_id x).sub_const c).log (sub_ne_zero.2 hx)\n  have B : Tendsto (fun x => â€–Real.log (x - c)â€–) (ğ“[â‰ ] c) atTop := by\n    refine tendsto_abs_atBot_atTop.comp (Real.tendsto_log_nhdsWithin_zero.comp ?_)\n    rw [â† sub_self c]\n    exact ((hasDerivAt_id c).sub_const c).tendsto_punctured_nhds one_ne_zero\n  exact not_intervalIntegrable_of_tendsto_norm_atTop_of_deriv_isBigO_punctured\n    (A.mono fun x hx => hx.differentiableAt) B\n    (hf.congr' (A.mono fun x hx => hx.deriv.symm) EventuallyEq.rfl) hne hc\n\n"}
{"name":"intervalIntegrable_sub_inv_iff","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"a b c : Real\nâŠ¢ Iff (IntervalIntegrable (fun x => Inv.inv (HSub.hSub x c)) MeasureTheory.MeasureSpace.volume a b) (Or (Eq a b) (Not (Membership.mem (Set.uIcc a b) c)))","decl":"/-- The function `fun x => (x - c)â»Â¹` is integrable on `a..b` if and only if\n`a = b` or `c âˆ‰ [a, b]`. -/\n@[simp]\ntheorem intervalIntegrable_sub_inv_iff {a b c : â„} :\n    IntervalIntegrable (fun x => (x - c)â»Â¹) volume a b â†” a = b âˆ¨ c âˆ‰ [[a, b]] := by\n  constructor\n  Â· refine fun h => or_iff_not_imp_left.2 fun hne hc => ?_\n    exact not_intervalIntegrable_of_sub_inv_isBigO_punctured (isBigO_refl _ _) hne hc h\n  Â· rintro (rfl | hâ‚€)\n    Â· exact IntervalIntegrable.refl\n    refine ((continuous_sub_right c).continuousOn.invâ‚€ ?_).intervalIntegrable\n    exact fun x hx => sub_ne_zero.2 <| ne_of_mem_of_not_mem hx hâ‚€\n\n"}
{"name":"intervalIntegrable_inv_iff","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"a b : Real\nâŠ¢ Iff (IntervalIntegrable (fun x => Inv.inv x) MeasureTheory.MeasureSpace.volume a b) (Or (Eq a b) (Not (Membership.mem (Set.uIcc a b) 0)))","decl":"/-- The function `fun x => xâ»Â¹` is integrable on `a..b` if and only if\n`a = b` or `0 âˆ‰ [a, b]`. -/\n@[simp]\ntheorem intervalIntegrable_inv_iff {a b : â„} :\n    IntervalIntegrable (fun x => xâ»Â¹) volume a b â†” a = b âˆ¨ (0 : â„) âˆ‰ [[a, b]] := by\n  simp only [â† intervalIntegrable_sub_inv_iff, sub_zero]\n\n"}
{"name":"not_IntegrableOn_Ici_inv","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"a : Real\nâŠ¢ Not (MeasureTheory.IntegrableOn (fun x => Inv.inv x) (Set.Ici a) MeasureTheory.MeasureSpace.volume)","decl":"/-- The function `fun x â†¦ xâ»Â¹` is not integrable on any interval `[a, +âˆ)`. -/\ntheorem not_IntegrableOn_Ici_inv {a : â„} :\n    Â¬ IntegrableOn (fun x => xâ»Â¹) (Ici a) := by\n  have A : âˆ€á¶  x in atTop, HasDerivAt (fun x => Real.log x) xâ»Â¹ x := by\n    filter_upwards [Ioi_mem_atTop 0] with x hx using Real.hasDerivAt_log (ne_of_gt hx)\n  have B : Tendsto (fun x => â€–Real.log xâ€–) atTop atTop :=\n    tendsto_norm_atTop_atTop.comp Real.tendsto_log_atTop\n  exact not_integrableOn_of_tendsto_norm_atTop_of_deriv_isBigO_filter atTop (Ici_mem_atTop a)\n    (A.mono (fun x hx â†¦ hx.differentiableAt)) B\n    (Filter.EventuallyEq.isBigO (A.mono (fun x hx â†¦ hx.deriv)))\n\n"}
{"name":"not_IntegrableOn_Ioi_inv","module":"Mathlib.Analysis.SpecialFunctions.NonIntegrable","initialProofState":"a : Real\nâŠ¢ Not (MeasureTheory.IntegrableOn (fun x => Inv.inv x) (Set.Ioi a) MeasureTheory.MeasureSpace.volume)","decl":"/-- The function `fun x â†¦ xâ»Â¹` is not integrable on any interval `(a, +âˆ)`. -/\ntheorem not_IntegrableOn_Ioi_inv {a : â„} :\n    Â¬ IntegrableOn (Â·â»Â¹) (Ioi a) := by\n  simpa only [IntegrableOn, restrict_Ioi_eq_restrict_Ici] using not_IntegrableOn_Ici_inv\n"}
