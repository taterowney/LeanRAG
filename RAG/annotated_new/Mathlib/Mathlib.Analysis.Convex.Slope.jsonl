{"name":"ConvexOn.slope_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LE.le (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is convex, then for any three points `x < y < z` the slope of the secant line of\n`f` on `[x, y]` is less than the slope of the secant line of `f` on `[y, z]`. -/\ntheorem ConvexOn.slope_mono_adjacent (hf : ConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s) (hz : z âˆˆ s)\n    (hxy : x < y) (hyz : y < z) : (f y - f x) / (y - x) â‰¤ (f z - f y) / (z - y) := by\n  have hxz := hxy.trans hyz\n  rw [â† sub_pos] at hxy hxz hyz\n  suffices f y / (y - x) + f y / (z - y) â‰¤ f x / (y - x) + f z / (z - y) by\n    ring_nf at this âŠ¢\n    linarith\n  set a := (z - y) / (z - x)\n  set b := (y - x) / (z - x)\n  have hy : a â€¢ x + b â€¢ z = y := by field_simp [a, b]; ring\n  have key :=\n    hf.2 hx hz (show 0 â‰¤ a by apply div_nonneg <;> linarith)\n      (show 0 â‰¤ b by apply div_nonneg <;> linarith)\n      (show a + b = 1 by field_simp [a, b])\n  rw [hy] at key\n  replace key := mul_le_mul_of_nonneg_left key hxz.le\n  field_simp [a, b, mul_comm (z - x) _] at key âŠ¢\n  rw [div_le_div_iff_of_pos_right]\n  Â· linarith\n  Â· positivity\n\n"}
{"name":"ConcaveOn.slope_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConcaveOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LE.le (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is concave, then for any three points `x < y < z` the slope of the secant line of\n`f` on `[x, y]` is greater than the slope of the secant line of `f` on `[y, z]`. -/\ntheorem ConcaveOn.slope_anti_adjacent (hf : ConcaveOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s) (hz : z âˆˆ s)\n    (hxy : x < y) (hyz : y < z) : (f z - f y) / (z - y) â‰¤ (f y - f x) / (y - x) := by\n  have := neg_le_neg (ConvexOn.slope_mono_adjacent hf.neg hx hz hxy hyz)\n  simp only [Pi.neg_apply, â† neg_div, neg_sub', neg_neg] at this\n  exact this\n\n"}
{"name":"StrictConvexOn.slope_strict_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is strictly convex, then for any three points `x < y < z` the slope of the\nsecant line of `f` on `[x, y]` is strictly less than the slope of the secant line of `f` on\n`[y, z]`. -/\ntheorem StrictConvexOn.slope_strict_mono_adjacent (hf : StrictConvexOn ğ•œ s f) {x y z : ğ•œ}\n    (hx : x âˆˆ s) (hz : z âˆˆ s) (hxy : x < y) (hyz : y < z) :\n    (f y - f x) / (y - x) < (f z - f y) / (z - y) := by\n  have hxz := hxy.trans hyz\n  have hxz' := hxz.ne\n  rw [â† sub_pos] at hxy hxz hyz\n  suffices f y / (y - x) + f y / (z - y) < f x / (y - x) + f z / (z - y) by\n    ring_nf at this âŠ¢\n    linarith\n  set a := (z - y) / (z - x)\n  set b := (y - x) / (z - x)\n  have hy : a â€¢ x + b â€¢ z = y := by field_simp [a, b]; ring\n  have key :=\n    hf.2 hx hz hxz' (div_pos hyz hxz) (div_pos hxy hxz)\n      (show a + b = 1 by field_simp [a, b])\n  rw [hy] at key\n  replace key := mul_lt_mul_of_pos_left key hxz\n  field_simp [mul_comm (z - x) _] at key âŠ¢\n  rw [div_lt_div_iff_of_pos_right]\n  Â· linarith\n  Â· positivity\n\n"}
{"name":"StrictConcaveOn.slope_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConcaveOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is strictly concave, then for any three points `x < y < z` the slope of the\nsecant line of `f` on `[x, y]` is strictly greater than the slope of the secant line of `f` on\n`[y, z]`. -/\ntheorem StrictConcaveOn.slope_anti_adjacent (hf : StrictConcaveOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s)\n    (hz : z âˆˆ s) (hxy : x < y) (hyz : y < z) : (f z - f y) / (z - y) < (f y - f x) / (y - x) := by\n  have := neg_lt_neg (StrictConvexOn.slope_strict_mono_adjacent hf.neg hx hz hxy hyz)\n  simp only [Pi.neg_apply, â† neg_div, neg_sub', neg_neg] at this\n  exact this\n\n"}
{"name":"convexOn_of_slope_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhs : Convex ğ•œ s\nhf : âˆ€ {x y z : ğ•œ}, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LE.le (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))\nâŠ¢ ConvexOn ğ•œ s f","decl":"/-- If for any three points `x < y < z`, the slope of the secant line of `f : ğ•œ â†’ ğ•œ` on `[x, y]` is\nless than the slope of the secant line of `f` on `[y, z]`, then `f` is convex. -/\ntheorem convexOn_of_slope_mono_adjacent (hs : Convex ğ•œ s)\n    (hf :\n      âˆ€ {x y z : ğ•œ},\n        x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f y - f x) / (y - x) â‰¤ (f z - f y) / (z - y)) :\n    ConvexOn ğ•œ s f :=\n  LinearOrder.convexOn_of_lt hs fun x hx z hz hxz a b ha hb hab => by\n    let y := a * x + b * z\n    have hxy : x < y := by\n      rw [â† one_mul x, â† hab, add_mul]\n      exact add_lt_add_left ((mul_lt_mul_left hb).2 hxz) _\n    have hyz : y < z := by\n      rw [â† one_mul z, â† hab, add_mul]\n      exact add_lt_add_right ((mul_lt_mul_left ha).2 hxz) _\n    have : (f y - f x) * (z - y) â‰¤ (f z - f y) * (y - x) :=\n      (div_le_div_iffâ‚€ (sub_pos.2 hxy) (sub_pos.2 hyz)).1 (hf hx hz hxy hyz)\n    have hxz : 0 < z - x := sub_pos.2 (hxy.trans hyz)\n    have ha : (z - y) / (z - x) = a := by\n      rw [eq_comm, â† sub_eq_iff_eq_add'] at hab\n      dsimp [y]\n      simp_rw [div_eq_iff hxz.ne', â† hab]\n      ring\n    have hb : (y - x) / (z - x) = b := by\n      rw [eq_comm, â† sub_eq_iff_eq_add] at hab\n      dsimp [y]\n      simp_rw [div_eq_iff hxz.ne', â† hab]\n      ring\n    rwa [sub_mul, sub_mul, sub_le_iff_le_add', â† add_sub_assoc, le_sub_iff_add_le, â† mul_add,\n      sub_add_sub_cancel, â† le_div_iffâ‚€ hxz, add_div, mul_div_assoc, mul_div_assoc, mul_comm (f x),\n      mul_comm (f z), ha, hb] at this\n\n"}
{"name":"concaveOn_of_slope_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhs : Convex ğ•œ s\nhf : âˆ€ {x y z : ğ•œ}, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LE.le (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))\nâŠ¢ ConcaveOn ğ•œ s f","decl":"/-- If for any three points `x < y < z`, the slope of the secant line of `f : ğ•œ â†’ ğ•œ` on `[x, y]` is\ngreater than the slope of the secant line of `f` on `[y, z]`, then `f` is concave. -/\ntheorem concaveOn_of_slope_anti_adjacent (hs : Convex ğ•œ s)\n    (hf :\n      âˆ€ {x y z : ğ•œ},\n        x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f z - f y) / (z - y) â‰¤ (f y - f x) / (y - x)) :\n    ConcaveOn ğ•œ s f := by\n  rw [â† neg_convexOn_iff]\n  refine convexOn_of_slope_mono_adjacent hs fun hx hz hxy hyz => ?_\n  rw [â† neg_le_neg_iff]\n  simp_rw [â† neg_div, neg_sub, Pi.neg_apply, neg_sub_neg]\n  exact hf hx hz hxy hyz\n\n"}
{"name":"strictConvexOn_of_slope_strict_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhs : Convex ğ•œ s\nhf : âˆ€ {x y z : ğ•œ}, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))\nâŠ¢ StrictConvexOn ğ•œ s f","decl":"/-- If for any three points `x < y < z`, the slope of the secant line of `f : ğ•œ â†’ ğ•œ` on `[x, y]` is\nstrictly less than the slope of the secant line of `f` on `[y, z]`, then `f` is strictly convex. -/\ntheorem strictConvexOn_of_slope_strict_mono_adjacent (hs : Convex ğ•œ s)\n    (hf :\n      âˆ€ {x y z : ğ•œ},\n        x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f y - f x) / (y - x) < (f z - f y) / (z - y)) :\n    StrictConvexOn ğ•œ s f :=\n  LinearOrder.strictConvexOn_of_lt hs fun x hx z hz hxz a b ha hb hab => by\n    let y := a * x + b * z\n    have hxy : x < y := by\n      rw [â† one_mul x, â† hab, add_mul]\n      exact add_lt_add_left ((mul_lt_mul_left hb).2 hxz) _\n    have hyz : y < z := by\n      rw [â† one_mul z, â† hab, add_mul]\n      exact add_lt_add_right ((mul_lt_mul_left ha).2 hxz) _\n    have : (f y - f x) * (z - y) < (f z - f y) * (y - x) :=\n      (div_lt_div_iffâ‚€ (sub_pos.2 hxy) (sub_pos.2 hyz)).1 (hf hx hz hxy hyz)\n    have hxz : 0 < z - x := sub_pos.2 (hxy.trans hyz)\n    have ha : (z - y) / (z - x) = a := by\n      rw [eq_comm, â† sub_eq_iff_eq_add'] at hab\n      dsimp [y]\n      simp_rw [div_eq_iff hxz.ne', â† hab]\n      ring\n    have hb : (y - x) / (z - x) = b := by\n      rw [eq_comm, â† sub_eq_iff_eq_add] at hab\n      dsimp [y]\n      simp_rw [div_eq_iff hxz.ne', â† hab]\n      ring\n    rwa [sub_mul, sub_mul, sub_lt_iff_lt_add', â† add_sub_assoc, lt_sub_iff_add_lt, â† mul_add,\n      sub_add_sub_cancel, â† lt_div_iffâ‚€ hxz, add_div, mul_div_assoc, mul_div_assoc, mul_comm (f x),\n      mul_comm (f z), ha, hb] at this\n\n"}
{"name":"strictConcaveOn_of_slope_strict_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhs : Convex ğ•œ s\nhf : âˆ€ {x y z : ğ•œ}, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LT.lt (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))\nâŠ¢ StrictConcaveOn ğ•œ s f","decl":"/-- If for any three points `x < y < z`, the slope of the secant line of `f : ğ•œ â†’ ğ•œ` on `[x, y]` is\nstrictly greater than the slope of the secant line of `f` on `[y, z]`, then `f` is strictly concave.\n-/\ntheorem strictConcaveOn_of_slope_strict_anti_adjacent (hs : Convex ğ•œ s)\n    (hf :\n      âˆ€ {x y z : ğ•œ},\n        x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f z - f y) / (z - y) < (f y - f x) / (y - x)) :\n    StrictConcaveOn ğ•œ s f := by\n  rw [â† neg_strictConvexOn_iff]\n  refine strictConvexOn_of_slope_strict_mono_adjacent hs fun hx hz hxy hyz => ?_\n  rw [â† neg_lt_neg_iff]\n  simp_rw [â† neg_div, neg_sub, Pi.neg_apply, neg_sub_neg]\n  exact hf hx hz hxy hyz\n\n"}
{"name":"convexOn_iff_slope_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nâŠ¢ Iff (ConvexOn ğ•œ s f) (And (Convex ğ•œ s) (âˆ€ â¦ƒx y z : ğ•œâ¦„, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LE.le (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))))","decl":"/-- A function `f : ğ•œ â†’ ğ•œ` is convex iff for any three points `x < y < z` the slope of the secant\nline of `f` on `[x, y]` is less than the slope of the secant line of `f` on `[y, z]`. -/\ntheorem convexOn_iff_slope_mono_adjacent :\n    ConvexOn ğ•œ s f â†”\n      Convex ğ•œ s âˆ§ âˆ€ â¦ƒx y z : ğ•œâ¦„,\n          x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f y - f x) / (y - x) â‰¤ (f z - f y) / (z - y) :=\n  âŸ¨fun h => âŸ¨h.1, fun _ _ _ => h.slope_mono_adjacentâŸ©, fun h =>\n    convexOn_of_slope_mono_adjacent h.1 (@fun _ _ _ hx hy => h.2 hx hy)âŸ©\n\n"}
{"name":"concaveOn_iff_slope_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nâŠ¢ Iff (ConcaveOn ğ•œ s f) (And (Convex ğ•œ s) (âˆ€ â¦ƒx y z : ğ•œâ¦„, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LE.le (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))))","decl":"/-- A function `f : ğ•œ â†’ ğ•œ` is concave iff for any three points `x < y < z` the slope of the secant\nline of `f` on `[x, y]` is greater than the slope of the secant line of `f` on `[y, z]`. -/\ntheorem concaveOn_iff_slope_anti_adjacent :\n    ConcaveOn ğ•œ s f â†”\n      Convex ğ•œ s âˆ§\n        âˆ€ â¦ƒx y z : ğ•œâ¦„,\n          x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f z - f y) / (z - y) â‰¤ (f y - f x) / (y - x) :=\n  âŸ¨fun h => âŸ¨h.1, fun _ _ _ => h.slope_anti_adjacentâŸ©, fun h =>\n    concaveOn_of_slope_anti_adjacent h.1 (@fun _ _ _ hx hy => h.2 hx hy)âŸ©\n\n"}
{"name":"strictConvexOn_iff_slope_strict_mono_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nâŠ¢ Iff (StrictConvexOn ğ•œ s f) (And (Convex ğ•œ s) (âˆ€ â¦ƒx y z : ğ•œâ¦„, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))))","decl":"/-- A function `f : ğ•œ â†’ ğ•œ` is strictly convex iff for any three points `x < y < z` the slope of\nthe secant line of `f` on `[x, y]` is strictly less than the slope of the secant line of `f` on\n`[y, z]`. -/\ntheorem strictConvexOn_iff_slope_strict_mono_adjacent :\n    StrictConvexOn ğ•œ s f â†”\n      Convex ğ•œ s âˆ§\n        âˆ€ â¦ƒx y z : ğ•œâ¦„,\n          x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f y - f x) / (y - x) < (f z - f y) / (z - y) :=\n  âŸ¨fun h => âŸ¨h.1, fun _ _ _ => h.slope_strict_mono_adjacentâŸ©, fun h =>\n    strictConvexOn_of_slope_strict_mono_adjacent h.1 (@fun _ _ _ hx hy => h.2 hx hy)âŸ©\n\n"}
{"name":"strictConcaveOn_iff_slope_strict_anti_adjacent","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nâŠ¢ Iff (StrictConcaveOn ğ•œ s f) (And (Convex ğ•œ s) (âˆ€ â¦ƒx y z : ğ•œâ¦„, Membership.mem s x â†’ Membership.mem s z â†’ LT.lt x y â†’ LT.lt y z â†’ LT.lt (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y)) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x))))","decl":"/-- A function `f : ğ•œ â†’ ğ•œ` is strictly concave iff for any three points `x < y < z` the slope of\nthe secant line of `f` on `[x, y]` is strictly greater than the slope of the secant line of `f` on\n`[y, z]`. -/\ntheorem strictConcaveOn_iff_slope_strict_anti_adjacent :\n    StrictConcaveOn ğ•œ s f â†”\n      Convex ğ•œ s âˆ§\n        âˆ€ â¦ƒx y z : ğ•œâ¦„,\n          x âˆˆ s â†’ z âˆˆ s â†’ x < y â†’ y < z â†’ (f z - f y) / (z - y) < (f y - f x) / (y - x) :=\n  âŸ¨fun h => âŸ¨h.1, fun _ _ _ => h.slope_anti_adjacentâŸ©, fun h =>\n    strictConcaveOn_of_slope_strict_anti_adjacent h.1 (@fun _ _ _ hx hy => h.2 hx hy)âŸ©\n\n"}
{"name":"ConvexOn.secant_mono_aux1","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LE.le (HMul.hMul (HSub.hSub z x) (f y)) (HAdd.hAdd (HMul.hMul (HSub.hSub z y) (f x)) (HMul.hMul (HSub.hSub y x) (f z)))","decl":"theorem ConvexOn.secant_mono_aux1 (hf : ConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s) (hz : z âˆˆ s)\n    (hxy : x < y) (hyz : y < z) : (z - x) * f y â‰¤ (z - y) * f x + (y - x) * f z := by\n  have hxy' : 0 < y - x := by linarith\n  have hyz' : 0 < z - y := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [â† le_div_iffâ‚€' hxz']\n  have ha : 0 â‰¤ (z - y) / (z - x) := by positivity\n  have hb : 0 â‰¤ (y - x) / (z - x) := by positivity\n  calc\n    f y = f ((z - y) / (z - x) * x + (y - x) / (z - x) * z) := ?_\n    _ â‰¤ (z - y) / (z - x) * f x + (y - x) / (z - x) * f z := hf.2 hx hz ha hb ?_\n    _ = ((z - y) * f x + (y - x) * f z) / (z - x) := ?_\n  Â· congr 1\n    field_simp\n    ring\n  Â· field_simp\n  Â· field_simp\n\n"}
{"name":"ConvexOn.secant_mono_aux2","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LE.le (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f x)) (HSub.hSub z x))","decl":"theorem ConvexOn.secant_mono_aux2 (hf : ConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s) (hz : z âˆˆ s)\n    (hxy : x < y) (hyz : y < z) : (f y - f x) / (y - x) â‰¤ (f z - f x) / (z - x) := by\n  have hxy' : 0 < y - x := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [div_le_div_iffâ‚€ hxy' hxz']\n  linarith only [hf.secant_mono_aux1 hx hz hxy hyz]\n\n"}
{"name":"ConvexOn.secant_mono_aux3","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LE.le (HDiv.hDiv (HSub.hSub (f z) (f x)) (HSub.hSub z x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))","decl":"theorem ConvexOn.secant_mono_aux3 (hf : ConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s) (hz : z âˆˆ s)\n    (hxy : x < y) (hyz : y < z) : (f z - f x) / (z - x) â‰¤ (f z - f y) / (z - y) := by\n  have hyz' : 0 < z - y := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [div_le_div_iffâ‚€ hxz' hyz']\n  linarith only [hf.secant_mono_aux1 hx hz hxy hyz]\n\n"}
{"name":"ConvexOn.secant_mono","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\na x y : ğ•œ\nha : Membership.mem s a\nhx : Membership.mem s x\nhy : Membership.mem s y\nhxa : Ne x a\nhya : Ne y a\nhxy : LE.le x y\nâŠ¢ LE.le (HDiv.hDiv (HSub.hSub (f x) (f a)) (HSub.hSub x a)) (HDiv.hDiv (HSub.hSub (f y) (f a)) (HSub.hSub y a))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is convex, then for any point `a` the slope of the secant line of `f` through `a`\nand `b â‰  a` is monotone with respect to `b`. -/\ntheorem ConvexOn.secant_mono (hf : ConvexOn ğ•œ s f) {a x y : ğ•œ} (ha : a âˆˆ s) (hx : x âˆˆ s)\n    (hy : y âˆˆ s) (hxa : x â‰  a) (hya : y â‰  a) (hxy : x â‰¤ y) :\n    (f x - f a) / (x - a) â‰¤ (f y - f a) / (y - a) := by\n  rcases eq_or_lt_of_le hxy with (rfl | hxy)\n  Â· simp\n  cases' lt_or_gt_of_ne hxa with hxa hxa\n  Â· cases' lt_or_gt_of_ne hya with hya hya\n    Â· convert hf.secant_mono_aux3 hx ha hxy hya using 1 <;> rw [â† neg_div_neg_eq] <;> field_simp\n    Â· convert hf.slope_mono_adjacent hx hy hxa hya using 1\n      rw [â† neg_div_neg_eq]; field_simp\n  Â· exact hf.secant_mono_aux2 ha hy hxa hxy\n\n"}
{"name":"StrictConvexOn.secant_strict_mono_aux1","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LT.lt (HMul.hMul (HSub.hSub z x) (f y)) (HAdd.hAdd (HMul.hMul (HSub.hSub z y) (f x)) (HMul.hMul (HSub.hSub y x) (f z)))","decl":"theorem StrictConvexOn.secant_strict_mono_aux1 (hf : StrictConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s)\n    (hz : z âˆˆ s) (hxy : x < y) (hyz : y < z) : (z - x) * f y < (z - y) * f x + (y - x) * f z := by\n  have hxy' : 0 < y - x := by linarith\n  have hyz' : 0 < z - y := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [â† lt_div_iffâ‚€' hxz']\n  have ha : 0 < (z - y) / (z - x) := by positivity\n  have hb : 0 < (y - x) / (z - x) := by positivity\n  calc\n    f y = f ((z - y) / (z - x) * x + (y - x) / (z - x) * z) := ?_\n    _ < (z - y) / (z - x) * f x + (y - x) / (z - x) * f z := hf.2 hx hz (by linarith) ha hb ?_\n    _ = ((z - y) * f x + (y - x) * f z) / (z - x) := ?_\n  Â· congr 1\n    field_simp\n    ring\n  Â· field_simp\n  Â· field_simp\n\n"}
{"name":"StrictConvexOn.secant_strict_mono_aux2","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (HDiv.hDiv (HSub.hSub (f z) (f x)) (HSub.hSub z x))","decl":"theorem StrictConvexOn.secant_strict_mono_aux2 (hf : StrictConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s)\n    (hz : z âˆˆ s) (hxy : x < y) (hyz : y < z) : (f y - f x) / (y - x) < (f z - f x) / (z - x) := by\n  have hxy' : 0 < y - x := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [div_lt_div_iffâ‚€ hxy' hxz']\n  linarith only [hf.secant_strict_mono_aux1 hx hz hxy hyz]\n\n"}
{"name":"StrictConvexOn.secant_strict_mono_aux3","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConvexOn ğ•œ s f\nx y z : ğ•œ\nhx : Membership.mem s x\nhz : Membership.mem s z\nhxy : LT.lt x y\nhyz : LT.lt y z\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f z) (f x)) (HSub.hSub z x)) (HDiv.hDiv (HSub.hSub (f z) (f y)) (HSub.hSub z y))","decl":"theorem StrictConvexOn.secant_strict_mono_aux3 (hf : StrictConvexOn ğ•œ s f) {x y z : ğ•œ} (hx : x âˆˆ s)\n    (hz : z âˆˆ s) (hxy : x < y) (hyz : y < z) : (f z - f x) / (z - x) < (f z - f y) / (z - y) := by\n  have hyz' : 0 < z - y := by linarith\n  have hxz' : 0 < z - x := by linarith\n  rw [div_lt_div_iffâ‚€ hxz' hyz']\n  linarith only [hf.secant_strict_mono_aux1 hx hz hxy hyz]\n\n"}
{"name":"StrictConvexOn.secant_strict_mono","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConvexOn ğ•œ s f\na x y : ğ•œ\nha : Membership.mem s a\nhx : Membership.mem s x\nhy : Membership.mem s y\nhxa : Ne x a\nhya : Ne y a\nhxy : LT.lt x y\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f x) (f a)) (HSub.hSub x a)) (HDiv.hDiv (HSub.hSub (f y) (f a)) (HSub.hSub y a))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is strictly convex, then for any point `a` the slope of the secant line of `f`\nthrough `a` and `b` is strictly monotone with respect to `b`. -/\ntheorem StrictConvexOn.secant_strict_mono (hf : StrictConvexOn ğ•œ s f) {a x y : ğ•œ} (ha : a âˆˆ s)\n    (hx : x âˆˆ s) (hy : y âˆˆ s) (hxa : x â‰  a) (hya : y â‰  a) (hxy : x < y) :\n    (f x - f a) / (x - a) < (f y - f a) / (y - a) := by\n  cases' lt_or_gt_of_ne hxa with hxa hxa\n  Â· cases' lt_or_gt_of_ne hya with hya hya\n    Â· convert hf.secant_strict_mono_aux3 hx ha hxy hya using 1 <;> rw [â† neg_div_neg_eq] <;>\n        field_simp\n    Â· convert hf.slope_strict_mono_adjacent hx hy hxa hya using 1\n      rw [â† neg_div_neg_eq]; field_simp\n  Â· exact hf.secant_strict_mono_aux2 ha hy hxa hxy\n\n"}
{"name":"StrictConcaveOn.secant_strict_mono","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : StrictConcaveOn ğ•œ s f\na x y : ğ•œ\nha : Membership.mem s a\nhx : Membership.mem s x\nhy : Membership.mem s y\nhxa : Ne x a\nhya : Ne y a\nhxy : LT.lt x y\nâŠ¢ LT.lt (HDiv.hDiv (HSub.hSub (f y) (f a)) (HSub.hSub y a)) (HDiv.hDiv (HSub.hSub (f x) (f a)) (HSub.hSub x a))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is strictly concave, then for any point `a` the slope of the secant line of `f`\nthrough `a` and `b` is strictly antitone with respect to `b`. -/\ntheorem StrictConcaveOn.secant_strict_mono (hf : StrictConcaveOn ğ•œ s f) {a x y : ğ•œ} (ha : a âˆˆ s)\n    (hx : x âˆˆ s) (hy : y âˆˆ s) (hxa : x â‰  a) (hya : y â‰  a) (hxy : x < y) :\n    (f y - f a) / (y - a) < (f x - f a) / (x - a) := by\n  have key := hf.neg.secant_strict_mono ha hx hy hxa hya hxy\n  simp only [Pi.neg_apply] at key\n  rw [â† neg_lt_neg_iff]\n  convert key using 1 <;> field_simp <;> ring\n\n"}
{"name":"ConvexOn.strict_mono_of_lt","module":"Mathlib.Analysis.Convex.Slope","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nhf : ConvexOn ğ•œ s f\nx y : ğ•œ\nhx : Membership.mem s x\nhxy : LT.lt x y\nhxy' : LT.lt (f x) (f y)\nâŠ¢ StrictMonoOn f (Inter.inter s (Set.Ici y))","decl":"/-- If `f` is convex on a set `s` in a linearly ordered field, and `f x < f y` for two points\n`x < y` in `s`, then `f` is strictly monotone on `s âˆ© [y, âˆ)`. -/\ntheorem ConvexOn.strict_mono_of_lt (hf : ConvexOn ğ•œ s f) {x y : ğ•œ} (hx : x âˆˆ s) (hxy : x < y)\n    (hxy' : f x < f y) : StrictMonoOn f (s âˆ© Set.Ici y) := by\n  intro u hu v hv huv\n  have step1 : âˆ€ {z : ğ•œ}, z âˆˆ s âˆ© Set.Ioi y â†’ f y < f z := by\n    intros z hz\n    refine hf.lt_right_of_left_lt hx hz.1 ?_ hxy'\n    rw [openSegment_eq_Ioo (hxy.trans hz.2)]\n    exact âŸ¨hxy, hz.2âŸ©\n  rcases eq_or_lt_of_le hu.2 with (rfl | hu2)\n  Â· exact step1 âŸ¨hv.1, huvâŸ©\n  Â· refine hf.lt_right_of_left_lt ?_ hv.1 ?_ (step1 âŸ¨hu.1, hu2âŸ©)\n    Â· apply hf.1.segment_subset hx hu.1\n      rw [segment_eq_Icc (hxy.le.trans hu.2)]\n      exact âŸ¨hxy.le, hu.2âŸ©\n    Â· rw [openSegment_eq_Ioo (hu2.trans huv)]\n      exact âŸ¨hu2, huvâŸ©\n"}
