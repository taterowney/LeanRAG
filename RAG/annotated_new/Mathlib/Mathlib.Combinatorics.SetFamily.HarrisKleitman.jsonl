{"name":"IsLowerSet.nonMemberSubfamily","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœ : DecidableEq Î±\nğ’œ : Finset (Finset Î±)\na : Î±\nh : IsLowerSet â†‘ğ’œ\nâŠ¢ IsLowerSet â†‘(Finset.nonMemberSubfamily a ğ’œ)","decl":"theorem IsLowerSet.nonMemberSubfamily (h : IsLowerSet (ğ’œ : Set (Finset Î±))) :\n    IsLowerSet (ğ’œ.nonMemberSubfamily a : Set (Finset Î±)) := fun s t hts => by\n  simp_rw [mem_coe, mem_nonMemberSubfamily]\n  exact And.imp (h hts) (mt <| @hts _)\n\n"}
{"name":"IsLowerSet.memberSubfamily","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœ : DecidableEq Î±\nğ’œ : Finset (Finset Î±)\na : Î±\nh : IsLowerSet â†‘ğ’œ\nâŠ¢ IsLowerSet â†‘(Finset.memberSubfamily a ğ’œ)","decl":"theorem IsLowerSet.memberSubfamily (h : IsLowerSet (ğ’œ : Set (Finset Î±))) :\n    IsLowerSet (ğ’œ.memberSubfamily a : Set (Finset Î±)) := by\n  rintro s t hts\n  simp_rw [mem_coe, mem_memberSubfamily]\n  exact And.imp (h <| insert_subset_insert _ hts) (mt <| @hts _)\n\n"}
{"name":"IsLowerSet.memberSubfamily_subset_nonMemberSubfamily","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœ : DecidableEq Î±\nğ’œ : Finset (Finset Î±)\na : Î±\nh : IsLowerSet â†‘ğ’œ\nâŠ¢ HasSubset.Subset (Finset.memberSubfamily a ğ’œ) (Finset.nonMemberSubfamily a ğ’œ)","decl":"theorem IsLowerSet.memberSubfamily_subset_nonMemberSubfamily (h : IsLowerSet (ğ’œ : Set (Finset Î±))) :\n    ğ’œ.memberSubfamily a âŠ† ğ’œ.nonMemberSubfamily a := fun s => by\n  rw [mem_memberSubfamily, mem_nonMemberSubfamily]\n  exact And.imp_left (h <| subset_insert _ _)\n\n"}
{"name":"IsLowerSet.le_card_inter_finset'","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœ : DecidableEq Î±\nğ’œ â„¬ : Finset (Finset Î±)\ns : Finset Î±\nhğ’œ : IsLowerSet â†‘ğ’œ\nhâ„¬ : IsLowerSet â†‘â„¬\nhğ’œs : âˆ€ (t : Finset Î±), Membership.mem ğ’œ t â†’ HasSubset.Subset t s\nhâ„¬s : âˆ€ (t : Finset Î±), Membership.mem â„¬ t â†’ HasSubset.Subset t s\nâŠ¢ LE.le (HMul.hMul ğ’œ.card â„¬.card) (HMul.hMul (HPow.hPow 2 s.card) (Inter.inter ğ’œ â„¬).card)","decl":"/-- **Harris-Kleitman inequality**: Any two lower sets of finsets correlate. -/\ntheorem IsLowerSet.le_card_inter_finset' (hğ’œ : IsLowerSet (ğ’œ : Set (Finset Î±)))\n    (hâ„¬ : IsLowerSet (â„¬ : Set (Finset Î±))) (hğ’œs : âˆ€ t âˆˆ ğ’œ, t âŠ† s) (hâ„¬s : âˆ€ t âˆˆ â„¬, t âŠ† s) :\n    #ğ’œ * #â„¬ â‰¤ 2 ^ #s * #(ğ’œ âˆ© â„¬) := by\n  induction' s using Finset.induction with a s hs ih generalizing ğ’œ â„¬\n  Â· simp_rw [subset_empty, â† subset_singleton_iff', subset_singleton_iff] at hğ’œs hâ„¬s\n    obtain rfl | rfl := hğ’œs\n    Â· simp only [card_empty, zero_mul, empty_inter, mul_zero, le_refl]\n    obtain rfl | rfl := hâ„¬s\n    Â· simp only [card_empty, inter_empty, mul_zero, zero_mul, le_refl]\n    Â· simp only [card_empty, pow_zero, inter_singleton_of_mem, mem_singleton, card_singleton,\n        le_refl]\n  rw [card_insert_of_not_mem hs, â† card_memberSubfamily_add_card_nonMemberSubfamily a ğ’œ, â†\n    card_memberSubfamily_add_card_nonMemberSubfamily a â„¬, add_mul, mul_add, mul_add,\n    add_comm (_ * _), add_add_add_comm]\n  refine\n    (add_le_add_right\n          (mul_add_mul_le_mul_add_mul\n              (card_le_card hğ’œ.memberSubfamily_subset_nonMemberSubfamily) <|\n            card_le_card hâ„¬.memberSubfamily_subset_nonMemberSubfamily)\n          _).trans\n      ?_\n  rw [â† two_mul, pow_succ', mul_assoc]\n  have hâ‚€ : âˆ€ ğ’ : Finset (Finset Î±), (âˆ€ t âˆˆ ğ’, t âŠ† insert a s) â†’\n      âˆ€ t âˆˆ ğ’.nonMemberSubfamily a, t âŠ† s := by\n    rintro ğ’ hğ’ t ht\n    rw [mem_nonMemberSubfamily] at ht\n    exact (subset_insert_iff_of_not_mem ht.2).1 (hğ’ _ ht.1)\n  have hâ‚ : âˆ€ ğ’ : Finset (Finset Î±), (âˆ€ t âˆˆ ğ’, t âŠ† insert a s) â†’\n      âˆ€ t âˆˆ ğ’.memberSubfamily a, t âŠ† s := by\n    rintro ğ’ hğ’ t ht\n    rw [mem_memberSubfamily] at ht\n    exact (subset_insert_iff_of_not_mem ht.2).1 ((subset_insert _ _).trans <| hğ’ _ ht.1)\n  refine mul_le_mul_left' ?_ _\n  refine (add_le_add (ih hğ’œ.memberSubfamily hâ„¬.memberSubfamily (hâ‚ _ hğ’œs) <| hâ‚ _ hâ„¬s) <|\n    ih hğ’œ.nonMemberSubfamily hâ„¬.nonMemberSubfamily (hâ‚€ _ hğ’œs) <| hâ‚€ _ hâ„¬s).trans_eq ?_\n  rw [â† mul_add, â† memberSubfamily_inter, â† nonMemberSubfamily_inter,\n    card_memberSubfamily_add_card_nonMemberSubfamily]\n\n"}
{"name":"IsLowerSet.le_card_inter_finset","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœÂ¹ : DecidableEq Î±\nğ’œ â„¬ : Finset (Finset Î±)\ninstâœ : Fintype Î±\nhğ’œ : IsLowerSet â†‘ğ’œ\nhâ„¬ : IsLowerSet â†‘â„¬\nâŠ¢ LE.le (HMul.hMul ğ’œ.card â„¬.card) (HMul.hMul (HPow.hPow 2 (Fintype.card Î±)) (Inter.inter ğ’œ â„¬).card)","decl":"/-- **Harris-Kleitman inequality**: Any two lower sets of finsets correlate. -/\ntheorem IsLowerSet.le_card_inter_finset (hğ’œ : IsLowerSet (ğ’œ : Set (Finset Î±)))\n    (hâ„¬ : IsLowerSet (â„¬ : Set (Finset Î±))) : #ğ’œ * #â„¬ â‰¤ 2 ^ Fintype.card Î± * #(ğ’œ âˆ© â„¬) :=\nhğ’œ.le_card_inter_finset' hâ„¬ (fun _ _ => subset_univ _) fun _ _ => subset_univ _\n\n"}
{"name":"IsUpperSet.card_inter_le_finset","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœÂ¹ : DecidableEq Î±\nğ’œ â„¬ : Finset (Finset Î±)\ninstâœ : Fintype Î±\nhğ’œ : IsUpperSet â†‘ğ’œ\nhâ„¬ : IsLowerSet â†‘â„¬\nâŠ¢ LE.le (HMul.hMul (HPow.hPow 2 (Fintype.card Î±)) (Inter.inter ğ’œ â„¬).card) (HMul.hMul ğ’œ.card â„¬.card)","decl":"/-- **Harris-Kleitman inequality**: Upper sets and lower sets of finsets anticorrelate. -/\ntheorem IsUpperSet.card_inter_le_finset (hğ’œ : IsUpperSet (ğ’œ : Set (Finset Î±)))\n    (hâ„¬ : IsLowerSet (â„¬ : Set (Finset Î±))) :\n    2 ^ Fintype.card Î± * #(ğ’œ âˆ© â„¬) â‰¤ #ğ’œ * #â„¬ := by\n  rw [â† isLowerSet_compl, â† coe_compl] at hğ’œ\n  have := hğ’œ.le_card_inter_finset hâ„¬\n  rwa [card_compl, Fintype.card_finset, tsub_mul, tsub_le_iff_tsub_le, â† mul_tsub, â†\n    card_sdiff inter_subset_right, sdiff_inter_self_right, sdiff_compl,\n    _root_.inf_comm] at this\n\n"}
{"name":"IsLowerSet.card_inter_le_finset","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœÂ¹ : DecidableEq Î±\nğ’œ â„¬ : Finset (Finset Î±)\ninstâœ : Fintype Î±\nhğ’œ : IsLowerSet â†‘ğ’œ\nhâ„¬ : IsUpperSet â†‘â„¬\nâŠ¢ LE.le (HMul.hMul (HPow.hPow 2 (Fintype.card Î±)) (Inter.inter ğ’œ â„¬).card) (HMul.hMul ğ’œ.card â„¬.card)","decl":"/-- **Harris-Kleitman inequality**: Lower sets and upper sets of finsets anticorrelate. -/\ntheorem IsLowerSet.card_inter_le_finset (hğ’œ : IsLowerSet (ğ’œ : Set (Finset Î±)))\n    (hâ„¬ : IsUpperSet (â„¬ : Set (Finset Î±))) :\n    2 ^ Fintype.card Î± * #(ğ’œ âˆ© â„¬) â‰¤ #ğ’œ * #â„¬ := by\n  rw [inter_comm, mul_comm #ğ’œ]\n  exact hâ„¬.card_inter_le_finset hğ’œ\n\n"}
{"name":"IsUpperSet.le_card_inter_finset","module":"Mathlib.Combinatorics.SetFamily.HarrisKleitman","initialProofState":"Î± : Type u_1\ninstâœÂ¹ : DecidableEq Î±\nğ’œ â„¬ : Finset (Finset Î±)\ninstâœ : Fintype Î±\nhğ’œ : IsUpperSet â†‘ğ’œ\nhâ„¬ : IsUpperSet â†‘â„¬\nâŠ¢ LE.le (HMul.hMul ğ’œ.card â„¬.card) (HMul.hMul (HPow.hPow 2 (Fintype.card Î±)) (Inter.inter ğ’œ â„¬).card)","decl":"/-- **Harris-Kleitman inequality**: Any two upper sets of finsets correlate. -/\ntheorem IsUpperSet.le_card_inter_finset (hğ’œ : IsUpperSet (ğ’œ : Set (Finset Î±)))\n    (hâ„¬ : IsUpperSet (â„¬ : Set (Finset Î±))) :\n    #ğ’œ * #â„¬ â‰¤ 2 ^ Fintype.card Î± * #(ğ’œ âˆ© â„¬) := by\n  rw [â† isLowerSet_compl, â† coe_compl] at hğ’œ\n  have := hğ’œ.card_inter_le_finset hâ„¬\n  rwa [card_compl, Fintype.card_finset, tsub_mul, le_tsub_iff_le_tsub, â† mul_tsub, â†\n    card_sdiff inter_subset_right, sdiff_inter_self_right, sdiff_compl,\n    _root_.inf_comm] at this\n  Â· exact mul_le_mul_left' (card_le_card inter_subset_right) _\n  Â· rw [â† Fintype.card_finset]\n    exact mul_le_mul_right' (card_le_univ _) _\n"}
