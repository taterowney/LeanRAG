{"name":"convexOn_norm","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\nhs : Convex Real s\n‚ä¢ ConvexOn Real s Norm.norm","decl":"/-- The norm on a real normed space is convex on any convex set. See also `Seminorm.convexOn`\nand `convexOn_univ_norm`. -/\ntheorem convexOn_norm (hs : Convex ‚Ñù s) : ConvexOn ‚Ñù s norm :=\n  ‚ü®hs, fun x _ y _ a b ha hb _ =>\n    calc\n      ‚Äña ‚Ä¢ x + b ‚Ä¢ y‚Äñ ‚â§ ‚Äña ‚Ä¢ x‚Äñ + ‚Äñb ‚Ä¢ y‚Äñ := norm_add_le _ _\n      _ = a * ‚Äñx‚Äñ + b * ‚Äñy‚Äñ := by\n        rw [norm_smul, norm_smul, Real.norm_of_nonneg ha, Real.norm_of_nonneg hb]‚ü©\n\n"}
{"name":"convexOn_univ_norm","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\n‚ä¢ ConvexOn Real Set.univ Norm.norm","decl":"/-- The norm on a real normed space is convex on the whole space. See also `Seminorm.convexOn`\nand `convexOn_norm`. -/\ntheorem convexOn_univ_norm : ConvexOn ‚Ñù univ (norm : E ‚Üí ‚Ñù) :=\n  convexOn_norm convex_univ\n\n"}
{"name":"convexOn_dist","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\nz : E\nhs : Convex Real s\n‚ä¢ ConvexOn Real s fun z' => Dist.dist z' z","decl":"theorem convexOn_dist (z : E) (hs : Convex ‚Ñù s) : ConvexOn ‚Ñù s fun z' => dist z' z := by\n  simpa [dist_eq_norm, preimage_preimage] using\n    (convexOn_norm (hs.translate (-z))).comp_affineMap (AffineMap.id ‚Ñù E - AffineMap.const ‚Ñù E z)\n\n"}
{"name":"convexOn_univ_dist","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\nz : E\n‚ä¢ ConvexOn Real Set.univ fun z' => Dist.dist z' z","decl":"theorem convexOn_univ_dist (z : E) : ConvexOn ‚Ñù univ fun z' => dist z' z :=\n  convexOn_dist z convex_univ\n\n"}
{"name":"convex_ball","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\na : E\nr : Real\n‚ä¢ Convex Real (Metric.ball a r)","decl":"theorem convex_ball (a : E) (r : ‚Ñù) : Convex ‚Ñù (Metric.ball a r) := by\n  simpa only [Metric.ball, sep_univ] using (convexOn_univ_dist a).convex_lt r\n\n"}
{"name":"convex_closedBall","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\na : E\nr : Real\n‚ä¢ Convex Real (Metric.closedBall a r)","decl":"theorem convex_closedBall (a : E) (r : ‚Ñù) : Convex ‚Ñù (Metric.closedBall a r) := by\n  simpa only [Metric.closedBall, sep_univ] using (convexOn_univ_dist a).convex_le r\n\n"}
{"name":"Convex.thickening","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\nhs : Convex Real s\nŒ¥ : Real\n‚ä¢ Convex Real (Metric.thickening Œ¥ s)","decl":"theorem Convex.thickening (hs : Convex ‚Ñù s) (Œ¥ : ‚Ñù) : Convex ‚Ñù (thickening Œ¥ s) := by\n  rw [‚Üê add_ball_zero]\n  exact hs.add (convex_ball 0 _)\n\n"}
{"name":"Convex.cthickening","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\nhs : Convex Real s\nŒ¥ : Real\n‚ä¢ Convex Real (Metric.cthickening Œ¥ s)","decl":"theorem Convex.cthickening (hs : Convex ‚Ñù s) (Œ¥ : ‚Ñù) : Convex ‚Ñù (cthickening Œ¥ s) := by\n  obtain hŒ¥ | hŒ¥ := le_total 0 Œ¥\n  ¬∑ rw [cthickening_eq_iInter_thickening hŒ¥]\n    exact convex_iInter‚ÇÇ fun _ _ => hs.thickening _\n  ¬∑ rw [cthickening_of_nonpos hŒ¥]\n    exact hs.closure\n\n"}
{"name":"convexHull_exists_dist_ge","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\nx : E\nhx : Membership.mem ((convexHull Real) s) x\ny : E\n‚ä¢ Exists fun x' => And (Membership.mem s x') (LE.le (Dist.dist x y) (Dist.dist x' y))","decl":"/-- Given a point `x` in the convex hull of `s` and a point `y`, there exists a point\nof `s` at distance at least `dist x y` from `y`. -/\ntheorem convexHull_exists_dist_ge {s : Set E} {x : E} (hx : x ‚àà convexHull ‚Ñù s) (y : E) :\n    ‚àÉ x' ‚àà s, dist x y ‚â§ dist x' y :=\n  (convexOn_dist y (convex_convexHull ‚Ñù _)).exists_ge_of_mem_convexHull (subset_convexHull ..) hx\n\n"}
{"name":"convexHull_exists_dist_ge2","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns t : Set E\nx y : E\nhx : Membership.mem ((convexHull Real) s) x\nhy : Membership.mem ((convexHull Real) t) y\n‚ä¢ Exists fun x' => And (Membership.mem s x') (Exists fun y' => And (Membership.mem t y') (LE.le (Dist.dist x y) (Dist.dist x' y')))","decl":"/-- Given a point `x` in the convex hull of `s` and a point `y` in the convex hull of `t`,\nthere exist points `x' ‚àà s` and `y' ‚àà t` at distance at least `dist x y`. -/\ntheorem convexHull_exists_dist_ge2 {s t : Set E} {x y : E} (hx : x ‚àà convexHull ‚Ñù s)\n    (hy : y ‚àà convexHull ‚Ñù t) : ‚àÉ x' ‚àà s, ‚àÉ y' ‚àà t, dist x y ‚â§ dist x' y' := by\n  rcases convexHull_exists_dist_ge hx y with ‚ü®x', hx', Hx'‚ü©\n  rcases convexHull_exists_dist_ge hy x' with ‚ü®y', hy', Hy'‚ü©\n  use x', hx', y', hy'\n  exact le_trans Hx' (dist_comm y x' ‚ñ∏ dist_comm y' x' ‚ñ∏ Hy')\n\n"}
{"name":"convexHull_ediam","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\n‚ä¢ Eq (EMetric.diam ((convexHull Real) s)) (EMetric.diam s)","decl":"/-- Emetric diameter of the convex hull of a set `s` equals the emetric diameter of `s`. -/\n@[simp]\ntheorem convexHull_ediam (s : Set E) : EMetric.diam (convexHull ‚Ñù s) = EMetric.diam s := by\n  refine (EMetric.diam_le fun x hx y hy => ?_).antisymm (EMetric.diam_mono <| subset_convexHull ‚Ñù s)\n  rcases convexHull_exists_dist_ge2 hx hy with ‚ü®x', hx', y', hy', H‚ü©\n  rw [edist_dist]\n  apply le_trans (ENNReal.ofReal_le_ofReal H)\n  rw [‚Üê edist_dist]\n  exact EMetric.edist_le_diam_of_mem hx' hy'\n\n"}
{"name":"convexHull_diam","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\n‚ä¢ Eq (Metric.diam ((convexHull Real) s)) (Metric.diam s)","decl":"/-- Diameter of the convex hull of a set `s` equals the emetric diameter of `s`. -/\n@[simp]\ntheorem convexHull_diam (s : Set E) : Metric.diam (convexHull ‚Ñù s) = Metric.diam s := by\n  simp only [Metric.diam, convexHull_ediam]\n\n"}
{"name":"isBounded_convexHull","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\ns : Set E\n‚ä¢ Iff (Bornology.IsBounded ((convexHull Real) s)) (Bornology.IsBounded s)","decl":"/-- Convex hull of `s` is bounded if and only if `s` is bounded. -/\n@[simp]\ntheorem isBounded_convexHull {s : Set E} :\n    Bornology.IsBounded (convexHull ‚Ñù s) ‚Üî Bornology.IsBounded s := by\n  simp only [Metric.isBounded_iff_ediam_ne_top, convexHull_ediam]\n\n"}
{"name":"NormedSpace.instPathConnectedSpace","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\n‚ä¢ PathConnectedSpace E","decl":"instance (priority := 100) NormedSpace.instPathConnectedSpace : PathConnectedSpace E :=\n  TopologicalAddGroup.pathConnectedSpace\n\n"}
{"name":"Wbtw.dist_add_dist","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\nP : Type u_2\ninst‚úù¬≥ : SeminormedAddCommGroup E\ninst‚úù¬≤ : NormedSpace Real E\ninst‚úù¬π : PseudoMetricSpace P\ninst‚úù : NormedAddTorsor E P\nx y z : P\nh : Wbtw Real x y z\n‚ä¢ Eq (HAdd.hAdd (Dist.dist x y) (Dist.dist y z)) (Dist.dist x z)","decl":"theorem Wbtw.dist_add_dist {x y z : P} (h : Wbtw ‚Ñù x y z) :\n    dist x y + dist y z = dist x z := by\n  obtain ‚ü®a, ‚ü®ha‚ÇÄ, ha‚ÇÅ‚ü©, rfl‚ü© := h\n  simp [abs_of_nonneg, ha‚ÇÄ, ha‚ÇÅ, sub_mul]\n\n"}
{"name":"dist_add_dist_of_mem_segment","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\nx y z : E\nh : Membership.mem (segment Real x z) y\n‚ä¢ Eq (HAdd.hAdd (Dist.dist x y) (Dist.dist y z)) (Dist.dist x z)","decl":"theorem dist_add_dist_of_mem_segment {x y z : E} (h : y ‚àà [x -[‚Ñù] z]) :\n    dist x y + dist y z = dist x z :=\n  (mem_segment_iff_wbtw.1 h).dist_add_dist\n\n"}
{"name":"isConnected_setOf_sameRay","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\nx : E\n‚ä¢ IsConnected (setOf fun y => SameRay Real x y)","decl":"/-- The set of vectors in the same ray as `x` is connected. -/\ntheorem isConnected_setOf_sameRay (x : E) : IsConnected { y | SameRay ‚Ñù x y } := by\n  by_cases hx : x = 0; ¬∑ simpa [hx] using isConnected_univ (Œ± := E)\n  simp_rw [‚Üê exists_nonneg_left_iff_sameRay hx]\n  exact isConnected_Ici.image _ (continuous_id.smul continuous_const).continuousOn\n\n"}
{"name":"isConnected_setOf_sameRay_and_ne_zero","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬π : SeminormedAddCommGroup E\ninst‚úù : NormedSpace Real E\nx : E\nhx : Ne x 0\n‚ä¢ IsConnected (setOf fun y => And (SameRay Real x y) (Ne y 0))","decl":"/-- The set of nonzero vectors in the same ray as the nonzero vector `x` is connected. -/\ntheorem isConnected_setOf_sameRay_and_ne_zero {x : E} (hx : x ‚â† 0) :\n    IsConnected { y | SameRay ‚Ñù x y ‚àß y ‚â† 0 } := by\n  simp_rw [‚Üê exists_pos_left_iff_sameRay_and_ne_zero hx]\n  exact isConnected_Ioi.image _ (continuous_id.smul continuous_const).continuousOn\n\n"}
{"name":"exists_mem_interior_convexHull_affineBasis","module":"Mathlib.Analysis.Convex.Normed","initialProofState":"E : Type u_1\ninst‚úù¬≤ : NormedAddCommGroup E\ninst‚úù¬π : NormedSpace Real E\ninst‚úù : FiniteDimensional Real E\ns : Set E\nx : E\nhs : Membership.mem (nhds x) s\n‚ä¢ Exists fun b => And (Membership.mem (interior ((convexHull Real) (Set.range ‚áëb))) x) (HasSubset.Subset ((convexHull Real) (Set.range ‚áëb)) s)","decl":"/-- We can intercalate a simplex between a point and one of its neighborhoods. -/\nlemma exists_mem_interior_convexHull_affineBasis (hs : s ‚àà ùìù x) :\n    ‚àÉ b : AffineBasis (Fin (finrank ‚Ñù E + 1)) ‚Ñù E,\n      x ‚àà interior (convexHull ‚Ñù (range b)) ‚àß convexHull ‚Ñù (range b) ‚äÜ s := by\n  classical\n  -- By translating, WLOG `x` is the origin.\n  wlog hx : x = 0\n  ¬∑ obtain ‚ü®b, hb‚ü© := this (s := -x +·µ• s) (by simpa using vadd_mem_nhds_vadd (-x) hs) rfl\n    use x +·µ• b\n    simpa [subset_vadd_set_iff, mem_vadd_set_iff_neg_vadd_mem, convexHull_vadd, interior_vadd,\n      Pi.vadd_def, -vadd_eq_add, vadd_eq_add (a := -x), ‚Üê Set.vadd_set_range] using hb\n  subst hx\n  -- The strategy is now to find an arbitrary maximal spanning simplex (aka an affine basis)...\n  obtain ‚ü®b‚ü© := exists_affineBasis_of_finiteDimensional\n    (Œπ := Fin (finrank ‚Ñù E + 1)) (k := ‚Ñù) (P := E) (by simp)\n  -- ... translate it to contain the origin...\n  set c : AffineBasis (Fin (finrank ‚Ñù E + 1)) ‚Ñù E := -Finset.univ.centroid ‚Ñù b +·µ• b\n  have hc‚ÇÄ : 0 ‚àà interior (convexHull ‚Ñù (range c) : Set E) := by\n    simpa [c, convexHull_vadd, interior_vadd, range_add, Pi.vadd_def, mem_vadd_set_iff_neg_vadd_mem]\n      using b.centroid_mem_interior_convexHull\n  set cnorm := Finset.univ.sup' Finset.univ_nonempty (fun i ‚Ü¶ ‚Äñc i‚Äñ)\n  have hcnorm : range c ‚äÜ closedBall 0 (cnorm + 1) := by\n    simpa only [cnorm, subset_def, Finset.mem_coe, mem_closedBall, dist_zero_right,\n      ‚Üê sub_le_iff_le_add, Finset.le_sup'_iff, forall_mem_range] using fun i ‚Ü¶ ‚ü®i, by simp‚ü©\n  -- ... and finally scale it to fit inside the neighborhood `s`.\n  obtain ‚ü®Œµ, hŒµ, hŒµs‚ü© := Metric.mem_nhds_iff.1 hs\n  set Œµ' : ‚Ñù := Œµ / 2 / (cnorm + 1)\n  have hc' : 0 < cnorm + 1 := by\n    have : 0 ‚â§ cnorm := Finset.le_sup'_of_le _ (Finset.mem_univ 0) (norm_nonneg _)\n    positivity\n  have hŒµ' : 0 < Œµ' := by positivity\n  set d : AffineBasis (Fin (finrank ‚Ñù E + 1)) ‚Ñù E := Units.mk0 Œµ' hŒµ'.ne' ‚Ä¢ c\n  have hŒµ‚ÇÄ : 0 < Œµ / 2 := by positivity\n  have hdnorm : (range d : Set E) ‚äÜ closedBall 0 (Œµ / 2) := by\n    simp [d, Set.smul_set_subset_iff‚ÇÄ hŒµ'.ne', hŒµ‚ÇÄ.le, _root_.smul_closedBall, abs_of_nonneg hŒµ'.le,\n      range_subset_iff, norm_smul]\n    simpa [Œµ', hŒµ‚ÇÄ.ne', range_subset_iff, ‚Üê mul_div_right_comm (Œµ / 2), div_le_iff‚ÇÄ hc',\n      mul_le_mul_left hŒµ‚ÇÄ] using hcnorm\n  refine ‚ü®d, ?_, ?_‚ü©\n  ¬∑ simpa [d, Pi.smul_def, range_smul, interior_smul‚ÇÄ, convexHull_smul, zero_mem_smul_set_iff,\n      hŒµ'.ne']\n  ¬∑ calc\n      convexHull ‚Ñù (range d) ‚äÜ closedBall 0 (Œµ / 2) := convexHull_min hdnorm (convex_closedBall ..)\n      _ ‚äÜ ball 0 Œµ := closedBall_subset_ball (by linarith)\n      _ ‚äÜ s := hŒµs\n\n"}
