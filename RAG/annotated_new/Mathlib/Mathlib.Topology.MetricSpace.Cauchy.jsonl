{"name":"Metric.complete_of_convergent_controlled_sequences","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\ninstâœ : PseudoMetricSpace Î±\nB : Nat â†’ Real\nhB : âˆ€ (n : Nat), LT.lt 0 (B n)\nH : âˆ€ (u : Nat â†’ Î±), (âˆ€ (N n m : Nat), LE.le N n â†’ LE.le N m â†’ LT.lt (Dist.dist (u n) (u m)) (B N)) â†’ Exists fun x => Filter.Tendsto u Filter.atTop (nhds x)\nâŠ¢ CompleteSpace Î±","decl":"/-- A very useful criterion to show that a space is complete is to show that all sequences\nwhich satisfy a bound of the form `dist (u n) (u m) < B N` for all `n m â‰¥ N` are\nconverging. This is often applied for `B N = 2^{-N}`, i.e., with a very fast convergence to\n`0`, which makes it possible to use arguments of converging series, while this is impossible\nto do in general for arbitrary Cauchy sequences. -/\ntheorem Metric.complete_of_convergent_controlled_sequences (B : â„• â†’ Real) (hB : âˆ€ n, 0 < B n)\n    (H : âˆ€ u : â„• â†’ Î±, (âˆ€ N n m : â„•, N â‰¤ n â†’ N â‰¤ m â†’ dist (u n) (u m) < B N) â†’\n      âˆƒ x, Tendsto u atTop (ğ“ x)) :\n    CompleteSpace Î± :=\n  UniformSpace.complete_of_convergent_controlled_sequences\n    (fun n => { p : Î± Ã— Î± | dist p.1 p.2 < B n }) (fun n => dist_mem_uniformity <| hB n) H\n\n"}
{"name":"Metric.complete_of_cauchySeq_tendsto","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\ninstâœ : PseudoMetricSpace Î±\naâœ : âˆ€ (u : Nat â†’ Î±), CauchySeq u â†’ Exists fun a => Filter.Tendsto u Filter.atTop (nhds a)\nâŠ¢ CompleteSpace Î±","decl":"/-- A pseudo-metric space is complete iff every Cauchy sequence converges. -/\ntheorem Metric.complete_of_cauchySeq_tendsto :\n    (âˆ€ u : â„• â†’ Î±, CauchySeq u â†’ âˆƒ a, Tendsto u atTop (ğ“ a)) â†’ CompleteSpace Î± :=\n  EMetric.complete_of_cauchySeq_tendsto\n\n"}
{"name":"Metric.cauchySeq_iff","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\nÎ² : Type v\ninstâœÂ² : PseudoMetricSpace Î±\ninstâœÂ¹ : Nonempty Î²\ninstâœ : SemilatticeSup Î²\nu : Î² â†’ Î±\nâŠ¢ Iff (CauchySeq u) (âˆ€ (Îµ : Real), GT.gt Îµ 0 â†’ Exists fun N => âˆ€ (m : Î²), GE.ge m N â†’ âˆ€ (n : Î²), GE.ge n N â†’ LT.lt (Dist.dist (u m) (u n)) Îµ)","decl":"/-- In a pseudometric space, Cauchy sequences are characterized by the fact that, eventually,\nthe distance between its elements is arbitrarily small -/\n-- Porting note: @[nolint ge_or_gt] doesn't exist\ntheorem Metric.cauchySeq_iff {u : Î² â†’ Î±} :\n    CauchySeq u â†” âˆ€ Îµ > 0, âˆƒ N, âˆ€ m â‰¥ N, âˆ€ n â‰¥ N, dist (u m) (u n) < Îµ :=\n  uniformity_basis_dist.cauchySeq_iff\n\n"}
{"name":"Metric.cauchySeq_iff'","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\nÎ² : Type v\ninstâœÂ² : PseudoMetricSpace Î±\ninstâœÂ¹ : Nonempty Î²\ninstâœ : SemilatticeSup Î²\nu : Î² â†’ Î±\nâŠ¢ Iff (CauchySeq u) (âˆ€ (Îµ : Real), GT.gt Îµ 0 â†’ Exists fun N => âˆ€ (n : Î²), GE.ge n N â†’ LT.lt (Dist.dist (u n) (u N)) Îµ)","decl":"/-- A variation around the pseudometric characterization of Cauchy sequences -/\ntheorem Metric.cauchySeq_iff' {u : Î² â†’ Î±} :\n    CauchySeq u â†” âˆ€ Îµ > 0, âˆƒ N, âˆ€ n â‰¥ N, dist (u n) (u N) < Îµ :=\n  uniformity_basis_dist.cauchySeq_iff'\n\n-- see Note [nolint_ge]\n"}
{"name":"Metric.uniformCauchySeqOn_iff","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\nÎ² : Type v\ninstâœÂ² : PseudoMetricSpace Î±\ninstâœÂ¹ : Nonempty Î²\ninstâœ : SemilatticeSup Î²\nÎ³ : Type u_3\nF : Î² â†’ Î³ â†’ Î±\ns : Set Î³\nâŠ¢ Iff (UniformCauchySeqOn F Filter.atTop s) (âˆ€ (Îµ : Real), GT.gt Îµ 0 â†’ Exists fun N => âˆ€ (m : Î²), GE.ge m N â†’ âˆ€ (n : Î²), GE.ge n N â†’ âˆ€ (x : Î³), Membership.mem s x â†’ LT.lt (Dist.dist (F m x) (F n x)) Îµ)","decl":"/-- In a pseudometric space, uniform Cauchy sequences are characterized by the fact that,\neventually, the distance between all its elements is uniformly, arbitrarily small. -/\n-- Porting note: no attr @[nolint ge_or_gt]\ntheorem Metric.uniformCauchySeqOn_iff {Î³ : Type*} {F : Î² â†’ Î³ â†’ Î±} {s : Set Î³} :\n    UniformCauchySeqOn F atTop s â†” âˆ€ Îµ > (0 : â„),\n      âˆƒ N : Î², âˆ€ m â‰¥ N, âˆ€ n â‰¥ N, âˆ€ x âˆˆ s, dist (F m x) (F n x) < Îµ := by\n  constructor\n  Â· intro h Îµ hÎµ\n    let u := { a : Î± Ã— Î± | dist a.fst a.snd < Îµ }\n    have hu : u âˆˆ ğ“¤ Î± := Metric.mem_uniformity_dist.mpr âŸ¨Îµ, hÎµ, by simp [u]âŸ©\n    rw [â† Filter.eventually_atTop_prod_self' (p := fun m =>\n      âˆ€ x âˆˆ s, dist (F m.fst x) (F m.snd x) < Îµ)]\n    specialize h u hu\n    rw [prod_atTop_atTop_eq] at h\n    exact h.mono fun n h x hx => h x hx\n  Â· intro h u hu\n    rcases Metric.mem_uniformity_dist.mp hu with âŸ¨Îµ, hÎµ, habâŸ©\n    rcases h Îµ hÎµ with âŸ¨N, hNâŸ©\n    rw [prod_atTop_atTop_eq, eventually_atTop]\n    use (N, N)\n    intro b hb x hx\n    rcases hb with âŸ¨hbl, hbrâŸ©\n    exact hab (hN b.fst hbl.ge b.snd hbr.ge x hx)\n\n"}
{"name":"cauchySeq_of_le_tendsto_0'","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\nÎ² : Type v\ninstâœÂ² : PseudoMetricSpace Î±\ninstâœÂ¹ : Nonempty Î²\ninstâœ : SemilatticeSup Î²\ns : Î² â†’ Î±\nb : Î² â†’ Real\nh : âˆ€ (n m : Î²), LE.le n m â†’ LE.le (Dist.dist (s n) (s m)) (b n)\nhâ‚€ : Filter.Tendsto b Filter.atTop (nhds 0)\nâŠ¢ CauchySeq s","decl":"/-- If the distance between `s n` and `s m`, `n â‰¤ m` is bounded above by `b n`\nand `b` converges to zero, then `s` is a Cauchy sequence. -/\ntheorem cauchySeq_of_le_tendsto_0' {s : Î² â†’ Î±} (b : Î² â†’ â„)\n    (h : âˆ€ n m : Î², n â‰¤ m â†’ dist (s n) (s m) â‰¤ b n) (hâ‚€ : Tendsto b atTop (ğ“ 0)) : CauchySeq s :=\n  Metric.cauchySeq_iff'.2 fun Îµ Îµ0 => (hâ‚€.eventually (gt_mem_nhds Îµ0)).exists.imp fun N hN n hn =>\n    calc dist (s n) (s N) = dist (s N) (s n) := dist_comm _ _\n    _ â‰¤ b N := h _ _ hn\n    _ < Îµ := hN\n\n"}
{"name":"cauchySeq_of_le_tendsto_0","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\nÎ² : Type v\ninstâœÂ² : PseudoMetricSpace Î±\ninstâœÂ¹ : Nonempty Î²\ninstâœ : SemilatticeSup Î²\ns : Î² â†’ Î±\nb : Î² â†’ Real\nh : âˆ€ (n m N : Î²), LE.le N n â†’ LE.le N m â†’ LE.le (Dist.dist (s n) (s m)) (b N)\nhâ‚€ : Filter.Tendsto b Filter.atTop (nhds 0)\nâŠ¢ CauchySeq s","decl":"/-- If the distance between `s n` and `s m`, `n, m â‰¥ N` is bounded above by `b N`\nand `b` converges to zero, then `s` is a Cauchy sequence. -/\ntheorem cauchySeq_of_le_tendsto_0 {s : Î² â†’ Î±} (b : Î² â†’ â„)\n    (h : âˆ€ n m N : Î², N â‰¤ n â†’ N â‰¤ m â†’ dist (s n) (s m) â‰¤ b N) (hâ‚€ : Tendsto b atTop (ğ“ 0)) :\n    CauchySeq s :=\n  cauchySeq_of_le_tendsto_0' b (fun _n _m hnm => h _ _ _ le_rfl hnm) hâ‚€\n\n"}
{"name":"cauchySeq_bdd","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\ninstâœ : PseudoMetricSpace Î±\nu : Nat â†’ Î±\nhu : CauchySeq u\nâŠ¢ Exists fun R => And (GT.gt R 0) (âˆ€ (m n : Nat), LT.lt (Dist.dist (u m) (u n)) R)","decl":"/-- A Cauchy sequence on the natural numbers is bounded. -/\ntheorem cauchySeq_bdd {u : â„• â†’ Î±} (hu : CauchySeq u) : âˆƒ R > 0, âˆ€ m n, dist (u m) (u n) < R := by\n  rcases Metric.cauchySeq_iff'.1 hu 1 zero_lt_one with âŸ¨N, hNâŸ©\n  rsuffices âŸ¨R, R0, HâŸ© : âˆƒ R > 0, âˆ€ n, dist (u n) (u N) < R\n  Â· exact âŸ¨_, add_pos R0 R0, fun m n =>\n      lt_of_le_of_lt (dist_triangle_right _ _ _) (add_lt_add (H m) (H n))âŸ©\n  let R := Finset.sup (Finset.range N) fun n => nndist (u n) (u N)\n  refine âŸ¨â†‘R + 1, add_pos_of_nonneg_of_pos R.2 zero_lt_one, fun n => ?_âŸ©\n  rcases le_or_lt N n with h | h\n  Â· exact lt_of_lt_of_le (hN _ h) (le_add_of_nonneg_left R.2)\n  Â· have : _ â‰¤ R := Finset.le_sup (Finset.mem_range.2 h)\n    exact lt_of_le_of_lt this (lt_add_of_pos_right _ zero_lt_one)\n\n"}
{"name":"cauchySeq_iff_le_tendsto_0","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\ninstâœ : PseudoMetricSpace Î±\ns : Nat â†’ Î±\nâŠ¢ Iff (CauchySeq s) (Exists fun b => And (âˆ€ (n : Nat), LE.le 0 (b n)) (And (âˆ€ (n m N : Nat), LE.le N n â†’ LE.le N m â†’ LE.le (Dist.dist (s n) (s m)) (b N)) (Filter.Tendsto b Filter.atTop (nhds 0))))","decl":"/-- Yet another metric characterization of Cauchy sequences on integers. This one is often the\nmost efficient. -/\ntheorem cauchySeq_iff_le_tendsto_0 {s : â„• â†’ Î±} :\n    CauchySeq s â†”\n      âˆƒ b : â„• â†’ â„,\n        (âˆ€ n, 0 â‰¤ b n) âˆ§\n          (âˆ€ n m N : â„•, N â‰¤ n â†’ N â‰¤ m â†’ dist (s n) (s m) â‰¤ b N) âˆ§ Tendsto b atTop (ğ“ 0) :=\n  âŸ¨fun hs => by\n    /- `s` is a Cauchy sequence. The sequence `b` will be constructed by taking\n      the supremum of the distances between `s n` and `s m` for `n m â‰¥ N`.\n      First, we prove that all these distances are bounded, as otherwise the Sup\n      would not make sense. -/\n    let S N := (fun p : â„• Ã— â„• => dist (s p.1) (s p.2)) '' { p | p.1 â‰¥ N âˆ§ p.2 â‰¥ N }\n    have hS : âˆ€ N, âˆƒ x, âˆ€ y âˆˆ S N, y â‰¤ x := by\n      rcases cauchySeq_bdd hs with âŸ¨R, -, hRâŸ©\n      refine fun N => âŸ¨R, ?_âŸ©\n      rintro _ âŸ¨âŸ¨m, nâŸ©, _, rflâŸ©\n      exact le_of_lt (hR m n)\n    -- Prove that it bounds the distances of points in the Cauchy sequence\n    have ub : âˆ€ m n N, N â‰¤ m â†’ N â‰¤ n â†’ dist (s m) (s n) â‰¤ sSup (S N) := fun m n N hm hn =>\n      le_csSup (hS N) âŸ¨âŸ¨_, _âŸ©, âŸ¨hm, hnâŸ©, rflâŸ©\n    have S0m : âˆ€ n, (0 : â„) âˆˆ S n := fun n => âŸ¨âŸ¨n, nâŸ©, âŸ¨le_rfl, le_rflâŸ©, dist_self _âŸ©\n    have S0 := fun n => le_csSup (hS n) (S0m n)\n    -- Prove that it tends to `0`, by using the Cauchy property of `s`\n    refine âŸ¨fun N => sSup (S N), S0, ub, Metric.tendsto_atTop.2 fun Îµ Îµ0 => ?_âŸ©\n    refine (Metric.cauchySeq_iff.1 hs (Îµ / 2) (half_pos Îµ0)).imp fun N hN n hn => ?_\n    rw [Real.dist_0_eq_abs, abs_of_nonneg (S0 n)]\n    refine lt_of_le_of_lt (csSup_le âŸ¨_, S0m _âŸ© ?_) (half_lt_self Îµ0)\n    rintro _ âŸ¨âŸ¨m', n'âŸ©, âŸ¨hm', hn'âŸ©, rflâŸ©\n    exact le_of_lt (hN _ (le_trans hn hm') _ (le_trans hn hn')),\n   fun âŸ¨b, _, b_bound, b_limâŸ© => cauchySeq_of_le_tendsto_0 b b_bound b_limâŸ©\n\n"}
{"name":"Metric.exists_subseq_bounded_of_cauchySeq","module":"Mathlib.Topology.MetricSpace.Cauchy","initialProofState":"Î± : Type u\ninstâœ : PseudoMetricSpace Î±\nu : Nat â†’ Î±\nhu : CauchySeq u\nb : Nat â†’ Real\nhb : âˆ€ (n : Nat), LT.lt 0 (b n)\nâŠ¢ Exists fun f => And (StrictMono f) (âˆ€ (n m : Nat), GE.ge m (f n) â†’ LT.lt (Dist.dist (u m) (u (f n))) (b n))","decl":"lemma Metric.exists_subseq_bounded_of_cauchySeq (u : â„• â†’ Î±) (hu : CauchySeq u) (b : â„• â†’ â„)\n    (hb : âˆ€ n, 0 < b n) :\n    âˆƒ f : â„• â†’ â„•, StrictMono f âˆ§ âˆ€ n, âˆ€ m â‰¥ f n, dist (u m) (u (f n)) < b n := by\n  rw [cauchySeq_iff] at hu\n  have hu' : âˆ€ k, âˆ€á¶  (n : â„•) in atTop, âˆ€ m â‰¥ n, dist (u m) (u n) < b k := by\n    intro k\n    rw [eventually_atTop]\n    obtain âŸ¨N, hNâŸ© := hu (b k) (hb k)\n    exact âŸ¨N, fun m hm r hr => hN r (hm.trans hr) m hmâŸ©\n  exact Filter.extraction_forall_of_eventually hu'\n\n"}
