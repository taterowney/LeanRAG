{"name":"CFC.posPart_def","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\na : A\n⊢ Eq (PosPart.posPart a) (cfcₙ (fun x => PosPart.posPart x) a)","decl":"lemma posPart_def (a : A) : a⁺ = cfcₙ (·⁺ : ℝ → ℝ) a := rfl\n\n"}
{"name":"CFC.negPart_def","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\na : A\n⊢ Eq (NegPart.negPart a) (cfcₙ (fun x => NegPart.negPart x) a)","decl":"lemma negPart_def (a : A) : a⁻ = cfcₙ (·⁻ : ℝ → ℝ) a := rfl\n\n"}
{"name":"CFC.posPart_zero","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\n⊢ Eq (PosPart.posPart 0) 0","decl":"@[simp]\nlemma posPart_zero : (0 : A)⁺ = 0 := by simp [posPart_def]\n\n"}
{"name":"CFC.negPart_zero","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\n⊢ Eq (NegPart.negPart 0) 0","decl":"@[simp]\nlemma negPart_zero : (0 : A)⁻ = 0 := by simp [negPart_def]\n\n"}
{"name":"CFC.posPart_mul_negPart","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\na : A\n⊢ Eq (HMul.hMul (PosPart.posPart a) (NegPart.negPart a)) 0","decl":"@[simp]\nlemma posPart_mul_negPart (a : A) : a⁺ * a⁻ = 0 := by\n  rw [posPart_def, negPart_def]\n  by_cases ha : IsSelfAdjoint a\n  · rw [← cfcₙ_mul _ _, ← cfcₙ_zero ℝ a]\n    refine cfcₙ_congr (fun x _ ↦ ?_)\n    simp only [_root_.posPart_def, _root_.negPart_def]\n    simpa using le_total x 0\n  · simp [cfcₙ_apply_of_not_predicate a ha]\n\n"}
{"name":"CFC.negPart_mul_posPart","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\na : A\n⊢ Eq (HMul.hMul (NegPart.negPart a) (PosPart.posPart a)) 0","decl":"@[simp]\nlemma negPart_mul_posPart (a : A) : a⁻ * a⁺ = 0 := by\n  rw [posPart_def, negPart_def]\n  by_cases ha : IsSelfAdjoint a\n  · rw [← cfcₙ_mul _ _, ← cfcₙ_zero ℝ a]\n    refine cfcₙ_congr (fun x _ ↦ ?_)\n    simp only [_root_.posPart_def, _root_.negPart_def]\n    simpa using le_total 0 x\n  · simp [cfcₙ_apply_of_not_predicate a ha]\n\n"}
{"name":"CFC.posPart_sub_negPart","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : Module Real A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : IsScalarTower Real A A\ninst✝² : StarRing A\ninst✝¹ : TopologicalSpace A\ninst✝ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\na : A\nha : autoParam (IsSelfAdjoint a) _auto✝\n⊢ Eq (HSub.hSub (PosPart.posPart a) (NegPart.negPart a)) a","decl":"lemma posPart_sub_negPart (a : A) (ha : IsSelfAdjoint a := by cfc_tac) : a⁺ - a⁻ = a := by\n  rw [posPart_def, negPart_def]\n  rw [← cfcₙ_sub _ _]\n  conv_rhs => rw [← cfcₙ_id ℝ a]\n  congr! 2 with\n  exact _root_.posPart_sub_negPart _\n\n"}
{"name":"CFC.posPart_neg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁷ : NonUnitalRing A\ninst✝⁶ : Module Real A\ninst✝⁵ : SMulCommClass Real A A\ninst✝⁴ : IsScalarTower Real A A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\na : A\n⊢ Eq (PosPart.posPart (Neg.neg a)) (NegPart.negPart a)","decl":"@[simp]\nlemma posPart_neg (a : A) : (-a)⁺ = a⁻ := by\n  by_cases ha : IsSelfAdjoint a\n  · rw [posPart_def, negPart_def, ← cfcₙ_comp_neg _ _]\n    congr! 2\n  · have ha' : ¬ IsSelfAdjoint (-a) := fun h ↦ ha (by simpa using h.neg)\n    rw [posPart_def, negPart_def, cfcₙ_apply_of_not_predicate a ha,\n      cfcₙ_apply_of_not_predicate _ ha']\n\n"}
{"name":"CFC.negPart_neg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁷ : NonUnitalRing A\ninst✝⁶ : Module Real A\ninst✝⁵ : SMulCommClass Real A A\ninst✝⁴ : IsScalarTower Real A A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\na : A\n⊢ Eq (NegPart.negPart (Neg.neg a)) (PosPart.posPart a)","decl":"@[simp]\nlemma negPart_neg (a : A) : (-a)⁻ = a⁺ := by\n  rw [← eq_comm, ← sub_eq_zero, ← posPart_neg, neg_neg, sub_self]\n\n"}
{"name":"CFC.posPart_smul","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : NNReal\na : A\n⊢ Eq (PosPart.posPart (HSMul.hSMul r a)) (HSMul.hSMul r (PosPart.posPart a))","decl":"@[simp]\nlemma posPart_smul {r : ℝ≥0} {a : A} : (r • a)⁺ = r • a⁺ := by\n  by_cases ha : IsSelfAdjoint a\n  · simp only [CFC.posPart_def, NNReal.smul_def]\n    rw [← cfcₙ_comp_smul .., ← cfcₙ_smul ..]\n    refine cfcₙ_congr fun x hx ↦ ?_\n    simp [_root_.posPart_def, mul_max_of_nonneg]\n  · obtain (rfl | hr) := eq_or_ne r 0\n    · simp\n    · have := (not_iff_not.mpr <| (IsSelfAdjoint.all r).smul_iff hr.isUnit (x := a)) |>.mpr ha\n      simp [CFC.posPart_def, cfcₙ_apply_of_not_predicate a ha,\n        cfcₙ_apply_of_not_predicate _ this]\n\n"}
{"name":"CFC.negPart_smul","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : NNReal\na : A\n⊢ Eq (NegPart.negPart (HSMul.hSMul r a)) (HSMul.hSMul r (NegPart.negPart a))","decl":"@[simp]\nlemma negPart_smul {r : ℝ≥0} {a : A} : (r • a)⁻ = r • a⁻ := by\n  simpa using posPart_smul (r := r) (a := -a)\n\n"}
{"name":"CFC.posPart_smul_of_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : Real\nhr : LE.le 0 r\na : A\n⊢ Eq (PosPart.posPart (HSMul.hSMul r a)) (HSMul.hSMul r (PosPart.posPart a))","decl":"lemma posPart_smul_of_nonneg {r : ℝ} (hr : 0 ≤ r) {a : A} : (r • a)⁺ = r • a⁺ :=\n  posPart_smul (r := ⟨r, hr⟩)\n\n"}
{"name":"CFC.posPart_smul_of_nonpos","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : Real\nhr : LE.le r 0\na : A\n⊢ Eq (PosPart.posPart (HSMul.hSMul r a)) (HSMul.hSMul (Neg.neg r) (NegPart.negPart a))","decl":"lemma posPart_smul_of_nonpos {r : ℝ} (hr : r ≤ 0) {a : A} : (r • a)⁺ = -r • a⁻ := by\n  nth_rw 1 [← neg_neg r]\n  rw [neg_smul, ← smul_neg, posPart_smul_of_nonneg (neg_nonneg.mpr hr), posPart_neg]\n\n"}
{"name":"CFC.negPart_smul_of_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : Real\nhr : LE.le 0 r\na : A\n⊢ Eq (NegPart.negPart (HSMul.hSMul r a)) (HSMul.hSMul r (NegPart.negPart a))","decl":"lemma negPart_smul_of_nonneg {r : ℝ} (hr : 0 ≤ r) {a : A} : (r • a)⁻ = r • a⁻ := by\n  conv_lhs => rw [← neg_neg r, neg_smul, negPart_neg, posPart_smul_of_nonpos (by simpa), neg_neg]\n\n"}
{"name":"CFC.negPart_smul_of_nonpos","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : T2Space A\ninst✝ : StarModule Real A\nr : Real\nhr : LE.le r 0\na : A\n⊢ Eq (NegPart.negPart (HSMul.hSMul r a)) (HSMul.hSMul (Neg.neg r) (PosPart.posPart a))","decl":"lemma negPart_smul_of_nonpos {r : ℝ} (hr : r ≤ 0) {a : A} : (r • a)⁻ = -r • a⁺ := by\n  conv_lhs => rw [← neg_neg r, neg_smul, negPart_neg, posPart_smul_of_nonneg (by simpa)]\n\n"}
{"name":"CFC.posPart_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na : A\n⊢ LE.le 0 (PosPart.posPart a)","decl":"@[aesop norm apply (rule_sets := [CStarAlgebra])]\nlemma posPart_nonneg (a : A) :\n    0 ≤ a⁺ :=\n  cfcₙ_nonneg (fun x _ ↦ by positivity)\n\n"}
{"name":"CFC.negPart_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na : A\n⊢ LE.le 0 (NegPart.negPart a)","decl":"@[aesop norm apply (rule_sets := [CStarAlgebra])]\nlemma negPart_nonneg (a : A) :\n    0 ≤ a⁻ :=\n  cfcₙ_nonneg (fun x _ ↦ by positivity)\n\n"}
{"name":"CFC.posPart_eq_of_eq_sub_negPart","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na b : A\nhab : Eq a (HSub.hSub b (NegPart.negPart a))\nhb : autoParam (LE.le 0 b) _auto✝\n⊢ Eq (PosPart.posPart a) b","decl":"lemma posPart_eq_of_eq_sub_negPart {a b : A} (hab : a = b - a⁻) (hb : 0 ≤ b := by cfc_tac) :\n    a⁺ = b := by\n  have ha := hab.symm ▸ hb.isSelfAdjoint.sub (negPart_nonneg a).isSelfAdjoint\n  nth_rw 1 [← posPart_sub_negPart a] at hab\n  simpa using hab\n\n"}
{"name":"CFC.negPart_eq_of_eq_PosPart_sub","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na c : A\nhac : Eq a (HSub.hSub (PosPart.posPart a) c)\nhc : autoParam (LE.le 0 c) _auto✝\n⊢ Eq (NegPart.negPart a) c","decl":"lemma negPart_eq_of_eq_PosPart_sub {a c : A} (hac : a = a⁺ - c) (hc : 0 ≤ c := by cfc_tac) :\n    a⁻ = c := by\n  have ha := hac.symm ▸ (posPart_nonneg a).isSelfAdjoint.sub hc.isSelfAdjoint\n  nth_rw 1 [← posPart_sub_negPart a] at hac\n  simpa using hac\n\n"}
{"name":"CFC.le_posPart","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na : A\nha : autoParam (IsSelfAdjoint a) _auto✝\n⊢ LE.le a (PosPart.posPart a)","decl":"lemma le_posPart {a : A} (ha : IsSelfAdjoint a := by cfc_tac) : a ≤ a⁺ := by\n  simpa [posPart_sub_negPart a] using sub_le_self a⁺ (negPart_nonneg a)\n\n"}
{"name":"CFC.neg_negPart_le","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalRing A\ninst✝⁷ : Module Real A\ninst✝⁶ : SMulCommClass Real A A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : StarRing A\ninst✝³ : TopologicalSpace A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\na : A\nha : autoParam (IsSelfAdjoint a) _auto✝\n⊢ LE.le (Neg.neg (NegPart.negPart a)) a","decl":"lemma neg_negPart_le {a : A} (ha : IsSelfAdjoint a := by cfc_tac) : -a⁻ ≤ a := by\n  simpa only [posPart_sub_negPart a, ← sub_eq_add_neg]\n    using le_add_of_nonneg_left (a := -a⁻) (posPart_nonneg a)\n\n"}
{"name":"CFC.posPart_eq_self","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\n⊢ Iff (Eq (PosPart.posPart a) a) (LE.le 0 a)","decl":"lemma posPart_eq_self (a : A) : a⁺ = a ↔ 0 ≤ a := by\n  refine ⟨fun ha ↦ ha ▸ posPart_nonneg a, fun ha ↦ ?_⟩\n  conv_rhs => rw [← cfcₙ_id ℝ a]\n  rw [posPart_def]\n  refine cfcₙ_congr (fun x hx ↦ ?_)\n  simpa [_root_.posPart_def] using quasispectrum_nonneg_of_nonneg a ha x hx\n\n"}
{"name":"CFC.eq_posPart_iff","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\n⊢ Iff (Eq a (PosPart.posPart a)) (LE.le 0 a)","decl":"@[deprecated posPart_eq_self (since := \"2024-11-18\")]\nlemma eq_posPart_iff (a : A) : a = a⁺ ↔ 0 ≤ a := by\n  rw [eq_comm, posPart_eq_self]\n\n"}
{"name":"CFC.negPart_eq_zero_iff","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\nha : autoParam (IsSelfAdjoint a) _auto✝\n⊢ Iff (Eq (NegPart.negPart a) 0) (LE.le 0 a)","decl":"lemma negPart_eq_zero_iff (a : A) (ha : IsSelfAdjoint a := by cfc_tac) :\n    a⁻ = 0 ↔ 0 ≤ a := by\n  rw [← posPart_eq_self, eq_comm (b := a)]\n  nth_rw 2 [← posPart_sub_negPart a]\n  simp\n\n"}
{"name":"CFC.negPart_eq_neg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\n⊢ Iff (Eq (NegPart.negPart a) (Neg.neg a)) (LE.le a 0)","decl":"lemma negPart_eq_neg (a : A) : a⁻ = -a ↔ a ≤ 0 := by\n  rw [← neg_inj, neg_neg, eq_comm]\n  refine ⟨fun ha ↦ by rw [ha, neg_nonpos]; exact negPart_nonneg a, fun ha ↦ ?_⟩\n  rw [← neg_nonneg] at ha\n  rw [negPart_def, ← cfcₙ_neg]\n  have _ : IsSelfAdjoint a := neg_neg a ▸ (IsSelfAdjoint.neg <| .of_nonneg ha)\n  conv_lhs => rw [← cfcₙ_id ℝ a]\n  refine cfcₙ_congr fun x hx ↦ ?_\n  rw [Unitization.quasispectrum_eq_spectrum_inr ℝ, ← neg_neg x, ← Set.mem_neg,\n    spectrum.neg_eq, ← Unitization.inr_neg, ← Unitization.quasispectrum_eq_spectrum_inr ℝ] at hx\n  rw [← neg_eq_iff_eq_neg, eq_comm]\n  simpa using quasispectrum_nonneg_of_nonneg _ ha _ hx\n\n"}
{"name":"CFC.eq_negPart_iff","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\n⊢ Iff (Eq a (Neg.neg (NegPart.negPart a))) (LE.le a 0)","decl":"@[deprecated negPart_eq_neg (since := \"2024-11-18\")]\nlemma eq_negPart_iff (a : A) : a = -a⁻ ↔ a ≤ 0 := by\n  rw [← neg_inj, neg_neg, eq_comm, negPart_eq_neg]\n\n"}
{"name":"CFC.posPart_eq_zero_iff","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Real A\ninst✝⁷ : SMulCommClass Real A A\ninst✝⁶ : IsScalarTower Real A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝² : PartialOrder A\ninst✝¹ : StarOrderedRing A\ninst✝ : NonnegSpectrumClass Real A\na : A\nha : autoParam (IsSelfAdjoint a) _auto✝\n⊢ Iff (Eq (PosPart.posPart a) 0) (LE.le a 0)","decl":"lemma posPart_eq_zero_iff (a : A) (ha : IsSelfAdjoint a := by cfc_tac) :\n    a⁺ = 0 ↔ a ≤ 0 := by\n  rw [← negPart_eq_neg, eq_comm (b := -a)]\n  nth_rw 2 [← posPart_sub_negPart a]\n  simp\n\n"}
{"name":"CFC.posPart_negPart_unique","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝¹¹ : NonUnitalRing A\ninst✝¹⁰ : Module Real A\ninst✝⁹ : SMulCommClass Real A A\ninst✝⁸ : IsScalarTower Real A A\ninst✝⁷ : StarRing A\ninst✝⁶ : TopologicalSpace A\ninst✝⁵ : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝⁴ : PartialOrder A\ninst✝³ : StarOrderedRing A\ninst✝² : NonnegSpectrumClass Real A\ninst✝¹ : TopologicalRing A\ninst✝ : T2Space A\na b c : A\nhabc : Eq a (HSub.hSub b c)\nhbc : Eq (HMul.hMul b c) 0\nhb : autoParam (LE.le 0 b) _auto✝\nhc : autoParam (LE.le 0 c) _auto✝\n⊢ And (Eq (PosPart.posPart a) b) (Eq (NegPart.negPart a) c)","decl":"open NonUnitalContinuousFunctionalCalculus in\n/-- The positive and negative parts of a selfadjoint element `a` are unique. That is, if\n`a = b - c` is the difference of nonnegative elements whose product is zero, then these are\nprecisely `a⁺` and `a⁻`. -/\nlemma posPart_negPart_unique {a b c : A} (habc : a = b - c) (hbc : b * c = 0)\n    (hb : 0 ≤ b := by cfc_tac) (hc : 0 ≤ c := by cfc_tac) :\n    a⁺ = b ∧ a⁻ = c := by\n  /- The key idea is to show that `cfcₙ f a = cfcₙ f b + cfcₙ f (-c)` for all real-valued `f`\n  continuous on the union of the spectra of `a`, `b`, and `-c`. Then apply this to `f = (·⁺)`.\n  The equality holds because both sides constitute star homomorphisms which agree on `f = id` since\n  `a = b - c`. -/\n  /- `a`, `b`, `-c` are selfadjoint. -/\n  have hb' : IsSelfAdjoint b := .of_nonneg hb\n  have hc' : IsSelfAdjoint (-c) := .neg <| .of_nonneg hc\n  have ha : IsSelfAdjoint a := habc ▸ hb'.sub <| .of_nonneg hc\n  /- It suffices to show `b = a⁺` since `a⁺ - a⁻ = a = b - c` -/\n  rw [and_iff_left_of_imp ?of_b_eq]\n  case of_b_eq =>\n    rintro rfl\n    exact negPart_eq_of_eq_PosPart_sub habc hc\n  /- `s := σₙ ℝ a ∪ σₙ ℝ b ∪ σₙ ℝ (-c)` is compact and each of these sets are subsets of `s`.\n  Moreover, `0 ∈ s`. -/\n  let s := σₙ ℝ a ∪ σₙ ℝ b ∪ σₙ ℝ (-c)\n  have hs : CompactSpace s := by\n    refine isCompact_iff_compactSpace.mp <| (IsCompact.union ?_ ?_).union ?_\n    all_goals exact isCompact_quasispectrum _\n  obtain ⟨has, hbs, hcs⟩ : σₙ ℝ a ⊆ s ∧ σₙ ℝ b ⊆ s ∧ σₙ ℝ (-c) ⊆ s := by\n    refine ⟨?_, ?_, ?_⟩; all_goals intro; aesop\n  let zero : Zero s := ⟨0, by aesop⟩\n  have s0 : (0 : s) = (0 : ℝ) := rfl\n  /- The continuous functional calculi for functions `f g : C(s, ℝ)₀` applied to `b` and `(-c)`\n  are orthogonal (i.e., the product is always zero). -/\n  have mul₁ (f g : C(s, ℝ)₀) :\n      (cfcₙHomSuperset hb' hbs f) * (cfcₙHomSuperset hc' hcs g) = 0 := by\n    refine f.nonUnitalStarAlgHom_apply_mul_eq_zero s0 _ _ ?id ?star_id\n      (cfcₙHomSuperset_continuous hb' hbs)\n    case' star_id => rw [star_trivial]\n    all_goals\n      refine g.mul_nonUnitalStarAlgHom_apply_eq_zero s0 _ _ ?_ ?_\n        (cfcₙHomSuperset_continuous hc' hcs)\n      all_goals simp only [zero, star_trivial, cfcₙHomSuperset_id' hb' hbs,\n        cfcₙHomSuperset_id' hc' hcs, mul_neg, hbc, neg_zero]\n  have mul₂ (f g : C(s, ℝ)₀) : (cfcₙHomSuperset hc' hcs f) * (cfcₙHomSuperset hb' hbs g) = 0 := by\n    simpa only [star_mul, star_zero, ← map_star, star_trivial] using congr(star $(mul₁ g f))\n  /- `fun f ↦ cfcₙ f b + cfcₙ f (-c)` defines a star homomorphism `ψ : C(s, ℝ)₀ →⋆ₙₐ[ℝ] A` which\n  agrees with the star homomorphism `cfcₙ · a : C(s, ℝ)₀ →⋆ₙₐ[ℝ] A` since\n  `cfcₙ id a = a = b - c = cfcₙ id b + cfcₙ id (-c)`. -/\n  let ψ : C(s, ℝ)₀ →⋆ₙₐ[ℝ] A :=\n    { (cfcₙHomSuperset hb' hbs : C(s, ℝ)₀ →ₗ[ℝ] A) + (cfcₙHomSuperset hc' hcs : C(s, ℝ)₀ →ₗ[ℝ] A)\n        with\n      toFun := cfcₙHomSuperset hb' hbs + cfcₙHomSuperset hc' hcs\n      map_zero' := by simp [-cfcₙHomSuperset_apply]\n      map_mul' := fun f g ↦ by\n        simp only [zero, Pi.add_apply, map_mul, mul_add, add_mul, mul₂, add_zero, mul₁,\n          zero_add]\n      map_star' := fun f ↦ by simp [← map_star] }\n  have key : (cfcₙHomSuperset ha has) = ψ :=\n    have : ContinuousMapZero.UniqueHom ℝ A := inferInstance\n    ContinuousMapZero.UniqueHom.eq_of_continuous_of_map_id s rfl\n    (cfcₙHomSuperset ha has) ψ (cfcₙHomSuperset_continuous ha has)\n    ((cfcₙHomSuperset_continuous hb' hbs).add (cfcₙHomSuperset_continuous hc' hcs))\n    (by simpa [zero, ψ, -cfcₙHomSuperset_apply, cfcₙHomSuperset_id, sub_eq_add_neg] using habc)\n  /- Applying the equality of star homomorphisms to the function `(·⁺ : ℝ → ℝ)` we find that\n  `b = cfcₙ id b + cfcₙ 0 (-c) = cfcₙ (·⁺) b - cfcₙ (·⁺) (-c) = cfcₙ (·⁺) a = a⁺`, where the\n  second equality follows because these functions are equal on the spectra of `b` and `-c`,\n  respectively, since `0 ≤ b` and `-c ≤ 0`. -/\n  let f : C(s, ℝ)₀ := ⟨⟨(·⁺), by fun_prop⟩, by simp [s0]⟩\n  replace key := congr($key f)\n  simp only [cfcₙHomSuperset_apply, NonUnitalStarAlgHom.coe_mk', NonUnitalAlgHom.coe_mk, ψ,\n    Pi.add_apply, cfcₙHom_eq_cfcₙ_extend (·⁺)] at key\n  symm\n  calc\n    b = cfcₙ (id : ℝ → ℝ) b + cfcₙ (0 : ℝ → ℝ) (-c) := by simp [cfcₙ_id ℝ b]\n    _ = _ := by\n      congr! 1\n      all_goals\n        refine cfcₙ_congr fun x hx ↦ Eq.symm ?_\n        lift x to σₙ ℝ _ using hx\n        simp only [zero, Subtype.val_injective.extend_apply, comp_apply, coe_mk,\n          ContinuousMap.coe_mk, Subtype.map_coe, id_eq, _root_.posPart_eq_self, f, Pi.zero_apply,\n          posPart_eq_zero]\n      · exact quasispectrum_nonneg_of_nonneg b hb x.val x.property\n      · obtain ⟨x, hx⟩ := x\n        simp only [← neg_nonneg]\n        rw [Unitization.quasispectrum_eq_spectrum_inr ℝ (-c), Unitization.inr_neg,\n          ← spectrum.neg_eq, Set.mem_neg, ← Unitization.quasispectrum_eq_spectrum_inr ℝ c]\n          at hx\n        exact quasispectrum_nonneg_of_nonneg c hc _ hx\n    _ = _ := key.symm\n    _ = a⁺ := by\n      refine cfcₙ_congr fun x hx ↦ ?_\n      lift x to σₙ ℝ a using hx\n      simp [zero, Subtype.val_injective.extend_apply, f]\n\n"}
{"name":"CFC.posPart_one","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\n⊢ Eq (PosPart.posPart 1) 1","decl":"@[simp]\nlemma posPart_one : (1 : A)⁺ = 1 := by\n  rw [CFC.posPart_def, cfcₙ_eq_cfc]\n  simp\n\n"}
{"name":"CFC.negPart_one","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\n⊢ Eq (NegPart.negPart 1) 0","decl":"@[simp]\nlemma negPart_one : (1 : A)⁻ = 0 := by\n  rw [CFC.negPart_def, cfcₙ_eq_cfc]\n  simp\n\n"}
{"name":"CFC.posPart_algebraMap","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\nr : Real\n⊢ Eq (PosPart.posPart ((algebraMap Real A) r)) ((algebraMap Real A) (PosPart.posPart r))","decl":"@[simp]\nlemma posPart_algebraMap (r : ℝ) : (algebraMap ℝ A r)⁺ = algebraMap ℝ A r⁺ := by\n  rw [CFC.posPart_def, cfcₙ_eq_cfc]\n  simp\n\n"}
{"name":"CFC.negPart_algebraMap","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\nr : Real\n⊢ Eq (NegPart.negPart ((algebraMap Real A) r)) ((algebraMap Real A) (NegPart.negPart r))","decl":"@[simp]\nlemma negPart_algebraMap (r : ℝ) : (algebraMap ℝ A r)⁻ = algebraMap ℝ A r⁻ := by\n  rw [CFC.negPart_def, cfcₙ_eq_cfc]\n  simp\n\n"}
{"name":"CFC.posPart_algebraMap_nnreal","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\nr : NNReal\n⊢ Eq (PosPart.posPart ((algebraMap NNReal A) r)) ((algebraMap NNReal A) r)","decl":"open NNReal in\n@[simp]\nlemma posPart_algebraMap_nnreal (r : ℝ≥0) : (algebraMap ℝ≥0 A r)⁺ = algebraMap ℝ≥0 A r := by\n  rw [CFC.posPart_def, cfcₙ_eq_cfc, IsScalarTower.algebraMap_apply ℝ≥0 ℝ A]\n  simp\n\n"}
{"name":"CFC.posPart_natCast","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁵ : Ring A\ninst✝⁴ : Algebra Real A\ninst✝³ : StarRing A\ninst✝² : TopologicalSpace A\ninst✝¹ : ContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝ : T2Space A\nn : Nat\n⊢ Eq (PosPart.posPart ↑n) ↑n","decl":"open NNReal in\n@[simp]\nlemma posPart_natCast (n : ℕ) : (n : A)⁺ = n := by\n  rw [← map_natCast (algebraMap ℝ≥0 A), posPart_algebraMap_nnreal]\n\n"}
{"name":"CStarAlgebra.linear_combination_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Complex A\ninst✝⁷ : SMulCommClass Complex A A\ninst✝⁶ : IsScalarTower Complex A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : StarModule Complex A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\nx : A\n⊢ Eq (HAdd.hAdd (HSub.hSub (PosPart.posPart ↑(realPart x)) (NegPart.negPart ↑(realPart x))) (HSub.hSub (HSMul.hSMul Complex.I (PosPart.posPart ↑(imaginaryPart x))) (HSMul.hSMul Complex.I (NegPart.negPart ↑(imaginaryPart x))))) x","decl":"lemma CStarAlgebra.linear_combination_nonneg (x : A) :\n    ((ℜ x : A)⁺ - (ℜ x : A)⁻) + (I • (ℑ x : A)⁺ - I • (ℑ x : A)⁻) = x := by\n  rw [CFC.posPart_sub_negPart _ (ℜ x).2, ← smul_sub, CFC.posPart_sub_negPart _ (ℑ x).2,\n    realPart_add_I_smul_imaginaryPart x]\n\n"}
{"name":"CStarAlgebra.span_nonneg","module":"Mathlib.Analysis.SpecialFunctions.ContinuousFunctionalCalculus.PosPart","initialProofState":"A : Type u_1\ninst✝⁹ : NonUnitalRing A\ninst✝⁸ : Module Complex A\ninst✝⁷ : SMulCommClass Complex A A\ninst✝⁶ : IsScalarTower Complex A A\ninst✝⁵ : StarRing A\ninst✝⁴ : TopologicalSpace A\ninst✝³ : StarModule Complex A\ninst✝² : NonUnitalContinuousFunctionalCalculus Real IsSelfAdjoint\ninst✝¹ : PartialOrder A\ninst✝ : StarOrderedRing A\n⊢ Eq (Submodule.span Complex (setOf fun a => LE.le 0 a)) Top.top","decl":"/-- A C⋆-algebra is spanned by its nonnegative elements. -/\nlemma CStarAlgebra.span_nonneg : Submodule.span ℂ {a : A | 0 ≤ a} = ⊤ := by\n  refine eq_top_iff.mpr fun x _ => ?_\n  rw [← CStarAlgebra.linear_combination_nonneg x]\n  apply_rules [sub_mem, Submodule.smul_mem, add_mem]\n  all_goals\n    refine subset_span ?_\n    first | apply CFC.negPart_nonneg | apply CFC.posPart_nonneg\n\n"}
