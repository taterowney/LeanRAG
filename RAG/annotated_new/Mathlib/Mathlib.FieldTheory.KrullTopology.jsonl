{"name":"IntermediateField.map_id","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nE : IntermediateField K L\nâŠ¢ Eq (IntermediateField.map (AlgHom.id K L) E) E","decl":"/-- Mapping intermediate fields along the identity does not change them -/\ntheorem IntermediateField.map_id {K L : Type*} [Field K] [Field L] [Algebra K L]\n    (E : IntermediateField K L) : E.map (AlgHom.id K L) = E :=\n  SetLike.coe_injective <| Set.image_id _\n\n"}
{"name":"im_finiteDimensional","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\nE : IntermediateField K L\nÏƒ : AlgEquiv K L L\ninstâœ : FiniteDimensional K (Subtype fun x => Membership.mem E x)\nâŠ¢ FiniteDimensional K (Subtype fun x => Membership.mem (IntermediateField.map (â†‘Ïƒ) E) x)","decl":"/-- Mapping a finite dimensional intermediate field along an algebra equivalence gives\na finite-dimensional intermediate field. -/\ninstance im_finiteDimensional {K L : Type*} [Field K] [Field L] [Algebra K L]\n    {E : IntermediateField K L} (Ïƒ : L â‰ƒâ‚[K] L) [FiniteDimensional K E] :\n    FiniteDimensional K (E.map Ïƒ.toAlgHom) :=\n  LinearEquiv.finiteDimensional (IntermediateField.intermediateFieldMap Ïƒ E).toLinearEquiv\n\n"}
{"name":"IntermediateField.finiteDimensional_bot","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ FiniteDimensional K (Subtype fun x => Membership.mem Bot.bot x)","decl":"/-- For a field extension `L/K`, the intermediate field `K` is finite-dimensional over `K` -/\ntheorem IntermediateField.finiteDimensional_bot (K L : Type*) [Field K] [Field L] [Algebra K L] :\n    FiniteDimensional K (âŠ¥ : IntermediateField K L) :=\n  .of_rank_eq_one IntermediateField.rank_bot\n\n"}
{"name":"IntermediateField.fixingSubgroup.bot","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ Eq Bot.bot.fixingSubgroup Top.top","decl":"/-- This lemma says that `Gal(L/K) = L â‰ƒâ‚[K] L` -/\ntheorem IntermediateField.fixingSubgroup.bot {K L : Type*} [Field K] [Field L] [Algebra K L] :\n    IntermediateField.fixingSubgroup (âŠ¥ : IntermediateField K L) = âŠ¤ := by\n  ext f\n  refine âŸ¨fun _ => Subgroup.mem_top _, fun _ => ?_âŸ©\n  rintro âŸ¨x, hx : x âˆˆ (âŠ¥ : IntermediateField K L)âŸ©\n  rw [IntermediateField.mem_bot] at hx\n  rcases hx with âŸ¨y, rflâŸ©\n  exact f.commutes y\n\n"}
{"name":"top_fixedByFinite","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ Membership.mem (fixedByFinite K L) Top.top","decl":"/-- If `L/K` is a field extension, then we have `Gal(L/K) âˆˆ fixedByFinite K L` -/\ntheorem top_fixedByFinite {K L : Type*} [Field K] [Field L] [Algebra K L] :\n    âŠ¤ âˆˆ fixedByFinite K L :=\n  âŸ¨âŠ¥, IntermediateField.finiteDimensional_bot K L, IntermediateField.fixingSubgroup.botâŸ©\n\n"}
{"name":"finiteDimensional_sup","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nE1 E2 : IntermediateField K L\nxâœÂ¹ : FiniteDimensional K (Subtype fun x => Membership.mem E1 x)\nxâœ : FiniteDimensional K (Subtype fun x => Membership.mem E2 x)\nâŠ¢ FiniteDimensional K (Subtype fun x => Membership.mem (Max.max E1 E2) x)","decl":"/-- If `E1` and `E2` are finite-dimensional intermediate fields, then so is their compositum.\nThis rephrases a result already in mathlib so that it is compatible with our type classes -/\ntheorem finiteDimensional_sup {K L : Type*} [Field K] [Field L] [Algebra K L]\n    (E1 E2 : IntermediateField K L) (_ : FiniteDimensional K E1) (_ : FiniteDimensional K E2) :\n    FiniteDimensional K (â†¥(E1 âŠ” E2)) :=\n  IntermediateField.finiteDimensional_sup E1 E2\n\n"}
{"name":"IntermediateField.mem_fixingSubgroup_iff","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nE : IntermediateField K L\nÏƒ : AlgEquiv K L L\nâŠ¢ Iff (Membership.mem E.fixingSubgroup Ïƒ) (âˆ€ (x : L), Membership.mem E x â†’ Eq (Ïƒ x) x)","decl":"/-- An element of `L â‰ƒâ‚[K] L` is in `Gal(L/E)` if and only if it fixes every element of `E`-/\ntheorem IntermediateField.mem_fixingSubgroup_iff {K L : Type*} [Field K] [Field L] [Algebra K L]\n    (E : IntermediateField K L) (Ïƒ : L â‰ƒâ‚[K] L) : Ïƒ âˆˆ E.fixingSubgroup â†” âˆ€ x : L, x âˆˆ E â†’ Ïƒ x = x :=\n  âŸ¨fun hÏƒ x hx => hÏƒ âŸ¨x, hxâŸ©, fun h âŸ¨x, hxâŸ© => h x hxâŸ©\n\n"}
{"name":"IntermediateField.fixingSubgroup.antimono","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nE1 E2 : IntermediateField K L\nh12 : LE.le E1 E2\nâŠ¢ LE.le E2.fixingSubgroup E1.fixingSubgroup","decl":"/-- The map `E â†¦ Gal(L/E)` is inclusion-reversing -/\ntheorem IntermediateField.fixingSubgroup.antimono {K L : Type*} [Field K] [Field L] [Algebra K L]\n    {E1 E2 : IntermediateField K L} (h12 : E1 â‰¤ E2) : E2.fixingSubgroup â‰¤ E1.fixingSubgroup := by\n  rintro Ïƒ hÏƒ âŸ¨x, hxâŸ©\n  exact hÏƒ âŸ¨x, h12 hxâŸ©\n\n"}
{"name":"mem_galBasis_iff","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nU : Set (AlgEquiv K L L)\nâŠ¢ Iff (Membership.mem (galBasis K L) U) (Membership.mem (Set.image (fun g => g.carrier) (fixedByFinite K L)) U)","decl":"/-- A subset of `L â‰ƒâ‚[K] L` is a member of `galBasis K L` if and only if it is the underlying set\nof `Gal(L/E)` for some finite subextension `E/K`-/\ntheorem mem_galBasis_iff (K L : Type*) [Field K] [Field L] [Algebra K L] (U : Set (L â‰ƒâ‚[K] L)) :\n    U âˆˆ galBasis K L â†” U âˆˆ (fun g => g.carrier) '' fixedByFinite K L :=\n  Iff.rfl\n\n"}
{"name":"instTopologicalGroupAlgEquiv","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ TopologicalGroup (AlgEquiv K L L)","decl":"/-- For a field extension `L/K`, the Krull topology on `L â‰ƒâ‚[K] L` makes it a topological group. -/\ninstance (K L : Type*) [Field K] [Field L] [Algebra K L] : TopologicalGroup (L â‰ƒâ‚[K] L) :=\n  GroupFilterBasis.isTopologicalGroup (galGroupBasis K L)\n\n"}
{"name":"krullTopology_mem_nhds_one","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\ns : Set (AlgEquiv K L L)\nâŠ¢ Iff (Membership.mem (nhds 1) s) (Exists fun E => And (FiniteDimensional K (Subtype fun x => Membership.mem E x)) (HasSubset.Subset (â†‘E.fixingSubgroup) s))","decl":"open scoped Topology in\nlemma krullTopology_mem_nhds_one (K L : Type*) [Field K] [Field L] [Algebra K L]\n    (s : Set (L â‰ƒâ‚[K] L)) : s âˆˆ ğ“ 1 â†” âˆƒ E : IntermediateField K L,\n    FiniteDimensional K E âˆ§ (E.fixingSubgroup : Set (L â‰ƒâ‚[K] L)) âŠ† s := by\n  rw [GroupFilterBasis.nhds_one_eq]\n  constructor\n  Â· rintro âŸ¨-, âŸ¨-, âŸ¨E, fin, rflâŸ©, rflâŸ©, hEâŸ©\n    exact âŸ¨E, fin, hEâŸ©\n  Â· rintro âŸ¨E, fin, hEâŸ©\n    exact âŸ¨E.fixingSubgroup, âŸ¨E.fixingSubgroup, âŸ¨E, fin, rflâŸ©, rflâŸ©, hEâŸ©\n\n"}
{"name":"IntermediateField.fixingSubgroup_isOpen","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\nE : IntermediateField K L\ninstâœ : FiniteDimensional K (Subtype fun x => Membership.mem E x)\nâŠ¢ IsOpen â†‘E.fixingSubgroup","decl":"/-- Let `L/E/K` be a tower of fields with `E/K` finite. Then `Gal(L/E)` is an open subgroup of\n  `L â‰ƒâ‚[K] L`. -/\ntheorem IntermediateField.fixingSubgroup_isOpen {K L : Type*} [Field K] [Field L] [Algebra K L]\n    (E : IntermediateField K L) [FiniteDimensional K E] :\n    IsOpen (E.fixingSubgroup : Set (L â‰ƒâ‚[K] L)) := by\n  have h_basis : E.fixingSubgroup.carrier âˆˆ galGroupBasis K L :=\n    âŸ¨E.fixingSubgroup, âŸ¨E, â€¹_â€º, rflâŸ©, rflâŸ©\n  have h_nhd := GroupFilterBasis.mem_nhds_one (galGroupBasis K L) h_basis\n  exact Subgroup.isOpen_of_mem_nhds _ h_nhd\n\n"}
{"name":"IntermediateField.fixingSubgroup_isClosed","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\nE : IntermediateField K L\ninstâœ : FiniteDimensional K (Subtype fun x => Membership.mem E x)\nâŠ¢ IsClosed â†‘E.fixingSubgroup","decl":"/-- Given a tower of fields `L/E/K`, with `E/K` finite, the subgroup `Gal(L/E) â‰¤ L â‰ƒâ‚[K] L` is\n  closed. -/\ntheorem IntermediateField.fixingSubgroup_isClosed {K L : Type*} [Field K] [Field L] [Algebra K L]\n    (E : IntermediateField K L) [FiniteDimensional K E] :\n    IsClosed (E.fixingSubgroup : Set (L â‰ƒâ‚[K] L)) :=\n  OpenSubgroup.isClosed âŸ¨E.fixingSubgroup, E.fixingSubgroup_isOpenâŸ©\n\n"}
{"name":"krullTopology_t2","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\ninstâœ : Algebra.IsIntegral K L\nâŠ¢ T2Space (AlgEquiv K L L)","decl":"/-- If `L/K` is an algebraic extension, then the Krull topology on `L â‰ƒâ‚[K] L` is Hausdorff. -/\ntheorem krullTopology_t2 {K L : Type*} [Field K] [Field L] [Algebra K L]\n    [Algebra.IsIntegral K L] : T2Space (L â‰ƒâ‚[K] L) :=\n  { t2 := fun f g hfg => by\n      let Ï† := fâ»Â¹ * g\n      cases' DFunLike.exists_ne hfg with x hx\n      have hÏ†x : Ï† x â‰  x := by\n        apply ne_of_apply_ne f\n        change f (f.symm (g x)) â‰  f x\n        rw [AlgEquiv.apply_symm_apply f (g x), ne_comm]\n        exact hx\n      let E : IntermediateField K L := IntermediateField.adjoin K {x}\n      let h_findim : FiniteDimensional K E := IntermediateField.adjoin.finiteDimensional\n        (Algebra.IsIntegral.isIntegral x)\n      let H := E.fixingSubgroup\n      have h_basis : (H : Set (L â‰ƒâ‚[K] L)) âˆˆ galGroupBasis K L := âŸ¨H, âŸ¨E, âŸ¨h_findim, rflâŸ©âŸ©, rflâŸ©\n      have h_nhd := GroupFilterBasis.mem_nhds_one (galGroupBasis K L) h_basis\n      rw [mem_nhds_iff] at h_nhd\n      rcases h_nhd with âŸ¨W, hWH, hW_open, hW_1âŸ©\n      refine âŸ¨f â€¢ W, g â€¢ W,\n        âŸ¨hW_open.leftCoset f, hW_open.leftCoset g, âŸ¨1, hW_1, mul_one _âŸ©, âŸ¨1, hW_1, mul_one _âŸ©, ?_âŸ©âŸ©\n      rw [Set.disjoint_left]\n      rintro Ïƒ âŸ¨w1, hw1, hâŸ© âŸ¨w2, hw2, rflâŸ©\n      dsimp at h\n      rw [eq_inv_mul_iff_mul_eq.symm, â† mul_assoc, mul_inv_eq_iff_eq_mul.symm] at h\n      have h_in_H : w1 * w2â»Â¹ âˆˆ H := H.mul_mem (hWH hw1) (H.inv_mem (hWH hw2))\n      rw [h] at h_in_H\n      change Ï† âˆˆ E.fixingSubgroup at h_in_H\n      rw [IntermediateField.mem_fixingSubgroup_iff] at h_in_H\n      specialize h_in_H x\n      have hxE : x âˆˆ E := by\n        apply IntermediateField.subset_adjoin\n        apply Set.mem_singleton\n      exact hÏ†x (h_in_H hxE) }\n\n"}
{"name":"krullTopology_totallyDisconnected","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\ninstâœ : Algebra.IsIntegral K L\nâŠ¢ IsTotallyDisconnected Set.univ","decl":"/-- If `L/K` is an algebraic field extension, then the Krull topology on `L â‰ƒâ‚[K] L` is\n  totally disconnected. -/\ntheorem krullTopology_totallyDisconnected {K L : Type*} [Field K] [Field L] [Algebra K L]\n    [Algebra.IsIntegral K L] : IsTotallyDisconnected (Set.univ : Set (L â‰ƒâ‚[K] L)) := by\n  apply isTotallyDisconnected_of_isClopen_set\n  intro Ïƒ Ï„ h_diff\n  have hÏƒÏ„ : Ïƒâ»Â¹ * Ï„ â‰  1 := by rwa [Ne, inv_mul_eq_one]\n  rcases DFunLike.exists_ne hÏƒÏ„ with âŸ¨x, hx : (Ïƒâ»Â¹ * Ï„) x â‰  xâŸ©\n  let E := IntermediateField.adjoin K ({x} : Set L)\n  haveI := IntermediateField.adjoin.finiteDimensional\n    (Algebra.IsIntegral.isIntegral (R := K) x)\n  refine âŸ¨Ïƒ â€¢ E.fixingSubgroup,\n    âŸ¨E.fixingSubgroup_isClosed.leftCoset Ïƒ, E.fixingSubgroup_isOpen.leftCoset ÏƒâŸ©,\n    âŸ¨1, E.fixingSubgroup.one_mem', mul_one ÏƒâŸ©, ?_âŸ©\n  simp only [mem_leftCoset_iff, SetLike.mem_coe, IntermediateField.mem_fixingSubgroup_iff,\n    not_forall]\n  exact âŸ¨x, IntermediateField.mem_adjoin_simple_self K x, hxâŸ©\n\n"}
{"name":"IntermediateField.fixingSubgroup_top","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ Eq Top.top.fixingSubgroup Bot.bot","decl":"@[simp] lemma IntermediateField.fixingSubgroup_top (K L : Type*) [Field K] [Field L] [Algebra K L] :\n    IntermediateField.fixingSubgroup (âŠ¤ : IntermediateField K L) = âŠ¥ := by\n  ext\n  simp [mem_fixingSubgroup_iff, DFunLike.ext_iff]\n\n"}
{"name":"IntermediateField.fixingSubgroup_bot","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ² : Field K\ninstâœÂ¹ : Field L\ninstâœ : Algebra K L\nâŠ¢ Eq Bot.bot.fixingSubgroup Top.top","decl":"@[simp] lemma IntermediateField.fixingSubgroup_bot (K L : Type*) [Field K] [Field L] [Algebra K L] :\n    IntermediateField.fixingSubgroup (âŠ¥ : IntermediateField K L) = âŠ¤ := by\n  ext\n  simp [mem_fixingSubgroup_iff, mem_bot]\n\n"}
{"name":"krullTopology_discreteTopology_of_finiteDimensional","module":"Mathlib.FieldTheory.KrullTopology","initialProofState":"K : Type u_1\nL : Type u_2\ninstâœÂ³ : Field K\ninstâœÂ² : Field L\ninstâœÂ¹ : Algebra K L\ninstâœ : FiniteDimensional K L\nâŠ¢ DiscreteTopology (AlgEquiv K L L)","decl":"instance krullTopology_discreteTopology_of_finiteDimensional (K L : Type*) [Field K] [Field L]\n    [Algebra K L] [FiniteDimensional K L] : DiscreteTopology (L â‰ƒâ‚[K] L) := by\n  rw [discreteTopology_iff_isOpen_singleton_one]\n  change IsOpen ((âŠ¥ : Subgroup (L â‰ƒâ‚[K] L)) : Set (L â‰ƒâ‚[K] L))\n  rw [â† IntermediateField.fixingSubgroup_top]\n  exact IntermediateField.fixingSubgroup_isOpen âŠ¤\n"}
