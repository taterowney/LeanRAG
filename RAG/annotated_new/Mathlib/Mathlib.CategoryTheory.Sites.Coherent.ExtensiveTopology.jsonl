{"name":"CategoryTheory.extensiveTopology.mem_sieves_iff_contains_colimit_cofan","module":"Mathlib.CategoryTheory.Sites.Coherent.ExtensiveTopology","initialProofState":"C : Type u_1\ninstâœÂ¹ : CategoryTheory.Category.{u_2, u_1} C\ninstâœ : CategoryTheory.FinitaryPreExtensive C\nX : C\nS : CategoryTheory.Sieve X\nâŠ¢ Iff (Membership.mem ((CategoryTheory.extensiveTopology C) X) S) (Exists fun Î± => Exists fun x => Exists fun Y => Exists fun Ï€ => And (Nonempty (CategoryTheory.Limits.IsColimit (CategoryTheory.Limits.Cofan.mk X Ï€))) (âˆ€ (a : Î±), S.arrows (Ï€ a)))","decl":"lemma extensiveTopology.mem_sieves_iff_contains_colimit_cofan {X : C} (S : Sieve X) :\n    S âˆˆ (extensiveTopology C) X â†”\n      (âˆƒ (Î± : Type) (_ : Finite Î±) (Y : Î± â†’ C) (Ï€ : (a : Î±) â†’ (Y a âŸ¶ X)),\n        Nonempty (IsColimit (Cofan.mk X Ï€)) âˆ§ (âˆ€ a : Î±, (S.arrows) (Ï€ a))) := by\n  constructor\n  Â· intro h\n    induction h with\n    | of X S hS =>\n      obtain âŸ¨Î±, _, Y, Ï€, h, h'âŸ© := hS\n      refine âŸ¨Î±, inferInstance, Y, Ï€, ?_, fun a â†¦ ?_âŸ©\n      Â· have : IsIso (Sigma.desc (Cofan.mk X Ï€).inj) := by simpa using h'\n        exact âŸ¨Cofan.isColimitOfIsIsoSigmaDesc (Cofan.mk X Ï€)âŸ©\n      Â· obtain âŸ¨rfl, _âŸ© := h\n        exact âŸ¨Y a, ðŸ™ Y a, Ï€ a, Presieve.ofArrows.mk a, by simpâŸ©\n    | top X =>\n      refine âŸ¨Unit, inferInstance, fun _ => X, fun _ => (ðŸ™ X), âŸ¨?_âŸ©, by simpâŸ©\n      have : IsIso (Sigma.desc (Cofan.mk X fun (_ : Unit) â†¦ ðŸ™ X).inj) := by\n        have : IsIso (coproductUniqueIso (fun () => X)).hom := inferInstance\n        exact this\n      exact Cofan.isColimitOfIsIsoSigmaDesc (Cofan.mk X _)\n    | transitive X R S _ _ a b =>\n      obtain âŸ¨Î±, w, Yâ‚, Ï€, h, h'âŸ© := a\n      choose Î² _ Y_n Ï€_n H using fun a => b (h' a)\n      exact âŸ¨(Î£ a, Î² a), inferInstance, fun âŸ¨a,bâŸ© => Y_n a b, fun âŸ¨a, bâŸ© => (Ï€_n a b) â‰« (Ï€ a),\n        âŸ¨Limits.Cofan.isColimitTrans _ h.some _ (fun a â†¦ (H a).1.some)âŸ©,\n        fun c => (H c.fst).2 c.sndâŸ©\n  Â· intro âŸ¨Î±, _, Y, Ï€, h, h'âŸ©\n    apply (extensiveCoverage C).mem_toGrothendieck_sieves_of_superset (R := Presieve.ofArrows Y Ï€)\n    Â· exact fun _ _ hh â†¦ by cases hh; exact h' _\n    Â· refine âŸ¨Î±, inferInstance, Y, Ï€, rfl, ?_âŸ©\n      rw [show IsIso (Sigma.desc Ï€) â†” _ from\n        Limits.Cofan.isColimit_iff_isIso_sigmaDesc (c := Cofan.mk X Ï€)]\n      exact h\n\n"}
