{"name":"MonotoneOn.convexOn_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf' : DifferentiableOn Real f (interior D)\nhf'_mono : MonotoneOn (deriv f) (interior D)\nâŠ¢ ConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is differentiable on its interior,\nand `f'` is monotone on the interior, then `f` is convex on `D`. -/\ntheorem MonotoneOn.convexOn_of_deriv {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf' : DifferentiableOn â„ f (interior D))\n    (hf'_mono : MonotoneOn (deriv f) (interior D)) : ConvexOn â„ D f :=\n  convexOn_of_slope_mono_adjacent hD\n    (by\n      intro x y z hx hz hxy hyz\n      -- First we prove some trivial inclusions\n      have hxzD : Icc x z âŠ† D := hD.ordConnected.out hx hz\n      have hxyD : Icc x y âŠ† D := (Icc_subset_Icc_right hyz.le).trans hxzD\n      have hxyD' : Ioo x y âŠ† interior D :=\n        subset_sUnion_of_mem âŸ¨isOpen_Ioo, Ioo_subset_Icc_self.trans hxyDâŸ©\n      have hyzD : Icc y z âŠ† D := (Icc_subset_Icc_left hxy.le).trans hxzD\n      have hyzD' : Ioo y z âŠ† interior D :=\n        subset_sUnion_of_mem âŸ¨isOpen_Ioo, Ioo_subset_Icc_self.trans hyzDâŸ©\n      -- Then we apply MVT to both `[x, y]` and `[y, z]`\n      obtain âŸ¨a, âŸ¨hxa, hayâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x y, deriv f a = (f y - f x) / (y - x) :=\n        exists_deriv_eq_slope f hxy (hf.mono hxyD) (hf'.mono hxyD')\n      obtain âŸ¨b, âŸ¨hyb, hbzâŸ©, hbâŸ© : âˆƒ b âˆˆ Ioo y z, deriv f b = (f z - f y) / (z - y) :=\n        exists_deriv_eq_slope f hyz (hf.mono hyzD) (hf'.mono hyzD')\n      rw [â† ha, â† hb]\n      exact hf'_mono (hxyD' âŸ¨hxa, hayâŸ©) (hyzD' âŸ¨hyb, hbzâŸ©) (hay.trans hyb).le)\n\n"}
{"name":"AntitoneOn.concaveOn_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf' : DifferentiableOn Real f (interior D)\nh_anti : AntitoneOn (deriv f) (interior D)\nâŠ¢ ConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is differentiable on its interior,\nand `f'` is antitone on the interior, then `f` is concave on `D`. -/\ntheorem AntitoneOn.concaveOn_of_deriv {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf' : DifferentiableOn â„ f (interior D))\n    (h_anti : AntitoneOn (deriv f) (interior D)) : ConcaveOn â„ D f :=\n  haveI : MonotoneOn (deriv (-f)) (interior D) := by\n    simpa only [â† deriv.neg] using h_anti.neg\n  neg_convexOn_iff.mp (this.convexOn_of_deriv hD hf.neg hf'.neg)\n\n"}
{"name":"StrictMonoOn.exists_slope_lt_deriv_aux","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"x y : Real\nf : Real â†’ Real\nhf : ContinuousOn f (Set.Icc x y)\nhxy : LT.lt x y\nhf'_mono : StrictMonoOn (deriv f) (Set.Ioo x y)\nh : âˆ€ (w : Real), Membership.mem (Set.Ioo x y) w â†’ Ne (deriv f w) 0\nâŠ¢ Exists fun a => And (Membership.mem (Set.Ioo x y) a) (LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (deriv f a))","decl":"theorem StrictMonoOn.exists_slope_lt_deriv_aux {x y : â„} {f : â„ â†’ â„} (hf : ContinuousOn f (Icc x y))\n    (hxy : x < y) (hf'_mono : StrictMonoOn (deriv f) (Ioo x y)) (h : âˆ€ w âˆˆ Ioo x y, deriv f w â‰  0) :\n    âˆƒ a âˆˆ Ioo x y, (f y - f x) / (y - x) < deriv f a := by\n  have A : DifferentiableOn â„ f (Ioo x y) := fun w wmem =>\n    (differentiableAt_of_deriv_ne_zero (h w wmem)).differentiableWithinAt\n  obtain âŸ¨a, âŸ¨hxa, hayâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x y, deriv f a = (f y - f x) / (y - x) :=\n    exists_deriv_eq_slope f hxy hf A\n  rcases nonempty_Ioo.2 hay with âŸ¨b, âŸ¨hab, hbyâŸ©âŸ©\n  refine âŸ¨b, âŸ¨hxa.trans hab, hbyâŸ©, ?_âŸ©\n  rw [â† ha]\n  exact hf'_mono âŸ¨hxa, hayâŸ© âŸ¨hxa.trans hab, hbyâŸ© hab\n\n"}
{"name":"StrictMonoOn.exists_slope_lt_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"x y : Real\nf : Real â†’ Real\nhf : ContinuousOn f (Set.Icc x y)\nhxy : LT.lt x y\nhf'_mono : StrictMonoOn (deriv f) (Set.Ioo x y)\nâŠ¢ Exists fun a => And (Membership.mem (Set.Ioo x y) a) (LT.lt (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)) (deriv f a))","decl":"theorem StrictMonoOn.exists_slope_lt_deriv {x y : â„} {f : â„ â†’ â„} (hf : ContinuousOn f (Icc x y))\n    (hxy : x < y) (hf'_mono : StrictMonoOn (deriv f) (Ioo x y)) :\n    âˆƒ a âˆˆ Ioo x y, (f y - f x) / (y - x) < deriv f a := by\n  by_cases h : âˆ€ w âˆˆ Ioo x y, deriv f w â‰  0\n  Â· apply StrictMonoOn.exists_slope_lt_deriv_aux hf hxy hf'_mono h\n  Â· push_neg at h\n    rcases h with âŸ¨w, âŸ¨hxw, hwyâŸ©, hwâŸ©\n    obtain âŸ¨a, âŸ¨hxa, hawâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x w, (f w - f x) / (w - x) < deriv f a := by\n      apply StrictMonoOn.exists_slope_lt_deriv_aux _ hxw _ _\n      Â· exact hf.mono (Icc_subset_Icc le_rfl hwy.le)\n      Â· exact hf'_mono.mono (Ioo_subset_Ioo le_rfl hwy.le)\n      Â· intro z hz\n        rw [â† hw]\n        apply ne_of_lt\n        exact hf'_mono âŸ¨hz.1, hz.2.trans hwyâŸ© âŸ¨hxw, hwyâŸ© hz.2\n    obtain âŸ¨b, âŸ¨hwb, hbyâŸ©, hbâŸ© : âˆƒ b âˆˆ Ioo w y, (f y - f w) / (y - w) < deriv f b := by\n      apply StrictMonoOn.exists_slope_lt_deriv_aux _ hwy _ _\n      Â· refine hf.mono (Icc_subset_Icc hxw.le le_rfl)\n      Â· exact hf'_mono.mono (Ioo_subset_Ioo hxw.le le_rfl)\n      Â· intro z hz\n        rw [â† hw]\n        apply ne_of_gt\n        exact hf'_mono âŸ¨hxw, hwyâŸ© âŸ¨hxw.trans hz.1, hz.2âŸ© hz.1\n    refine âŸ¨b, âŸ¨hxw.trans hwb, hbyâŸ©, ?_âŸ©\n    simp only [div_lt_iffâ‚€, hxy, hxw, hwy, sub_pos] at ha hb âŠ¢\n    have : deriv f a * (w - x) < deriv f b * (w - x) := by\n      apply mul_lt_mul _ le_rfl (sub_pos.2 hxw) _\n      Â· exact hf'_mono âŸ¨hxa, haw.trans hwyâŸ© âŸ¨hxw.trans hwb, hbyâŸ© (haw.trans hwb)\n      Â· rw [â† hw]\n        exact (hf'_mono âŸ¨hxw, hwyâŸ© âŸ¨hxw.trans hwb, hbyâŸ© hwb).le\n    linarith\n\n"}
{"name":"StrictMonoOn.exists_deriv_lt_slope_aux","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"x y : Real\nf : Real â†’ Real\nhf : ContinuousOn f (Set.Icc x y)\nhxy : LT.lt x y\nhf'_mono : StrictMonoOn (deriv f) (Set.Ioo x y)\nh : âˆ€ (w : Real), Membership.mem (Set.Ioo x y) w â†’ Ne (deriv f w) 0\nâŠ¢ Exists fun a => And (Membership.mem (Set.Ioo x y) a) (LT.lt (deriv f a) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)))","decl":"theorem StrictMonoOn.exists_deriv_lt_slope_aux {x y : â„} {f : â„ â†’ â„} (hf : ContinuousOn f (Icc x y))\n    (hxy : x < y) (hf'_mono : StrictMonoOn (deriv f) (Ioo x y)) (h : âˆ€ w âˆˆ Ioo x y, deriv f w â‰  0) :\n    âˆƒ a âˆˆ Ioo x y, deriv f a < (f y - f x) / (y - x) := by\n  have A : DifferentiableOn â„ f (Ioo x y) := fun w wmem =>\n    (differentiableAt_of_deriv_ne_zero (h w wmem)).differentiableWithinAt\n  obtain âŸ¨a, âŸ¨hxa, hayâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x y, deriv f a = (f y - f x) / (y - x) :=\n    exists_deriv_eq_slope f hxy hf A\n  rcases nonempty_Ioo.2 hxa with âŸ¨b, âŸ¨hxb, hbaâŸ©âŸ©\n  refine âŸ¨b, âŸ¨hxb, hba.trans hayâŸ©, ?_âŸ©\n  rw [â† ha]\n  exact hf'_mono âŸ¨hxb, hba.trans hayâŸ© âŸ¨hxa, hayâŸ© hba\n\n"}
{"name":"StrictMonoOn.exists_deriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"x y : Real\nf : Real â†’ Real\nhf : ContinuousOn f (Set.Icc x y)\nhxy : LT.lt x y\nhf'_mono : StrictMonoOn (deriv f) (Set.Ioo x y)\nâŠ¢ Exists fun a => And (Membership.mem (Set.Ioo x y) a) (LT.lt (deriv f a) (HDiv.hDiv (HSub.hSub (f y) (f x)) (HSub.hSub y x)))","decl":"theorem StrictMonoOn.exists_deriv_lt_slope {x y : â„} {f : â„ â†’ â„} (hf : ContinuousOn f (Icc x y))\n    (hxy : x < y) (hf'_mono : StrictMonoOn (deriv f) (Ioo x y)) :\n    âˆƒ a âˆˆ Ioo x y, deriv f a < (f y - f x) / (y - x) := by\n  by_cases h : âˆ€ w âˆˆ Ioo x y, deriv f w â‰  0\n  Â· apply StrictMonoOn.exists_deriv_lt_slope_aux hf hxy hf'_mono h\n  Â· push_neg at h\n    rcases h with âŸ¨w, âŸ¨hxw, hwyâŸ©, hwâŸ©\n    obtain âŸ¨a, âŸ¨hxa, hawâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x w, deriv f a < (f w - f x) / (w - x) := by\n      apply StrictMonoOn.exists_deriv_lt_slope_aux _ hxw _ _\n      Â· exact hf.mono (Icc_subset_Icc le_rfl hwy.le)\n      Â· exact hf'_mono.mono (Ioo_subset_Ioo le_rfl hwy.le)\n      Â· intro z hz\n        rw [â† hw]\n        apply ne_of_lt\n        exact hf'_mono âŸ¨hz.1, hz.2.trans hwyâŸ© âŸ¨hxw, hwyâŸ© hz.2\n    obtain âŸ¨b, âŸ¨hwb, hbyâŸ©, hbâŸ© : âˆƒ b âˆˆ Ioo w y, deriv f b < (f y - f w) / (y - w) := by\n      apply StrictMonoOn.exists_deriv_lt_slope_aux _ hwy _ _\n      Â· refine hf.mono (Icc_subset_Icc hxw.le le_rfl)\n      Â· exact hf'_mono.mono (Ioo_subset_Ioo hxw.le le_rfl)\n      Â· intro z hz\n        rw [â† hw]\n        apply ne_of_gt\n        exact hf'_mono âŸ¨hxw, hwyâŸ© âŸ¨hxw.trans hz.1, hz.2âŸ© hz.1\n    refine âŸ¨a, âŸ¨hxa, haw.trans hwyâŸ©, ?_âŸ©\n    simp only [lt_div_iffâ‚€, hxy, hxw, hwy, sub_pos] at ha hb âŠ¢\n    have : deriv f a * (y - w) < deriv f b * (y - w) := by\n      apply mul_lt_mul _ le_rfl (sub_pos.2 hwy) _\n      Â· exact hf'_mono âŸ¨hxa, haw.trans hwyâŸ© âŸ¨hxw.trans hwb, hbyâŸ© (haw.trans hwb)\n      Â· rw [â† hw]\n        exact (hf'_mono âŸ¨hxw, hwyâŸ© âŸ¨hxw.trans hwb, hbyâŸ© hwb).le\n    linarith\n\n"}
{"name":"StrictMonoOn.strictConvexOn_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf' : StrictMonoOn (deriv f) (interior D)\nâŠ¢ StrictConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, and `f'` is strictly monotone on the\ninterior, then `f` is strictly convex on `D`.\nNote that we don't require differentiability, since it is guaranteed at all but at most\none point by the strict monotonicity of `f'`. -/\ntheorem StrictMonoOn.strictConvexOn_of_deriv {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf' : StrictMonoOn (deriv f) (interior D)) : StrictConvexOn â„ D f :=\n  strictConvexOn_of_slope_strict_mono_adjacent hD fun {x y z} hx hz hxy hyz => by\n    -- First we prove some trivial inclusions\n    have hxzD : Icc x z âŠ† D := hD.ordConnected.out hx hz\n    have hxyD : Icc x y âŠ† D := (Icc_subset_Icc_right hyz.le).trans hxzD\n    have hxyD' : Ioo x y âŠ† interior D :=\n      subset_sUnion_of_mem âŸ¨isOpen_Ioo, Ioo_subset_Icc_self.trans hxyDâŸ©\n    have hyzD : Icc y z âŠ† D := (Icc_subset_Icc_left hxy.le).trans hxzD\n    have hyzD' : Ioo y z âŠ† interior D :=\n      subset_sUnion_of_mem âŸ¨isOpen_Ioo, Ioo_subset_Icc_self.trans hyzDâŸ©\n    -- Then we get points `a` and `b` in each interval `[x, y]` and `[y, z]` where the derivatives\n    -- can be compared to the slopes between `x, y` and `y, z` respectively.\n    obtain âŸ¨a, âŸ¨hxa, hayâŸ©, haâŸ© : âˆƒ a âˆˆ Ioo x y, (f y - f x) / (y - x) < deriv f a :=\n      StrictMonoOn.exists_slope_lt_deriv (hf.mono hxyD) hxy (hf'.mono hxyD')\n    obtain âŸ¨b, âŸ¨hyb, hbzâŸ©, hbâŸ© : âˆƒ b âˆˆ Ioo y z, deriv f b < (f z - f y) / (z - y) :=\n      StrictMonoOn.exists_deriv_lt_slope (hf.mono hyzD) hyz (hf'.mono hyzD')\n    apply ha.trans (lt_trans _ hb)\n    exact hf' (hxyD' âŸ¨hxa, hayâŸ©) (hyzD' âŸ¨hyb, hbzâŸ©) (hay.trans hyb)\n\n"}
{"name":"StrictAntiOn.strictConcaveOn_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nh_anti : StrictAntiOn (deriv f) (interior D)\nâŠ¢ StrictConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„` and `f'` is strictly antitone on the\ninterior, then `f` is strictly concave on `D`.\nNote that we don't require differentiability, since it is guaranteed at all but at most\none point by the strict antitonicity of `f'`. -/\ntheorem StrictAntiOn.strictConcaveOn_of_deriv {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (h_anti : StrictAntiOn (deriv f) (interior D)) :\n    StrictConcaveOn â„ D f :=\n  have : StrictMonoOn (deriv (-f)) (interior D) := by simpa only [â† deriv.neg] using h_anti.neg\n  neg_neg f â–¸ (this.strictConvexOn_of_deriv hD hf.neg).neg\n\n"}
{"name":"Monotone.convexOn_univ_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Differentiable Real f\nhf'_mono : Monotone (deriv f)\nâŠ¢ ConvexOn Real Set.univ f","decl":"/-- If a function `f` is differentiable and `f'` is monotone on `â„` then `f` is convex. -/\ntheorem Monotone.convexOn_univ_of_deriv {f : â„ â†’ â„} (hf : Differentiable â„ f)\n    (hf'_mono : Monotone (deriv f)) : ConvexOn â„ univ f :=\n  (hf'_mono.monotoneOn _).convexOn_of_deriv convex_univ hf.continuous.continuousOn\n    hf.differentiableOn\n\n"}
{"name":"Antitone.concaveOn_univ_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Differentiable Real f\nhf'_anti : Antitone (deriv f)\nâŠ¢ ConcaveOn Real Set.univ f","decl":"/-- If a function `f` is differentiable and `f'` is antitone on `â„` then `f` is concave. -/\ntheorem Antitone.concaveOn_univ_of_deriv {f : â„ â†’ â„} (hf : Differentiable â„ f)\n    (hf'_anti : Antitone (deriv f)) : ConcaveOn â„ univ f :=\n  (hf'_anti.antitoneOn _).concaveOn_of_deriv convex_univ hf.continuous.continuousOn\n    hf.differentiableOn\n\n"}
{"name":"StrictMono.strictConvexOn_univ_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Continuous f\nhf'_mono : StrictMono (deriv f)\nâŠ¢ StrictConvexOn Real Set.univ f","decl":"/-- If a function `f` is continuous and `f'` is strictly monotone on `â„` then `f` is strictly\nconvex. Note that we don't require differentiability, since it is guaranteed at all but at most\none point by the strict monotonicity of `f'`. -/\ntheorem StrictMono.strictConvexOn_univ_of_deriv {f : â„ â†’ â„} (hf : Continuous f)\n    (hf'_mono : StrictMono (deriv f)) : StrictConvexOn â„ univ f :=\n  (hf'_mono.strictMonoOn _).strictConvexOn_of_deriv convex_univ hf.continuousOn\n\n"}
{"name":"StrictAnti.strictConcaveOn_univ_of_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Continuous f\nhf'_anti : StrictAnti (deriv f)\nâŠ¢ StrictConcaveOn Real Set.univ f","decl":"/-- If a function `f` is continuous and `f'` is strictly antitone on `â„` then `f` is strictly\nconcave. Note that we don't require differentiability, since it is guaranteed at all but at most\none point by the strict antitonicity of `f'`. -/\ntheorem StrictAnti.strictConcaveOn_univ_of_deriv {f : â„ â†’ â„} (hf : Continuous f)\n    (hf'_anti : StrictAnti (deriv f)) : StrictConcaveOn â„ univ f :=\n  (hf'_anti.strictAntiOn _).strictConcaveOn_of_deriv convex_univ hf.continuousOn\n\n"}
{"name":"convexOn_of_deriv2_nonneg","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf' : DifferentiableOn Real f (interior D)\nhf'' : DifferentiableOn Real (deriv f) (interior D)\nhf''_nonneg : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LE.le 0 (Nat.iterate deriv 2 f x)\nâŠ¢ ConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is twice differentiable on its\ninterior, and `f''` is nonnegative on the interior, then `f` is convex on `D`. -/\ntheorem convexOn_of_deriv2_nonneg {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„} (hf : ContinuousOn f D)\n    (hf' : DifferentiableOn â„ f (interior D)) (hf'' : DifferentiableOn â„ (deriv f) (interior D))\n    (hf''_nonneg : âˆ€ x âˆˆ interior D, 0 â‰¤ deriv^[2] f x) : ConvexOn â„ D f :=\n  (monotoneOn_of_deriv_nonneg hD.interior hf''.continuousOn (by rwa [interior_interior]) <| by\n        rwa [interior_interior]).convexOn_of_deriv\n    hD hf hf'\n\n"}
{"name":"concaveOn_of_deriv2_nonpos","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf' : DifferentiableOn Real f (interior D)\nhf'' : DifferentiableOn Real (deriv f) (interior D)\nhf''_nonpos : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LE.le (Nat.iterate deriv 2 f x) 0\nâŠ¢ ConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is twice differentiable on its\ninterior, and `f''` is nonpositive on the interior, then `f` is concave on `D`. -/\ntheorem concaveOn_of_deriv2_nonpos {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„} (hf : ContinuousOn f D)\n    (hf' : DifferentiableOn â„ f (interior D)) (hf'' : DifferentiableOn â„ (deriv f) (interior D))\n    (hf''_nonpos : âˆ€ x âˆˆ interior D, deriv^[2] f x â‰¤ 0) : ConcaveOn â„ D f :=\n  (antitoneOn_of_deriv_nonpos hD.interior hf''.continuousOn (by rwa [interior_interior]) <| by\n        rwa [interior_interior]).concaveOn_of_deriv\n    hD hf hf'\n\n"}
{"name":"convexOn_of_hasDerivWithinAt2_nonneg","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf f' f'' : Real â†’ Real\nhf : ContinuousOn f D\nhf' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ HasDerivWithinAt f (f' x) (interior D) x\nhf'' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ HasDerivWithinAt f' (f'' x) (interior D) x\nhf''â‚€ : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LE.le 0 (f'' x)\nâŠ¢ ConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is twice differentiable on its\ninterior, and `f''` is nonnegative on the interior, then `f` is convex on `D`. -/\nlemma convexOn_of_hasDerivWithinAt2_nonneg {D : Set â„} (hD : Convex â„ D) {f f' f'' : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf' : âˆ€ x âˆˆ interior D, HasDerivWithinAt f (f' x) (interior D) x)\n    (hf'' : âˆ€ x âˆˆ interior D, HasDerivWithinAt f' (f'' x) (interior D) x)\n    (hf''â‚€ : âˆ€ x âˆˆ interior D, 0 â‰¤ f'' x) : ConvexOn â„ D f := by\n  have : (interior D).EqOn (deriv f) f' := deriv_eqOn isOpen_interior hf'\n  refine convexOn_of_deriv2_nonneg hD hf (fun x hx â†¦ (hf' _ hx).differentiableWithinAt) ?_ ?_\n  Â· rw [differentiableOn_congr this]\n    exact fun x hx â†¦ (hf'' _ hx).differentiableWithinAt\n  Â· rintro x hx\n    convert hf''â‚€ _ hx using 1\n    dsimp\n    rw [deriv_eqOn isOpen_interior (fun y hy â†¦ ?_) hx]\n    exact (hf'' _ hy).congr this <| by rw [this hy]\n\n"}
{"name":"concaveOn_of_hasDerivWithinAt2_nonpos","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf f' f'' : Real â†’ Real\nhf : ContinuousOn f D\nhf' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ HasDerivWithinAt f (f' x) (interior D) x\nhf'' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ HasDerivWithinAt f' (f'' x) (interior D) x\nhf''â‚€ : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LE.le (f'' x) 0\nâŠ¢ ConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„`, is twice differentiable on its\ninterior, and `f''` is nonpositive on the interior, then `f` is concave on `D`. -/\nlemma concaveOn_of_hasDerivWithinAt2_nonpos {D : Set â„} (hD : Convex â„ D) {f f' f'' : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf' : âˆ€ x âˆˆ interior D, HasDerivWithinAt f (f' x) (interior D) x)\n    (hf'' : âˆ€ x âˆˆ interior D, HasDerivWithinAt f' (f'' x) (interior D) x)\n    (hf''â‚€ : âˆ€ x âˆˆ interior D, f'' x â‰¤ 0) : ConcaveOn â„ D f := by\n  have : (interior D).EqOn (deriv f) f' := deriv_eqOn isOpen_interior hf'\n  refine concaveOn_of_deriv2_nonpos hD hf (fun x hx â†¦ (hf' _ hx).differentiableWithinAt) ?_ ?_\n  Â· rw [differentiableOn_congr this]\n    exact fun x hx â†¦ (hf'' _ hx).differentiableWithinAt\n  Â· rintro x hx\n    convert hf''â‚€ _ hx using 1\n    dsimp\n    rw [deriv_eqOn isOpen_interior (fun y hy â†¦ ?_) hx]\n    exact (hf'' _ hy).congr this <| by rw [this hy]\n\n"}
{"name":"strictConvexOn_of_deriv2_pos","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf'' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LT.lt 0 (Nat.iterate deriv 2 f x)\nâŠ¢ StrictConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„` and `f''` is strictly positive on the\ninterior, then `f` is strictly convex on `D`.\nNote that we don't require twice differentiability explicitly as it is already implied by the second\nderivative being strictly positive, except at at most one point. -/\ntheorem strictConvexOn_of_deriv2_pos {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf'' : âˆ€ x âˆˆ interior D, 0 < (deriv^[2] f) x) :\n    StrictConvexOn â„ D f :=\n  ((strictMonoOn_of_deriv_pos hD.interior fun z hz =>\n          (differentiableAt_of_deriv_ne_zero\n                (hf'' z hz).ne').differentiableWithinAt.continuousWithinAt) <|\n        by rwa [interior_interior]).strictConvexOn_of_deriv\n    hD hf\n\n"}
{"name":"strictConcaveOn_of_deriv2_neg","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf'' : âˆ€ (x : Real), Membership.mem (interior D) x â†’ LT.lt (Nat.iterate deriv 2 f x) 0\nâŠ¢ StrictConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„` and `f''` is strictly negative on the\ninterior, then `f` is strictly concave on `D`.\nNote that we don't require twice differentiability explicitly as it already implied by the second\nderivative being strictly negative, except at at most one point. -/\ntheorem strictConcaveOn_of_deriv2_neg {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf'' : âˆ€ x âˆˆ interior D, deriv^[2] f x < 0) :\n    StrictConcaveOn â„ D f :=\n  ((strictAntiOn_of_deriv_neg hD.interior fun z hz =>\n          (differentiableAt_of_deriv_ne_zero\n                (hf'' z hz).ne).differentiableWithinAt.continuousWithinAt) <|\n        by rwa [interior_interior]).strictConcaveOn_of_deriv\n    hD hf\n\n"}
{"name":"convexOn_of_deriv2_nonneg'","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf' : DifferentiableOn Real f D\nhf'' : DifferentiableOn Real (deriv f) D\nhf''_nonneg : âˆ€ (x : Real), Membership.mem D x â†’ LE.le 0 (Nat.iterate deriv 2 f x)\nâŠ¢ ConvexOn Real D f","decl":"/-- If a function `f` is twice differentiable on an open convex set `D âŠ† â„` and\n`f''` is nonnegative on `D`, then `f` is convex on `D`. -/\ntheorem convexOn_of_deriv2_nonneg' {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf' : DifferentiableOn â„ f D) (hf'' : DifferentiableOn â„ (deriv f) D)\n    (hf''_nonneg : âˆ€ x âˆˆ D, 0 â‰¤ (deriv^[2] f) x) : ConvexOn â„ D f :=\n  convexOn_of_deriv2_nonneg hD hf'.continuousOn (hf'.mono interior_subset)\n    (hf''.mono interior_subset) fun x hx => hf''_nonneg x (interior_subset hx)\n\n"}
{"name":"concaveOn_of_deriv2_nonpos'","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf' : DifferentiableOn Real f D\nhf'' : DifferentiableOn Real (deriv f) D\nhf''_nonpos : âˆ€ (x : Real), Membership.mem D x â†’ LE.le (Nat.iterate deriv 2 f x) 0\nâŠ¢ ConcaveOn Real D f","decl":"/-- If a function `f` is twice differentiable on an open convex set `D âŠ† â„` and\n`f''` is nonpositive on `D`, then `f` is concave on `D`. -/\ntheorem concaveOn_of_deriv2_nonpos' {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf' : DifferentiableOn â„ f D) (hf'' : DifferentiableOn â„ (deriv f) D)\n    (hf''_nonpos : âˆ€ x âˆˆ D, deriv^[2] f x â‰¤ 0) : ConcaveOn â„ D f :=\n  concaveOn_of_deriv2_nonpos hD hf'.continuousOn (hf'.mono interior_subset)\n    (hf''.mono interior_subset) fun x hx => hf''_nonpos x (interior_subset hx)\n\n"}
{"name":"strictConvexOn_of_deriv2_pos'","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf'' : âˆ€ (x : Real), Membership.mem D x â†’ LT.lt 0 (Nat.iterate deriv 2 f x)\nâŠ¢ StrictConvexOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„` and `f''` is strictly positive on `D`,\nthen `f` is strictly convex on `D`.\nNote that we don't require twice differentiability explicitly as it is already implied by the second\nderivative being strictly positive, except at at most one point. -/\ntheorem strictConvexOn_of_deriv2_pos' {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf'' : âˆ€ x âˆˆ D, 0 < (deriv^[2] f) x) : StrictConvexOn â„ D f :=\n  strictConvexOn_of_deriv2_pos hD hf fun x hx => hf'' x (interior_subset hx)\n\n"}
{"name":"strictConcaveOn_of_deriv2_neg'","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"D : Set Real\nhD : Convex Real D\nf : Real â†’ Real\nhf : ContinuousOn f D\nhf'' : âˆ€ (x : Real), Membership.mem D x â†’ LT.lt (Nat.iterate deriv 2 f x) 0\nâŠ¢ StrictConcaveOn Real D f","decl":"/-- If a function `f` is continuous on a convex set `D âŠ† â„` and `f''` is strictly negative on `D`,\nthen `f` is strictly concave on `D`.\nNote that we don't require twice differentiability explicitly as it is already implied by the second\nderivative being strictly negative, except at at most one point. -/\ntheorem strictConcaveOn_of_deriv2_neg' {D : Set â„} (hD : Convex â„ D) {f : â„ â†’ â„}\n    (hf : ContinuousOn f D) (hf'' : âˆ€ x âˆˆ D, deriv^[2] f x < 0) : StrictConcaveOn â„ D f :=\n  strictConcaveOn_of_deriv2_neg hD hf fun x hx => hf'' x (interior_subset hx)\n\n"}
{"name":"convexOn_univ_of_deriv2_nonneg","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf' : Differentiable Real f\nhf'' : Differentiable Real (deriv f)\nhf''_nonneg : âˆ€ (x : Real), LE.le 0 (Nat.iterate deriv 2 f x)\nâŠ¢ ConvexOn Real Set.univ f","decl":"/-- If a function `f` is twice differentiable on `â„`, and `f''` is nonnegative on `â„`,\nthen `f` is convex on `â„`. -/\ntheorem convexOn_univ_of_deriv2_nonneg {f : â„ â†’ â„} (hf' : Differentiable â„ f)\n    (hf'' : Differentiable â„ (deriv f)) (hf''_nonneg : âˆ€ x, 0 â‰¤ (deriv^[2] f) x) :\n    ConvexOn â„ univ f :=\n  convexOn_of_deriv2_nonneg' convex_univ hf'.differentiableOn hf''.differentiableOn fun x _ =>\n    hf''_nonneg x\n\n"}
{"name":"concaveOn_univ_of_deriv2_nonpos","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf' : Differentiable Real f\nhf'' : Differentiable Real (deriv f)\nhf''_nonpos : âˆ€ (x : Real), LE.le (Nat.iterate deriv 2 f x) 0\nâŠ¢ ConcaveOn Real Set.univ f","decl":"/-- If a function `f` is twice differentiable on `â„`, and `f''` is nonpositive on `â„`,\nthen `f` is concave on `â„`. -/\ntheorem concaveOn_univ_of_deriv2_nonpos {f : â„ â†’ â„} (hf' : Differentiable â„ f)\n    (hf'' : Differentiable â„ (deriv f)) (hf''_nonpos : âˆ€ x, deriv^[2] f x â‰¤ 0) :\n    ConcaveOn â„ univ f :=\n  concaveOn_of_deriv2_nonpos' convex_univ hf'.differentiableOn hf''.differentiableOn fun x _ =>\n    hf''_nonpos x\n\n"}
{"name":"strictConvexOn_univ_of_deriv2_pos","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Continuous f\nhf'' : âˆ€ (x : Real), LT.lt 0 (Nat.iterate deriv 2 f x)\nâŠ¢ StrictConvexOn Real Set.univ f","decl":"/-- If a function `f` is continuous on `â„`, and `f''` is strictly positive on `â„`,\nthen `f` is strictly convex on `â„`.\nNote that we don't require twice differentiability explicitly as it is already implied by the second\nderivative being strictly positive, except at at most one point. -/\ntheorem strictConvexOn_univ_of_deriv2_pos {f : â„ â†’ â„} (hf : Continuous f)\n    (hf'' : âˆ€ x, 0 < (deriv^[2] f) x) : StrictConvexOn â„ univ f :=\n  strictConvexOn_of_deriv2_pos' convex_univ hf.continuousOn fun x _ => hf'' x\n\n"}
{"name":"strictConcaveOn_univ_of_deriv2_neg","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"f : Real â†’ Real\nhf : Continuous f\nhf'' : âˆ€ (x : Real), LT.lt (Nat.iterate deriv 2 f x) 0\nâŠ¢ StrictConcaveOn Real Set.univ f","decl":"/-- If a function `f` is continuous on `â„`, and `f''` is strictly negative on `â„`,\nthen `f` is strictly concave on `â„`.\nNote that we don't require twice differentiability explicitly as it is already implied by the second\nderivative being strictly negative, except at at most one point. -/\ntheorem strictConcaveOn_univ_of_deriv2_neg {f : â„ â†’ â„} (hf : Continuous f)\n    (hf'' : âˆ€ x, deriv^[2] f x < 0) : StrictConcaveOn â„ univ f :=\n  strictConcaveOn_of_deriv2_neg' convex_univ hf.continuousOn fun x _ => hf'' x\n\n"}
{"name":"ConvexOn.slope_mono","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nx : ğ•œ\nhfc : ConvexOn ğ•œ s f\nhx : Membership.mem s x\nâŠ¢ MonotoneOn (slope f x) (SDiff.sdiff s (Singleton.singleton x))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is convex on `s`, then for any point `x âˆˆ s` the slope of the secant line of `f`\nthrough `x` is monotone on `s \\ {x}`. -/\nlemma ConvexOn.slope_mono (hfc : ConvexOn ğ•œ s f) (hx : x âˆˆ s) : MonotoneOn (slope f x) (s \\ {x}) :=\n  (slope_fun_def_field f _).symm â–¸ fun _ hy _ hz hz' â†¦ hfc.secant_mono hx (mem_of_mem_diff hy)\n    (mem_of_mem_diff hz) (not_mem_of_mem_diff hy :) (not_mem_of_mem_diff hz :) hz'\n\n"}
{"name":"ConcaveOn.slope_anti","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\ns : Set ğ•œ\nf : ğ•œ â†’ ğ•œ\nx : ğ•œ\nhfc : ConcaveOn ğ•œ s f\nhx : Membership.mem s x\nâŠ¢ AntitoneOn (slope f x) (SDiff.sdiff s (Singleton.singleton x))","decl":"/-- If `f : ğ•œ â†’ ğ•œ` is concave on `s`, then for any point `x âˆˆ s` the slope of the secant line of `f`\nthrough `x` is antitone on `s \\ {x}`. -/\nlemma ConcaveOn.slope_anti (hfc : ConcaveOn ğ•œ s f) (hx : x âˆˆ s) :\n    AntitoneOn (slope f x) (s \\ {x}) := by\n  rw [â† neg_neg f, slope_neg_fun]\n  exact (ConvexOn.slope_mono hfc.neg hx).neg\n\n"}
{"name":"ConvexOn.le_slope_of_hasDerivWithinAt_Ioi","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Ioi x) x\nâŠ¢ LE.le f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and right-differentiable at `x âˆˆ S`, then the slope of any\nsecant line with left endpoint at `x` is bounded below by the right derivative of `f` at `x`. -/\nlemma le_slope_of_hasDerivWithinAt_Ioi (hfc : ConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Ioi x) x) :\n    f' â‰¤ slope f x y := by\n  apply le_of_tendsto <| (hasDerivWithinAt_iff_tendsto_slope' not_mem_Ioi_self).mp hf'\n  simp_rw [eventually_nhdsWithin_iff, slope_def_field]\n  filter_upwards [eventually_lt_nhds hxy] with t ht (ht' : x < t)\n  refine hfc.secant_mono hx (?_ : t âˆˆ S) hy ht'.ne' hxy.ne' ht.le\n  exact hfc.1.ordConnected.out hx hy âŸ¨ht'.le, ht.leâŸ©\n\n"}
{"name":"ConvexOn.rightDeriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LE.le (derivWithin f (Set.Ioi x) x) (slope f x y)","decl":"/-- Reformulation of `ConvexOn.le_slope_of_hasDerivWithinAt_Ioi` using `derivWithin`. -/\nlemma rightDeriv_le_slope (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Ioi x) x) :\n    derivWithin f (Ioi x) x â‰¤ slope f x y :=\n  le_slope_of_hasDerivWithinAt_Ioi hfc hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.right_deriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LE.le (derivWithin f (Set.Ioi x) x) (slope f x y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias right_deriv_le_slope := rightDeriv_le_slope\n\n"}
{"name":"ConvexOn.le_slope_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S x\nâŠ¢ LE.le f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and differentiable within `S` at `x`, then the slope of any\nsecant line with left endpoint at `x` is bounded below by the derivative of `f` within `S` at `x`.\n\nThis is fractionally weaker than `ConvexOn.le_slope_of_hasDerivWithinAt_Ioi` but simpler to apply\nunder a `DifferentiableOn S` hypothesis. -/\nlemma le_slope_of_hasDerivWithinAt (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivWithinAt f f' S x) :\n    f' â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt_Ioi hx hy hxy <|\n    hf'.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsGT hx hy hxy\n\n"}
{"name":"ConvexOn.derivWithin_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S x\nâŠ¢ LE.le (derivWithin f S x) (slope f x y)","decl":"/-- Reformulation of `ConvexOn.le_slope_of_hasDerivWithinAt` using `derivWithin`. -/\nlemma derivWithin_le_slope (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S x) :\n    derivWithin f S x â‰¤ slope f x y :=\n  le_slope_of_hasDerivWithinAt hfc hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.le_slope_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nha : HasDerivAt f f' x\nâŠ¢ LE.le f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and differentiable at `x âˆˆ S`, then the slope of any secant\nline with left endpoint at `x` is bounded below by the derivative of `f` at `x`. -/\nlemma le_slope_of_hasDerivAt (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (ha : HasDerivAt f f' x) :\n    f' â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt_Ioi hx hy hxy ha.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.deriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f x\nâŠ¢ LE.le (deriv f x) (slope f x y)","decl":"/-- Reformulation of `ConvexOn.le_slope_of_hasDerivAt` using `deriv` -/\nlemma deriv_le_slope (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f x) :\n    deriv f x â‰¤ slope f x y :=\n  le_slope_of_hasDerivAt hfc hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"ConvexOn.slope_le_of_hasDerivWithinAt_Iio","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Iio y) y\nâŠ¢ LE.le (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and left-differentiable at `y âˆˆ S`, then the slope of any secant\nline with right endpoint at `y` is bounded above by the left derivative of `f` at `y`. -/\nlemma slope_le_of_hasDerivWithinAt_Iio (hfc : ConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Iio y) y) :\n    slope f x y â‰¤ f' := by\n  apply ge_of_tendsto <| (hasDerivWithinAt_iff_tendsto_slope' not_mem_Iio_self).mp hf'\n  simp_rw [eventually_nhdsWithin_iff, slope_comm f x y, slope_def_field]\n  filter_upwards [eventually_gt_nhds hxy] with t ht (ht' : t < y)\n  refine hfc.secant_mono hy hx (?_ : t âˆˆ S) hxy.ne ht'.ne ht.le\n  exact hfc.1.ordConnected.out hx hy âŸ¨ht.le, ht'.leâŸ©\n\n"}
{"name":"ConvexOn.slope_le_leftDeriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LE.le (slope f x y) (derivWithin f (Set.Iio y) y)","decl":"/-- Reformulation of `ConvexOn.slope_le_of_hasDerivWithinAt_Iio` using `derivWithin`. -/\nlemma slope_le_leftDeriv (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Iio y) y) :\n    slope f x y â‰¤ derivWithin f (Iio y) y :=\n  hfc.slope_le_of_hasDerivWithinAt_Iio hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.slope_le_left_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LE.le (slope f x y) (derivWithin f (Set.Iio y) y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias slope_le_left_deriv := slope_le_leftDeriv\n\n"}
{"name":"ConvexOn.slope_le_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S y\nâŠ¢ LE.le (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and differentiable within `S` at `y`, then the slope of any\nsecant line with right endpoint at `y` is bounded above by the derivative of `f` within `S` at `y`.\n\nThis is fractionally weaker than `ConvexOn.slope_le_of_hasDerivWithinAt_Iio` but simpler to apply\nunder a `DifferentiableOn S` hypothesis. -/\nlemma slope_le_of_hasDerivWithinAt (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivWithinAt f f' S y) :\n    slope f x y â‰¤ f' :=\n  hfc.slope_le_of_hasDerivWithinAt_Iio hx hy hxy <|\n    hf'.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsLT hx hy hxy\n\n"}
{"name":"ConvexOn.slope_le_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S y\nâŠ¢ LE.le (slope f x y) (derivWithin f S y)","decl":"/-- Reformulation of `ConvexOn.slope_le_of_hasDerivWithinAt` using `derivWithin`. -/\nlemma slope_le_derivWithin (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S y) :\n    slope f x y â‰¤ derivWithin f S y :=\n  hfc.slope_le_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.slope_le_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' y\nâŠ¢ LE.le (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is convex on `S` and differentiable at `y âˆˆ S`, then the slope of any secant\nline with right endpoint at `y` is bounded above by the derivative of `f` at `y`. -/\nlemma slope_le_of_hasDerivAt (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivAt f f' y) :\n    slope f x y â‰¤ f' :=\n  hfc.slope_le_of_hasDerivWithinAt_Iio hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"ConvexOn.slope_le_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f y\nâŠ¢ LE.le (slope f x y) (deriv f y)","decl":"/-- Reformulation of `ConvexOn.slope_le_of_hasDerivAt` using `deriv`. -/\nlemma slope_le_deriv (hfc : ConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f y) :\n    slope f x y â‰¤ deriv f y :=\n  hfc.slope_le_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"ConvexOn.monotoneOn_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : ConvexOn Real S f\nhfd : DifferentiableOn Real f S\nâŠ¢ MonotoneOn (derivWithin f S) S","decl":"/-- If `f` is convex on `S` and differentiable on `S`, then its derivative within `S` is monotone\non `S`. -/\nlemma monotoneOn_derivWithin (hfc : ConvexOn â„ S f) (hfd : DifferentiableOn â„ f S) :\n    MonotoneOn (derivWithin f S) S := by\n  intro x hx y hy hxy\n  rcases eq_or_lt_of_le hxy with rfl | hxy'\n  Â· rfl\n  exact (hfc.derivWithin_le_slope hx hy hxy' (hfd x hx)).trans\n    (hfc.slope_le_derivWithin hx hy hxy' (hfd y hy))\n\n"}
{"name":"ConvexOn.monotoneOn_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : ConvexOn Real S f\nhfd : âˆ€ (x : Real), Membership.mem S x â†’ DifferentiableAt Real f x\nâŠ¢ MonotoneOn (deriv f) S","decl":"/-- If `f` is convex on `S` and differentiable at all points of `S`, then its derivative is monotone\non `S`. -/\ntheorem monotoneOn_deriv (hfc : ConvexOn â„ S f) (hfd : âˆ€ x âˆˆ S, DifferentiableAt â„ f x) :\n    MonotoneOn (deriv f) S := by\n  intro x hx y hy hxy\n  rcases eq_or_lt_of_le hxy with rfl | hxy'\n  Â· rfl\n  exact (hfc.deriv_le_slope hx hy hxy' (hfd x hx)).trans (hfc.slope_le_deriv hx hy hxy' (hfd y hy))\n\n"}
{"name":"StrictConvexOn.lt_slope_of_hasDerivWithinAt_Ioi","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Ioi x) x\nâŠ¢ LT.lt f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and right-differentiable at `x âˆˆ S`, then the slope of\nany secant line with left endpoint at `x` is strictly greater than the right derivative of `f` at\n`x`. -/\nlemma lt_slope_of_hasDerivWithinAt_Ioi (hfc : StrictConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Ioi x) x) :\n    f' < slope f x y := by\n  obtain âŸ¨u, hxu, huyâŸ© := exists_between hxy\n  have hu : u âˆˆ S := hfc.1.ordConnected.out hx hy âŸ¨hxu.le, huy.leâŸ©\n  have := hfc.secant_strict_mono hx hu hy hxu.ne' hxy.ne' huy\n  simp only [â† slope_def_field] at this\n  exact (hfc.convexOn.le_slope_of_hasDerivWithinAt_Ioi hx hu hxu hf').trans_lt this\n\n"}
{"name":"StrictConvexOn.rightDeriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LT.lt (derivWithin f (Set.Ioi x) x) (slope f x y)","decl":"lemma rightDeriv_lt_slope (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Ioi x) x) :\n    derivWithin f (Ioi x) x < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt_Ioi hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.right_deriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LT.lt (derivWithin f (Set.Ioi x) x) (slope f x y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias right_deriv_lt_slope := rightDeriv_lt_slope\n\n"}
{"name":"StrictConvexOn.lt_slope_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S x\nâŠ¢ LT.lt f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and differentiable within `S` at `x âˆˆ S`, then the\nslope of any secant line with left endpoint at `x` is strictly greater than the derivative of `f`\nwithin `S` at `x`.\n\nThis is fractionally weaker than `StrictConvexOn.lt_slope_of_hasDerivWithinAt_Ioi` but simpler to\napply under a `DifferentiableOn S` hypothesis. -/\nlemma lt_slope_of_hasDerivWithinAt (hfc : StrictConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' S x) :\n    f' < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt_Ioi hx hy hxy <|\n    hf'.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsGT hx hy hxy\n\n"}
{"name":"StrictConvexOn.derivWithin_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S x\nâŠ¢ LT.lt (derivWithin f S x) (slope f x y)","decl":"lemma derivWithin_lt_slope (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S x) :\n    derivWithin f S x < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.lt_slope_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' x\nâŠ¢ LT.lt f' (slope f x y)","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and differentiable at `x âˆˆ S`, then the slope of any\nsecant line with left endpoint at `x` is strictly greater than the derivative of `f` at `x`. -/\nlemma lt_slope_of_hasDerivAt (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivAt f f' x) :\n    f' < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt_Ioi hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.deriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f x\nâŠ¢ LT.lt (deriv f x) (slope f x y)","decl":"lemma deriv_lt_slope (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f x) :\n    deriv f x < slope f x y :=\n  hfc.lt_slope_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"StrictConvexOn.slope_lt_of_hasDerivWithinAt_Iio","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Iio y) y\nâŠ¢ LT.lt (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and differentiable at `y âˆˆ S`, then the slope of any\nsecant line with right endpoint at `y` is strictly less than the left derivative at `y`. -/\nlemma slope_lt_of_hasDerivWithinAt_Iio (hfc : StrictConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Iio y) y)  :\n    slope f x y < f' := by\n  obtain âŸ¨u, hxu, huyâŸ© := exists_between hxy\n  have hu : u âˆˆ S := hfc.1.ordConnected.out hx hy âŸ¨hxu.le, huy.leâŸ©\n  have := hfc.secant_strict_mono hy hx hu hxy.ne huy.ne hxu\n  simp_rw [â† slope_def_field, slope_comm _ y] at this\n  exact this.trans_le <| hfc.convexOn.slope_le_of_hasDerivWithinAt_Iio hu hy huy hf'\n\n"}
{"name":"StrictConvexOn.slope_lt_leftDeriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LT.lt (slope f x y) (derivWithin f (Set.Iio y) y)","decl":"lemma slope_lt_leftDeriv (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Iio y) y)  :\n    slope f x y < derivWithin f (Iio y) y :=\n  hfc.slope_lt_of_hasDerivWithinAt_Iio hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.slope_lt_left_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LT.lt (slope f x y) (derivWithin f (Set.Iio y) y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias slope_lt_left_deriv := slope_lt_leftDeriv\n\n"}
{"name":"StrictConvexOn.slope_lt_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S y\nâŠ¢ LT.lt (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and differentiable within `S` at `y âˆˆ S`, then the\nslope of any secant line with right endpoint at `y` is strictly less than the derivative of `f`\nwithin `S` at `y`.\n\nThis is fractionally weaker than `StrictConvexOn.slope_lt_of_hasDerivWithinAt_Iio` but simpler to\napply under a `DifferentiableOn S` hypothesis.-/\nlemma slope_lt_of_hasDerivWithinAt (hfc : StrictConvexOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' S y) :\n    slope f x y < f' :=\n  hfc.slope_lt_of_hasDerivWithinAt_Iio hx hy hxy <|\n    hf'.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsLT hx hy hxy\n\n"}
{"name":"StrictConvexOn.slope_lt_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S y\nâŠ¢ LT.lt (slope f x y) (derivWithin f S y)","decl":"lemma slope_lt_derivWithin (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S y) :\n    slope f x y < derivWithin f S y :=\n  hfc.slope_lt_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.slope_lt_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' y\nâŠ¢ LT.lt (slope f x y) f'","decl":"/-- If `f : â„ â†’ â„` is strictly convex on `S` and differentiable at `y âˆˆ S`, then the slope of any\nsecant line with right endpoint at `y` is strictly less than the derivative of `f` at `y`. -/\nlemma slope_lt_of_hasDerivAt (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivAt f f' y) :\n    slope f x y < f' :=\n  hfc.slope_lt_of_hasDerivWithinAt_Iio hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"StrictConvexOn.slope_lt_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConvexOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f y\nâŠ¢ LT.lt (slope f x y) (deriv f y)","decl":"lemma slope_lt_deriv (hfc : StrictConvexOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f y) :\n    slope f x y < deriv f y :=\n  hfc.slope_lt_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"StrictConvexOn.strictMonoOn_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : StrictConvexOn Real S f\nhfd : DifferentiableOn Real f S\nâŠ¢ StrictMonoOn (derivWithin f S) S","decl":"/-- If `f` is convex on `S` and differentiable on `S`, then its derivative within `S` is monotone\non `S`. -/\nlemma strictMonoOn_derivWithin (hfc : StrictConvexOn â„ S f) (hfd : DifferentiableOn â„ f S) :\n    StrictMonoOn (derivWithin f S) S := by\n  intro x hx y hy hxy\n  exact (hfc.derivWithin_lt_slope hx hy hxy (hfd x hx)).trans\n    (hfc.slope_lt_derivWithin hx hy hxy (hfd y hy))\n\n"}
{"name":"StrictConvexOn.strictMonoOn_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : StrictConvexOn Real S f\nhfd : âˆ€ (x : Real), Membership.mem S x â†’ DifferentiableAt Real f x\nâŠ¢ StrictMonoOn (deriv f) S","decl":"/-- If `f` is convex on `S` and differentiable at all points of `S`, then its derivative is monotone\non `S`. -/\nlemma strictMonoOn_deriv (hfc : StrictConvexOn â„ S f) (hfd : âˆ€ x âˆˆ S, DifferentiableAt â„ f x) :\n    StrictMonoOn (deriv f) S := by\n  intro x hx y hy hxy\n  exact (hfc.deriv_lt_slope hx hy hxy (hfd x hx)).trans (hfc.slope_lt_deriv hx hy hxy (hfd y hy))\n\n"}
{"name":"ConcaveOn.slope_le_of_hasDerivWithinAt_Ioi","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Ioi x) x\nâŠ¢ LE.le (slope f x y) f'","decl":"lemma slope_le_of_hasDerivWithinAt_Ioi (hfc : ConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Ioi x) x) :\n    slope f x y â‰¤ f' := by\n  simpa only [Pi.neg_def, slope_neg, neg_neg] using\n    neg_le_neg (hfc.neg.le_slope_of_hasDerivWithinAt_Ioi hx hy hxy hf'.neg)\n\n"}
{"name":"ConcaveOn.slope_le_rightDeriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LE.le (slope f x y) (derivWithin f (Set.Ioi x) x)","decl":"lemma slope_le_rightDeriv (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Ioi x) x) :\n    slope f x y â‰¤ derivWithin f (Ioi x) x :=\n  hfc.slope_le_of_hasDerivWithinAt_Ioi hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.slope_le_right_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LE.le (slope f x y) (derivWithin f (Set.Ioi x) x)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias slope_le_right_deriv := slope_le_rightDeriv\n\n"}
{"name":"ConcaveOn.slope_le_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : HasDerivWithinAt f f' S x\nâŠ¢ LE.le (slope f x y) f'","decl":"lemma slope_le_of_hasDerivWithinAt (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : HasDerivWithinAt f f' S x) :\n    slope f x y â‰¤ f' :=\n  hfc.slope_le_of_hasDerivWithinAt_Ioi hx hy hxy <|\n    hfd.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsGT hx hy hxy\n\n"}
{"name":"ConcaveOn.slope_le_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S x\nâŠ¢ LE.le (slope f x y) (derivWithin f S x)","decl":"lemma slope_le_derivWithin (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S x) :\n    slope f x y â‰¤ derivWithin f S x :=\n  hfc.slope_le_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.slope_le_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' x\nâŠ¢ LE.le (slope f x y) f'","decl":"lemma slope_le_of_hasDerivAt (hfc : ConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivAt f f' x) :\n    slope f x y â‰¤ f' :=\n  hfc.slope_le_of_hasDerivWithinAt_Ioi hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.slope_le_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f x\nâŠ¢ LE.le (slope f x y) (deriv f x)","decl":"lemma slope_le_deriv (hfc : ConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hfd : DifferentiableAt â„ f x) :\n    slope f x y â‰¤ deriv f x :=\n  hfc.slope_le_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"ConcaveOn.le_slope_of_hasDerivWithinAt_Iio","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Iio y) y\nâŠ¢ LE.le f' (slope f x y)","decl":"lemma le_slope_of_hasDerivWithinAt_Iio (hfc : ConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Iio y) y) :\n    f' â‰¤ slope f x y := by\n  simpa only [neg_neg, Pi.neg_def, slope_neg] using\n    neg_le_neg (hfc.neg.slope_le_of_hasDerivWithinAt_Iio hx hy hxy hf'.neg)\n\n"}
{"name":"ConcaveOn.leftDeriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LE.le (derivWithin f (Set.Iio y) y) (slope f x y)","decl":"lemma leftDeriv_le_slope (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Iio y) y) :\n    derivWithin f (Iio y) y â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt_Iio hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.left_deriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LE.le (derivWithin f (Set.Iio y) y) (slope f x y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias left_deriv_le_slope := leftDeriv_le_slope\n\n"}
{"name":"ConcaveOn.le_slope_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S y\nâŠ¢ LE.le f' (slope f x y)","decl":"lemma le_slope_of_hasDerivWithinAt (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivWithinAt f f' S y) :\n    f' â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt_Iio hx hy hxy <|\n    hf'.mono_of_mem_nhdsWithin <| hfc.1.ordConnected.mem_nhdsLT hx hy hxy\n\n"}
{"name":"ConcaveOn.derivWithin_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S y\nâŠ¢ LE.le (derivWithin f S y) (slope f x y)","decl":"lemma derivWithin_le_slope (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S y) :\n    derivWithin f S y â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.le_slope_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' y\nâŠ¢ LE.le f' (slope f x y)","decl":"lemma le_slope_of_hasDerivAt (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivAt f f' y) :\n    f' â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivWithinAt_Iio hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"ConcaveOn.deriv_le_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : ConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f y\nâŠ¢ LE.le (deriv f y) (slope f x y)","decl":"lemma deriv_le_slope (hfc : ConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f y) :\n    deriv f y â‰¤ slope f x y :=\n  hfc.le_slope_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"ConcaveOn.antitoneOn_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : ConcaveOn Real S f\nhfd : DifferentiableOn Real f S\nâŠ¢ AntitoneOn (derivWithin f S) S","decl":"lemma antitoneOn_derivWithin (hfc : ConcaveOn â„ S f) (hfd : DifferentiableOn â„ f S) :\n    AntitoneOn (derivWithin f S) S := by\n  intro x hx y hy hxy\n  rcases eq_or_lt_of_le hxy with rfl | hxy'\n  Â· rfl\n  exact (hfc.derivWithin_le_slope hx hy hxy' (hfd y hy)).trans\n    (hfc.slope_le_derivWithin hx hy hxy' (hfd x hx))\n\n"}
{"name":"ConcaveOn.antitoneOn_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : ConcaveOn Real S f\nhfd : âˆ€ (x : Real), Membership.mem S x â†’ DifferentiableAt Real f x\nâŠ¢ AntitoneOn (deriv f) S","decl":"/-- If `f` is concave on `S` and differentiable at all points of `S`, then its derivative is\nantitone (monotone decreasing) on `S`. -/\ntheorem antitoneOn_deriv (hfc : ConcaveOn â„ S f) (hfd : âˆ€ x âˆˆ S, DifferentiableAt â„ f x) :\n    AntitoneOn (deriv f) S := by\n  simpa only [Pi.neg_def, deriv.neg, neg_neg] using\n    (hfc.neg.monotoneOn_deriv (fun x hx â†¦ (hfd x hx).neg)).neg\n\n"}
{"name":"StrictConcaveOn.slope_lt_of_hasDerivWithinAt_Ioi","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Ioi x) x\nâŠ¢ LT.lt (slope f x y) f'","decl":"lemma slope_lt_of_hasDerivWithinAt_Ioi (hfc : StrictConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Ioi x) x) :\n    slope f x y < f' := by\n  simpa only [Pi.neg_def, slope_neg, neg_neg] using\n    neg_lt_neg (hfc.neg.lt_slope_of_hasDerivWithinAt_Ioi hx hy hxy hf'.neg)\n\n"}
{"name":"StrictConcaveOn.slope_lt_rightDeriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LT.lt (slope f x y) (derivWithin f (Set.Ioi x) x)","decl":"lemma slope_lt_rightDeriv (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Ioi x) x) :\n    slope f x y < derivWithin f (Ioi x) x :=\n  hfc.slope_lt_of_hasDerivWithinAt_Ioi hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConcaveOn.slope_lt_right_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Ioi x) x\nâŠ¢ LT.lt (slope f x y) (derivWithin f (Set.Ioi x) x)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias slope_lt_right_deriv := slope_lt_rightDeriv\n\n"}
{"name":"StrictConcaveOn.slope_lt_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : HasDerivWithinAt f f' S x\nâŠ¢ LT.lt (slope f x y) f'","decl":"lemma slope_lt_of_hasDerivWithinAt (hfc : StrictConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hfd : HasDerivWithinAt f f' S x) :\n    slope f x y < f' := by\n  simpa only [Pi.neg_def, slope_neg, neg_neg] using\n    neg_lt_neg (hfc.neg.lt_slope_of_hasDerivWithinAt hx hy hxy hfd.neg)\n\n"}
{"name":"StrictConcaveOn.slope_lt_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S x\nâŠ¢ LT.lt (slope f x y) (derivWithin f S x)","decl":"lemma slope_lt_derivWithin (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S x) :\n    slope f x y < derivWithin f S x :=\n  hfc.slope_lt_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConcaveOn.slope_lt_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : HasDerivAt f f' x\nâŠ¢ LT.lt (slope f x y) f'","decl":"lemma slope_lt_of_hasDerivAt (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : HasDerivAt f f' x) :\n    slope f x y < f' := by\n  simpa only [Pi.neg_def, slope_neg, neg_neg] using\n    neg_lt_neg (hfc.neg.lt_slope_of_hasDerivAt hx hy hxy hfd.neg)\n\n"}
{"name":"StrictConcaveOn.slope_lt_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f x\nâŠ¢ LT.lt (slope f x y) (deriv f x)","decl":"lemma slope_lt_deriv (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f x) :\n    slope f x y < deriv f x :=\n  hfc.slope_lt_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"StrictConcaveOn.lt_slope_of_hasDerivWithinAt_Iio","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' (Set.Iio y) y\nâŠ¢ LT.lt f' (slope f x y)","decl":"lemma lt_slope_of_hasDerivWithinAt_Iio (hfc : StrictConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' (Iio y) y) :\n    f' < slope f x y := by\n  simpa only [Pi.neg_def, slope_neg, neg_neg] using\n    neg_lt_neg (hfc.neg.slope_lt_of_hasDerivWithinAt_Iio hx hy hxy hf'.neg)\n\n"}
{"name":"StrictConcaveOn.leftDeriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LT.lt (derivWithin f (Set.Iio y) y) (slope f x y)","decl":"lemma leftDeriv_lt_slope (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f (Iio y) y) :\n    derivWithin f (Iio y) y < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt_Iio hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConcaveOn.left_deriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f (Set.Iio y) y\nâŠ¢ LT.lt (derivWithin f (Set.Iio y) y) (slope f x y)","decl":"@[deprecated (since := \"2025-01-26\")]\nalias left_deriv_lt_slope := leftDeriv_lt_slope\n\n"}
{"name":"StrictConcaveOn.lt_slope_of_hasDerivWithinAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivWithinAt f f' S y\nâŠ¢ LT.lt f' (slope f x y)","decl":"lemma lt_slope_of_hasDerivWithinAt (hfc : StrictConcaveOn â„ S f)\n    (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y) (hf' : HasDerivWithinAt f f' S y) :\n    f' < slope f x y := by\n  simpa only [neg_neg, Pi.neg_def, slope_neg] using\n    neg_lt_neg (hfc.neg.slope_lt_of_hasDerivWithinAt hx hy hxy hf'.neg)\n\n"}
{"name":"StrictConcaveOn.derivWithin_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableWithinAt Real f S y\nâŠ¢ LT.lt (derivWithin f S y) (slope f x y)","decl":"lemma derivWithin_lt_slope (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableWithinAt â„ f S y) :\n    derivWithin f S y < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt hx hy hxy hfd.hasDerivWithinAt\n\n"}
{"name":"StrictConcaveOn.lt_slope_of_hasDerivAt","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y f' : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhf' : HasDerivAt f f' y\nâŠ¢ LT.lt f' (slope f x y)","decl":"lemma lt_slope_of_hasDerivAt (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hf' : HasDerivAt f f' y) :\n    f' < slope f x y :=\n  hfc.lt_slope_of_hasDerivWithinAt_Iio hx hy hxy hf'.hasDerivWithinAt\n\n"}
{"name":"StrictConcaveOn.deriv_lt_slope","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nx y : Real\nhfc : StrictConcaveOn Real S f\nhx : Membership.mem S x\nhy : Membership.mem S y\nhxy : LT.lt x y\nhfd : DifferentiableAt Real f y\nâŠ¢ LT.lt (deriv f y) (slope f x y)","decl":"lemma deriv_lt_slope (hfc : StrictConcaveOn â„ S f) (hx : x âˆˆ S) (hy : y âˆˆ S) (hxy : x < y)\n    (hfd : DifferentiableAt â„ f y) :\n    deriv f y < slope f x y :=\n  hfc.lt_slope_of_hasDerivAt hx hy hxy hfd.hasDerivAt\n\n"}
{"name":"StrictConcaveOn.strictAntiOn_derivWithin","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : StrictConcaveOn Real S f\nhfd : DifferentiableOn Real f S\nâŠ¢ StrictAntiOn (derivWithin f S) S","decl":"lemma strictAntiOn_derivWithin (hfc : StrictConcaveOn â„ S f) (hfd : DifferentiableOn â„ f S) :\n    StrictAntiOn (derivWithin f S) S := by\n  intro x hx y hy hxy\n  exact (hfc.derivWithin_lt_slope hx hy hxy (hfd y hy)).trans\n    (hfc.slope_lt_derivWithin hx hy hxy (hfd x hx))\n\n"}
{"name":"StrictConcaveOn.strictAntiOn_deriv","module":"Mathlib.Analysis.Convex.Deriv","initialProofState":"S : Set Real\nf : Real â†’ Real\nhfc : StrictConcaveOn Real S f\nhfd : âˆ€ (x : Real), Membership.mem S x â†’ DifferentiableAt Real f x\nâŠ¢ StrictAntiOn (deriv f) S","decl":"theorem strictAntiOn_deriv (hfc : StrictConcaveOn â„ S f) (hfd : âˆ€ x âˆˆ S, DifferentiableAt â„ f x) :\n    StrictAntiOn (deriv f) S := by\n  simpa only [Pi.neg_def, deriv.neg, neg_neg] using\n    (hfc.neg.strictMonoOn_deriv (fun x hx â†¦ (hfd x hx).neg)).neg\n\n"}
