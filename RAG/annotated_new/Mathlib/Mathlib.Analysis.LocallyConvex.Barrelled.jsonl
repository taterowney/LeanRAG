{"name":"BarrelledSpace.continuous_of_lowerSemicontinuous","module":"Mathlib.Analysis.LocallyConvex.Barrelled","initialProofState":"𝕜 : Type u_1\nE : Type u_2\ninst✝³ : SeminormedRing 𝕜\ninst✝² : AddGroup E\ninst✝¹ : SMul 𝕜 E\ninst✝ : TopologicalSpace E\nself : BarrelledSpace 𝕜 E\np : Seminorm 𝕜 E\na✝ : LowerSemicontinuous ⇑p\n⊢ Continuous ⇑p","decl":"/-- A topological vector space `E` is said to be **barrelled** if all lower semicontinuous\nseminorms on `E` are actually continuous. This is not the usual definition for TVS over `ℝ` or `ℂ`,\nbut this has the big advantage of working and giving sensible results over *any*\n`NontriviallyNormedField`. In particular, the Banach-Steinhaus theorem holds for maps between such\na space and any space whose topology is generated by a family of seminorms. -/\nclass BarrelledSpace (𝕜 E : Type*) [SeminormedRing 𝕜] [AddGroup E] [SMul 𝕜 E]\n    [TopologicalSpace E] : Prop where\n  /-- In a barrelled space, all lower semicontinuous seminorms on `E` are actually continuous. -/\n  continuous_of_lowerSemicontinuous : ∀ p : Seminorm 𝕜 E, LowerSemicontinuous p → Continuous p\n\n"}
{"name":"Seminorm.continuous_of_lowerSemicontinuous","module":"Mathlib.Analysis.LocallyConvex.Barrelled","initialProofState":"𝕜 : Type u_1\nE : Type u_2\ninst✝⁴ : AddGroup E\ninst✝³ : SMul 𝕜 E\ninst✝² : SeminormedRing 𝕜\ninst✝¹ : TopologicalSpace E\ninst✝ : BarrelledSpace 𝕜 E\np : Seminorm 𝕜 E\nhp : LowerSemicontinuous ⇑p\n⊢ Continuous ⇑p","decl":"theorem Seminorm.continuous_of_lowerSemicontinuous {𝕜 E : Type*} [AddGroup E] [SMul 𝕜 E]\n    [SeminormedRing 𝕜] [TopologicalSpace E] [BarrelledSpace 𝕜 E] (p : Seminorm 𝕜 E)\n    (hp : LowerSemicontinuous p) : Continuous p :=\n  BarrelledSpace.continuous_of_lowerSemicontinuous p hp\n\n"}
{"name":"Seminorm.continuous_iSup","module":"Mathlib.Analysis.LocallyConvex.Barrelled","initialProofState":"ι : Sort u_1\n𝕜 : Type u_2\nE : Type u_3\ninst✝⁴ : NormedField 𝕜\ninst✝³ : AddCommGroup E\ninst✝² : Module 𝕜 E\ninst✝¹ : TopologicalSpace E\ninst✝ : BarrelledSpace 𝕜 E\np : ι → Seminorm 𝕜 E\nhp : ∀ (i : ι), Continuous ⇑(p i)\nbdd : BddAbove (Set.range p)\n⊢ Continuous (iSup fun i => ⇑(p i))","decl":"theorem Seminorm.continuous_iSup\n    {ι : Sort*} {𝕜 E : Type*} [NormedField 𝕜]  [AddCommGroup E] [Module 𝕜 E]\n    [TopologicalSpace E] [BarrelledSpace 𝕜 E] (p : ι → Seminorm 𝕜 E)\n    (hp : ∀ i, Continuous (p i)) (bdd : BddAbove (range p)) :\n    Continuous (⨆ i, p i) := by\n  rw [← Seminorm.coe_iSup_eq bdd]\n  refine Seminorm.continuous_of_lowerSemicontinuous _ ?_\n  rw [Seminorm.coe_iSup_eq bdd]\n  rw [Seminorm.bddAbove_range_iff] at bdd\n  convert lowerSemicontinuous_ciSup (f := fun i x ↦ p i x) bdd (fun i ↦ (hp i).lowerSemicontinuous)\n  exact iSup_apply\n\n"}
{"name":"BaireSpace.instBarrelledSpace","module":"Mathlib.Analysis.LocallyConvex.Barrelled","initialProofState":"𝕜₁ : Type u_4\nE : Type u_6\ninst✝⁶ : NontriviallyNormedField 𝕜₁\ninst✝⁵ : AddCommGroup E\ninst✝⁴ : Module 𝕜₁ E\ninst✝³ : TopologicalSpace E\ninst✝² : TopologicalAddGroup E\ninst✝¹ : ContinuousConstSMul 𝕜₁ E\ninst✝ : BaireSpace E\n⊢ BarrelledSpace 𝕜₁ E","decl":"/-- Any TVS over a `NontriviallyNormedField` that is also a Baire space is barrelled. In\nparticular, this applies to Banach spaces and Fréchet spaces. -/\ninstance BaireSpace.instBarrelledSpace [TopologicalSpace E] [TopologicalAddGroup E]\n    [ContinuousConstSMul 𝕜₁ E] [BaireSpace E] :\n    BarrelledSpace 𝕜₁ E where\n  continuous_of_lowerSemicontinuous := by\n    -- Let `p` be a lower-semicontinuous seminorm on `E`.\n    intro p hp\n    -- Consider the family of all `p`-closed-balls with integer radius.\n    -- By lower semicontinuity, each of these closed balls is indeed closed...\n    have h₁ : ∀ n : ℕ, IsClosed (p.closedBall (0 : E) n) := fun n ↦ by\n      simpa [p.closedBall_zero_eq] using hp.isClosed_preimage n\n    -- ... and clearly they cover the whole space.\n    have h₂ : (⋃ n : ℕ, p.closedBall (0 : E) n) = univ :=\n      eq_univ_of_forall fun x ↦ mem_iUnion.mpr (exists_nat_ge <| p (x - 0))\n    -- Hence, one of them has nonempty interior. Let `n : ℕ` be its radius, and fix `x` an\n    -- interior point.\n    rcases nonempty_interior_of_iUnion_of_closed h₁ h₂ with ⟨n, ⟨x, hxn⟩⟩\n    -- To show that `p` is continuous, we will show that the `p`-closed-ball of\n    -- radius `2*n` is a neighborhood of zero.\n    refine Seminorm.continuous' (r := n + n) ?_\n    rw [p.closedBall_zero_eq] at hxn ⊢\n    have hxn' : p x ≤ n := by convert interior_subset hxn\n    -- By definition, we have `p x' ≤ n` for `x'` sufficiently close to `x`.\n    -- In other words, `p (x + y) ≤ n` for `y` sufficiently close to `0`.\n    rw [mem_interior_iff_mem_nhds, ← map_add_left_nhds_zero] at hxn\n    -- Hence, for `y` sufficiently close to `0`, we have\n    -- `p y = p (x + y - x) ≤ p (x + y) + p x ≤ 2*n`\n    filter_upwards [hxn] with y hy\n    calc p y = p (x + y - x) := by rw [add_sub_cancel_left]\n      _ ≤ p (x + y) + p x := map_sub_le_add _ _ _\n      _ ≤ n + n := add_le_add hy hxn'\n\n"}
{"name":"WithSeminorms.banach_steinhaus","module":"Mathlib.Analysis.LocallyConvex.Barrelled","initialProofState":"ι : Type u_2\nκ : Type u_3\n𝕜₁ : Type u_4\n𝕜₂ : Type u_5\nE : Type u_6\nF : Type u_7\ninst✝¹³ : Nonempty κ\ninst✝¹² : NontriviallyNormedField 𝕜₁\ninst✝¹¹ : NontriviallyNormedField 𝕜₂\nσ₁₂ : RingHom 𝕜₁ 𝕜₂\ninst✝¹⁰ : RingHomIsometric σ₁₂\ninst✝⁹ : AddCommGroup E\ninst✝⁸ : AddCommGroup F\ninst✝⁷ : Module 𝕜₁ E\ninst✝⁶ : Module 𝕜₂ F\ninst✝⁵ : UniformSpace E\ninst✝⁴ : UniformSpace F\ninst✝³ : UniformAddGroup E\ninst✝² : UniformAddGroup F\ninst✝¹ : ContinuousSMul 𝕜₁ E\ninst✝ : BarrelledSpace 𝕜₁ E\n𝓕 : ι → ContinuousLinearMap σ₁₂ E F\nq : SeminormFamily 𝕜₂ F κ\nhq : WithSeminorms q\nH : ∀ (k : κ) (x : E), BddAbove (Set.range fun i => (q k) ((𝓕 i) x))\n⊢ UniformEquicontinuous (Function.comp DFunLike.coe 𝓕)","decl":"/-- The **Banach-Steinhaus** theorem, or **Uniform Boundedness Principle**, for maps from a\nbarrelled space to any space whose topology is generated by a family of seminorms. Use\n`WithSeminorms.equicontinuous_TFAE` and `Seminorm.bound_of_continuous` to get explicit bounds on\nthe seminorms from equicontinuity. -/\nprotected theorem banach_steinhaus (H : ∀ k x, BddAbove (range fun i ↦ q k (𝓕 i x))) :\n    UniformEquicontinuous ((↑) ∘ 𝓕) := by\n  -- We just have to prove that `⊔ i, (q k) ∘ (𝓕 i)` is a (well-defined) continuous seminorm\n  -- for all `k`.\n  refine (hq.uniformEquicontinuous_iff_bddAbove_and_continuous_iSup (toLinearMap ∘ 𝓕)).mpr ?_\n  intro k\n  -- By assumption the supremum `⊔ i, q k (𝓕 i x)` is well-defined for all `x`, hence the\n  -- supremum `⊔ i, (q k) ∘ (𝓕 i)` is well defined in the lattice of seminorms.\n  have : BddAbove (range fun i ↦ (q k).comp (𝓕 i).toLinearMap) := by\n    rw [Seminorm.bddAbove_range_iff]\n    exact H k\n  -- By definition of the lattice structure on seminorms, `⊔ i, (q k) ∘ (𝓕 i)` is the *pointwise*\n  -- supremum of the continuous seminorms `(q k) ∘ (𝓕 i)`. Since `E` is barrelled, this supremum\n  -- is continuous.\n  exact ⟨this, Seminorm.continuous_iSup _\n    (fun i ↦ (hq.continuous_seminorm k).comp (𝓕 i).continuous) this⟩\n\n"}
