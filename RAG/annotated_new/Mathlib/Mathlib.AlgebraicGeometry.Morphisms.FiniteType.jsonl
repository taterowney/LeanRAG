{"name":"AlgebraicGeometry.LocallyOfFiniteType.finiteType_of_affine_subset","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\nself : AlgebraicGeometry.LocallyOfFiniteType f\nU : ↑Y.affineOpens\nV : ↑X.affineOpens\ne : LE.le (↑V) ((TopologicalSpace.Opens.map f.base).obj ↑U)\n⊢ (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.appLE f (↑U) (↑V) e)).FiniteType","decl":"/-- A morphism of schemes `f : X ⟶ Y` is locally of finite type if for each affine `U ⊆ Y` and\n`V ⊆ f ⁻¹' U`, The induced map `Γ(Y, U) ⟶ Γ(X, V)` is of finite type.\n-/\n@[mk_iff]\nclass LocallyOfFiniteType (f : X ⟶ Y) : Prop where\n  finiteType_of_affine_subset :\n    ∀ (U : Y.affineOpens) (V : X.affineOpens) (e : V.1 ≤ f ⁻¹ᵁ U.1), (f.appLE U V e).hom.FiniteType\n\n"}
{"name":"AlgebraicGeometry.locallyOfFiniteType_iff","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\n⊢ Iff (AlgebraicGeometry.LocallyOfFiniteType f) (∀ (U : ↑Y.affineOpens) (V : ↑X.affineOpens) (e : LE.le (↑V) ((TopologicalSpace.Opens.map f.base).obj ↑U)), (CommRingCat.Hom.hom (AlgebraicGeometry.Scheme.Hom.appLE f (↑U) (↑V) e)).FiniteType)","decl":"/-- A morphism of schemes `f : X ⟶ Y` is locally of finite type if for each affine `U ⊆ Y` and\n`V ⊆ f ⁻¹' U`, The induced map `Γ(Y, U) ⟶ Γ(X, V)` is of finite type.\n-/\n@[mk_iff]\nclass LocallyOfFiniteType (f : X ⟶ Y) : Prop where\n  finiteType_of_affine_subset :\n    ∀ (U : Y.affineOpens) (V : X.affineOpens) (e : V.1 ≤ f ⁻¹ᵁ U.1), (f.appLE U V e).hom.FiniteType\n\n"}
{"name":"AlgebraicGeometry.instHasRingHomPropertyLocallyOfFiniteTypeFiniteType","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"⊢ AlgebraicGeometry.HasRingHomProperty @AlgebraicGeometry.LocallyOfFiniteType fun {R S} [CommRing R] [CommRing S] => RingHom.FiniteType","decl":"instance : HasRingHomProperty @LocallyOfFiniteType RingHom.FiniteType where\n  isLocal_ringHomProperty := RingHom.finiteType_is_local\n  eq_affineLocally' := by\n    ext X Y f\n    rw [locallyOfFiniteType_iff, affineLocally_iff_affineOpens_le]\n\n"}
{"name":"AlgebraicGeometry.locallyOfFiniteType_of_isOpenImmersion","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst✝ : AlgebraicGeometry.IsOpenImmersion f\n⊢ AlgebraicGeometry.LocallyOfFiniteType f","decl":"instance (priority := 900) locallyOfFiniteType_of_isOpenImmersion [IsOpenImmersion f] :\n    LocallyOfFiniteType f :=\n  HasRingHomProperty.of_isOpenImmersion\n    RingHom.finiteType_holdsForLocalizationAway.containsIdentities\n\n"}
{"name":"AlgebraicGeometry.instIsStableUnderCompositionSchemeLocallyOfFiniteType","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsStableUnderComposition @AlgebraicGeometry.LocallyOfFiniteType","decl":"instance : MorphismProperty.IsStableUnderComposition @LocallyOfFiniteType :=\n  HasRingHomProperty.stableUnderComposition RingHom.finiteType_stableUnderComposition\n\n"}
{"name":"AlgebraicGeometry.locallyOfFiniteType_comp","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y Z : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ng : Quiver.Hom Y Z\nhf : AlgebraicGeometry.LocallyOfFiniteType f\nhg : AlgebraicGeometry.LocallyOfFiniteType g\n⊢ AlgebraicGeometry.LocallyOfFiniteType (CategoryTheory.CategoryStruct.comp f g)","decl":"instance locallyOfFiniteType_comp {X Y Z : Scheme} (f : X ⟶ Y) (g : Y ⟶ Z)\n    [hf : LocallyOfFiniteType f] [hg : LocallyOfFiniteType g] : LocallyOfFiniteType (f ≫ g) :=\n  MorphismProperty.comp_mem _ f g hf hg\n\n"}
{"name":"AlgebraicGeometry.locallyOfFiniteType_of_comp","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y Z : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ng : Quiver.Hom Y Z\ninst✝ : AlgebraicGeometry.LocallyOfFiniteType (CategoryTheory.CategoryStruct.comp f g)\n⊢ AlgebraicGeometry.LocallyOfFiniteType f","decl":"theorem locallyOfFiniteType_of_comp {X Y Z : Scheme} (f : X ⟶ Y) (g : Y ⟶ Z)\n    [LocallyOfFiniteType (f ≫ g)] : LocallyOfFiniteType f :=\n  HasRingHomProperty.of_comp (fun _ _ ↦ RingHom.FiniteType.of_comp_finiteType) ‹_›\n\n"}
{"name":"AlgebraicGeometry.instIsMultiplicativeSchemeLocallyOfFiniteType","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsMultiplicative @AlgebraicGeometry.LocallyOfFiniteType","decl":"instance : MorphismProperty.IsMultiplicative @LocallyOfFiniteType where\n  id_mem _ := inferInstance\n\n"}
{"name":"AlgebraicGeometry.locallyOfFiniteType_isStableUnderBaseChange","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"⊢ CategoryTheory.MorphismProperty.IsStableUnderBaseChange @AlgebraicGeometry.LocallyOfFiniteType","decl":"open scoped TensorProduct in\ninstance locallyOfFiniteType_isStableUnderBaseChange :\n    MorphismProperty.IsStableUnderBaseChange @LocallyOfFiniteType :=\n  HasRingHomProperty.isStableUnderBaseChange RingHom.finiteType_isStableUnderBaseChange\n\n"}
{"name":"AlgebraicGeometry.instJacobsonSpaceαTopologicalSpaceCarrierCommRingCatSpecOfOfIsJacobsonRing","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"R : Type u_1\ninst✝¹ : CommRing R\ninst✝ : IsJacobsonRing R\n⊢ JacobsonSpace ↑↑(AlgebraicGeometry.Spec (CommRingCat.of R)).toPresheafedSpace","decl":"instance {R} [CommRing R] [IsJacobsonRing R] : JacobsonSpace (Spec (.of R)) :=\n  inferInstanceAs (JacobsonSpace (PrimeSpectrum R))\n\n"}
{"name":"AlgebraicGeometry.instJacobsonSpaceαTopologicalSpaceCarrierCommRingCatSpecOfIsJacobsonRingCarrier","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"R : CommRingCat\ninst✝ : IsJacobsonRing ↑R\n⊢ JacobsonSpace ↑↑(AlgebraicGeometry.Spec R).toPresheafedSpace","decl":"instance {R : CommRingCat} [IsJacobsonRing R] : JacobsonSpace (Spec R) :=\n  inferInstanceAs (JacobsonSpace (PrimeSpectrum R))\n\n"}
{"name":"AlgebraicGeometry.LocallyOfFiniteType.jacobsonSpace","module":"Mathlib.AlgebraicGeometry.Morphisms.FiniteType","initialProofState":"X Y : AlgebraicGeometry.Scheme\nf : Quiver.Hom X Y\ninst✝¹ : AlgebraicGeometry.LocallyOfFiniteType f\ninst✝ : JacobsonSpace ↑↑Y.toPresheafedSpace\n⊢ JacobsonSpace ↑↑X.toPresheafedSpace","decl":"nonrec lemma LocallyOfFiniteType.jacobsonSpace\n  (f : X ⟶ Y) [LocallyOfFiniteType f] [JacobsonSpace Y] : JacobsonSpace X := by\n  wlog hY : ∃ S, Y = Spec S\n  · rw [jacobsonSpace_iff_of_iSup_eq_top\n      (Scheme.OpenCover.iSup_opensRange (Y.affineCover.pullbackCover f))]\n    intro i\n    have inst : LocallyOfFiniteType (Y.affineCover.pullbackHom f i) :=\n      MorphismProperty.pullback_snd _ _ inferInstance\n    have inst : JacobsonSpace Y := ‹_› -- TC gets stuck on the WLOG hypothesis without it.\n    have inst : JacobsonSpace (Y.affineCover.obj i) :=\n      .of_isOpenEmbedding (Y.affineCover.map i).isOpenEmbedding\n    let e := Homeomorph.ofIsEmbedding _\n      ((Y.affineCover.pullbackCover f).map i).isOpenEmbedding.isEmbedding\n    have := this (Y.affineCover.pullbackHom f i) ⟨_, rfl⟩\n    exact .of_isClosedEmbedding e.symm.isClosedEmbedding\n  obtain ⟨R, rfl⟩ := hY\n  wlog hX : ∃ S, X = Spec S\n  · have inst : JacobsonSpace (Spec R) := ‹_› -- TC gets stuck on the WLOG hypothesis without it.\n    rw [jacobsonSpace_iff_of_iSup_eq_top (Scheme.OpenCover.iSup_opensRange X.affineCover)]\n    intro i\n    have := this _ (X.affineCover.map i ≫ f) ⟨_, rfl⟩\n    let e := Homeomorph.ofIsEmbedding _ (X.affineCover.map i).isOpenEmbedding.isEmbedding\n    exact .of_isClosedEmbedding e.symm.isClosedEmbedding\n  obtain ⟨S, rfl⟩ := hX\n  obtain ⟨φ, rfl : Spec.map φ = f⟩ := Spec.homEquiv.symm.surjective f\n  have : RingHom.FiniteType φ.hom := HasRingHomProperty.Spec_iff.mp ‹_›\n  algebraize [φ.hom]\n  have := PrimeSpectrum.isJacobsonRing_iff_jacobsonSpace.mpr ‹_›\n  exact PrimeSpectrum.isJacobsonRing_iff_jacobsonSpace.mp (isJacobsonRing_of_finiteType (A := R))\n\n"}
