{"name":"SmoothBumpCovering.embeddingPiTangent_coe","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\ns : Set M\nf : SmoothBumpCovering Œπ I M s\n‚ä¢ Eq ‚áëf.embeddingPiTangent fun x i => { fst := HSMul.hSMul (‚Üë(f.toFun i) x) (‚Üë(extChartAt I (f.c i)) x), snd := ‚Üë(f.toFun i) x }","decl":"@[local simp]\ntheorem embeddingPiTangent_coe :\n    ‚áëf.embeddingPiTangent = fun x i => (f i x ‚Ä¢ extChartAt I (f.c i) x, f i x) :=\n  rfl\n\n"}
{"name":"SmoothBumpCovering.embeddingPiTangent_injOn","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\ns : Set M\nf : SmoothBumpCovering Œπ I M s\n‚ä¢ Set.InjOn (‚áëf.embeddingPiTangent) s","decl":"theorem embeddingPiTangent_injOn : InjOn f.embeddingPiTangent s := by\n  intro x hx y _ h\n  simp only [embeddingPiTangent_coe, funext_iff] at h\n  obtain ‚ü®h‚ÇÅ, h‚ÇÇ‚ü© := Prod.mk.inj_iff.1 (h (f.ind x hx))\n  rw [f.apply_ind x hx] at h‚ÇÇ\n  rw [‚Üê h‚ÇÇ, f.apply_ind x hx, one_smul, one_smul] at h‚ÇÅ\n  have := f.mem_extChartAt_source_of_eq_one h‚ÇÇ.symm\n  exact (extChartAt I (f.c _)).injOn (f.mem_extChartAt_ind_source x hx) this h‚ÇÅ\n\n"}
{"name":"SmoothBumpCovering.embeddingPiTangent_injective","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\nf : SmoothBumpCovering Œπ I M\n‚ä¢ Function.Injective ‚áëf.embeddingPiTangent","decl":"theorem embeddingPiTangent_injective (f : SmoothBumpCovering Œπ I M) :\n    Injective f.embeddingPiTangent :=\n  injective_iff_injOn_univ.2 f.embeddingPiTangent_injOn\n\n"}
{"name":"SmoothBumpCovering.comp_embeddingPiTangent_mfderiv","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\ns : Set M\nf : SmoothBumpCovering Œπ I M s\nx : M\nhx : Membership.mem s x\n‚ä¢ Eq (((ContinuousLinearMap.fst Real E Real).comp (ContinuousLinearMap.proj (f.ind x hx))).comp (mfderiv I (modelWithCornersSelf Real (Œπ ‚Üí Prod E Real)) (‚áëf.embeddingPiTangent) x)) (mfderiv I I (‚Üë(chartAt H (f.c (f.ind x hx)))) x)","decl":"theorem comp_embeddingPiTangent_mfderiv (x : M) (hx : x ‚àà s) :\n    ((ContinuousLinearMap.fst ‚Ñù E ‚Ñù).comp\n            (@ContinuousLinearMap.proj ‚Ñù _ Œπ (fun _ => E √ó ‚Ñù) _ _ (fun _ => inferInstance)\n              (f.ind x hx))).comp\n        (mfderiv I ùìò(‚Ñù, Œπ ‚Üí E √ó ‚Ñù) f.embeddingPiTangent x) =\n      mfderiv I I (chartAt H (f.c (f.ind x hx))) x := by\n  set L :=\n    (ContinuousLinearMap.fst ‚Ñù E ‚Ñù).comp\n      (@ContinuousLinearMap.proj ‚Ñù _ Œπ (fun _ => E √ó ‚Ñù) _ _ (fun _ => inferInstance) (f.ind x hx))\n  have := L.hasMFDerivAt.comp x\n    (f.embeddingPiTangent.contMDiff.mdifferentiableAt (mod_cast le_top)).hasMFDerivAt\n  convert hasMFDerivAt_unique this _\n  refine (hasMFDerivAt_extChartAt (f.mem_chartAt_ind_source x hx)).congr_of_eventuallyEq ?_\n  refine (f.eventuallyEq_one x hx).mono fun y hy => ?_\n  simp only [L, embeddingPiTangent_coe, ContinuousLinearMap.coe_comp', (¬∑ ‚àò ¬∑),\n    ContinuousLinearMap.coe_fst', ContinuousLinearMap.proj_apply]\n  rw [hy, Pi.one_apply, one_smul]\n\n"}
{"name":"SmoothBumpCovering.embeddingPiTangent_ker_mfderiv","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\ns : Set M\nf : SmoothBumpCovering Œπ I M s\nx : M\nhx : Membership.mem s x\n‚ä¢ Eq (LinearMap.ker (mfderiv I (modelWithCornersSelf Real (Œπ ‚Üí Prod E Real)) (‚áëf.embeddingPiTangent) x)) Bot.bot","decl":"theorem embeddingPiTangent_ker_mfderiv (x : M) (hx : x ‚àà s) :\n    LinearMap.ker (mfderiv I ùìò(‚Ñù, Œπ ‚Üí E √ó ‚Ñù) f.embeddingPiTangent x) = ‚ä• := by\n  apply bot_unique\n  rw [‚Üê (mdifferentiable_chart (f.c (f.ind x hx))).ker_mfderiv_eq_bot\n      (f.mem_chartAt_ind_source x hx),\n    ‚Üê comp_embeddingPiTangent_mfderiv]\n  exact LinearMap.ker_le_ker_comp _ _\n\n"}
{"name":"SmoothBumpCovering.embeddingPiTangent_injective_mfderiv","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"Œπ : Type uŒπ\nE : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : Fintype Œπ\ns : Set M\nf : SmoothBumpCovering Œπ I M s\nx : M\nhx : Membership.mem s x\n‚ä¢ Function.Injective ‚áë(mfderiv I (modelWithCornersSelf Real (Œπ ‚Üí Prod E Real)) (‚áëf.embeddingPiTangent) x)","decl":"theorem embeddingPiTangent_injective_mfderiv (x : M) (hx : x ‚àà s) :\n    Injective (mfderiv I ùìò(‚Ñù, Œπ ‚Üí E √ó ‚Ñù) f.embeddingPiTangent x) :=\n  LinearMap.ker_eq_bot.1 (f.embeddingPiTangent_ker_mfderiv x hx)\n\n"}
{"name":"SmoothBumpCovering.exists_immersion_euclidean","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"E : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\nŒπ : Type u_1\ninst‚úù : Finite Œπ\nf : SmoothBumpCovering Œπ I M\n‚ä¢ Exists fun n => Exists fun e => And (ContMDiff I (modelWithCornersSelf Real (EuclideanSpace Real (Fin n))) (‚ÜëTop.top) e) (And (Function.Injective e) (‚àÄ (x : M), Function.Injective ‚áë(mfderiv I (modelWithCornersSelf Real (EuclideanSpace Real (Fin n))) e x)))","decl":"/-- Baby version of the **Whitney weak embedding theorem**: if `M` admits a finite covering by\nsupports of bump functions, then for some `n` it can be immersed into the `n`-dimensional\nEuclidean space. -/\ntheorem exists_immersion_euclidean {Œπ : Type*} [Finite Œπ] (f : SmoothBumpCovering Œπ I M) :\n    ‚àÉ (n : ‚Ñï) (e : M ‚Üí EuclideanSpace ‚Ñù (Fin n)),\n      ContMDiff I (ùì° n) ‚àû e ‚àß Injective e ‚àß ‚àÄ x : M, Injective (mfderiv I (ùì° n) e x) := by\n  cases nonempty_fintype Œπ\n  set F := EuclideanSpace ‚Ñù (Fin <| finrank ‚Ñù (Œπ ‚Üí E √ó ‚Ñù))\n  letI : IsNoetherian ‚Ñù (E √ó ‚Ñù) := IsNoetherian.iff_fg.2 inferInstance\n  letI : FiniteDimensional ‚Ñù (Œπ ‚Üí E √ó ‚Ñù) := IsNoetherian.iff_fg.1 inferInstance\n  set eEF : (Œπ ‚Üí E √ó ‚Ñù) ‚âÉL[‚Ñù] F :=\n    ContinuousLinearEquiv.ofFinrankEq finrank_euclideanSpace_fin.symm\n  refine ‚ü®_, eEF ‚àò f.embeddingPiTangent,\n    eEF.toDiffeomorph.contMDiff.comp f.embeddingPiTangent.contMDiff,\n    eEF.injective.comp f.embeddingPiTangent_injective, fun x => ?_‚ü©\n  rw [mfderiv_comp _ eEF.differentiableAt.mdifferentiableAt\n      (f.embeddingPiTangent.contMDiff.mdifferentiableAt (mod_cast le_top)),\n    eEF.mfderiv_eq]\n  exact eEF.injective.comp (f.embeddingPiTangent_injective_mfderiv _ trivial)\n\n"}
{"name":"exists_embedding_euclidean_of_compact","module":"Mathlib.Geometry.Manifold.WhitneyEmbedding","initialProofState":"E : Type uE\ninst‚úù‚Å∏ : NormedAddCommGroup E\ninst‚úù‚Å∑ : NormedSpace Real E\ninst‚úù‚Å∂ : FiniteDimensional Real E\nH : Type uH\ninst‚úù‚Åµ : TopologicalSpace H\nI : ModelWithCorners Real E H\nM : Type uM\ninst‚úù‚Å¥ : TopologicalSpace M\ninst‚úù¬≥ : ChartedSpace H M\ninst‚úù¬≤ : IsManifold I (‚ÜëTop.top) M\ninst‚úù¬π : T2Space M\ninst‚úù : CompactSpace M\n‚ä¢ Exists fun n => Exists fun e => And (ContMDiff I (modelWithCornersSelf Real (EuclideanSpace Real (Fin n))) (‚ÜëTop.top) e) (And (Topology.IsClosedEmbedding e) (‚àÄ (x : M), Function.Injective ‚áë(mfderiv I (modelWithCornersSelf Real (EuclideanSpace Real (Fin n))) e x)))","decl":"/-- Baby version of the Whitney weak embedding theorem: if `M` admits a finite covering by\nsupports of bump functions, then for some `n` it can be embedded into the `n`-dimensional\nEuclidean space. -/\ntheorem exists_embedding_euclidean_of_compact [T2Space M] [CompactSpace M] :\n    ‚àÉ (n : ‚Ñï) (e : M ‚Üí EuclideanSpace ‚Ñù (Fin n)),\n      ContMDiff I (ùì° n) ‚àû e ‚àß IsClosedEmbedding e ‚àß ‚àÄ x : M, Injective (mfderiv I (ùì° n) e x) := by\n  rcases SmoothBumpCovering.exists_isSubordinate I isClosed_univ fun (x : M) _ => univ_mem with\n    ‚ü®Œπ, f, -‚ü©\n  haveI := f.fintype\n  rcases f.exists_immersion_euclidean with ‚ü®n, e, hsmooth, hinj, hinj_mfderiv‚ü©\n  exact ‚ü®n, e, hsmooth, hsmooth.continuous.isClosedEmbedding hinj, hinj_mfderiv‚ü©\n"}
