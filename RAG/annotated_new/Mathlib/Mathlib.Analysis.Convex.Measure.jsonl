{"name":"Convex.addHaar_frontier","module":"Mathlib.Analysis.Convex.Measure","initialProofState":"E : Type u_1\ninstâœâµ : NormedAddCommGroup E\ninstâœâ´ : NormedSpace Real E\ninstâœÂ³ : MeasurableSpace E\ninstâœÂ² : BorelSpace E\ninstâœÂ¹ : FiniteDimensional Real E\nÎ¼ : MeasureTheory.Measure E\ninstâœ : Î¼.IsAddHaarMeasure\ns : Set E\nhs : Convex Real s\nâŠ¢ Eq (Î¼ (frontier s)) 0","decl":"/-- Haar measure of the frontier of a convex set is zero. -/\ntheorem addHaar_frontier (hs : Convex â„ s) : Î¼ (frontier s) = 0 := by\n  /- If `s` is included in a hyperplane, then `frontier s âŠ† closure s` is included in the same\n    hyperplane, hence it has measure zero. -/\n  cases' ne_or_eq (affineSpan â„ s) âŠ¤ with hspan hspan\n  Â· refine measure_mono_null ?_ (addHaar_affineSubspace _ _ hspan)\n    exact frontier_subset_closure.trans\n      (closure_minimal (subset_affineSpan _ _) (affineSpan â„ s).closed_of_finiteDimensional)\n  rw [â† hs.interior_nonempty_iff_affineSpan_eq_top] at hspan\n  rcases hspan with âŸ¨x, hxâŸ©\n  /- Without loss of generality, `s` is bounded. Indeed, `âˆ‚s âŠ† â‹ƒ n, âˆ‚(s âˆ© ball x (n + 1))`, hence it\n    suffices to prove that `âˆ€ n, Î¼ (s âˆ© ball x (n + 1)) = 0`; the latter set is bounded.\n    -/\n  suffices H : âˆ€ t : Set E, Convex â„ t â†’ x âˆˆ interior t â†’ IsBounded t â†’ Î¼ (frontier t) = 0 by\n    let B : â„• â†’ Set E := fun n => ball x (n + 1)\n    have : Î¼ (â‹ƒ n : â„•, frontier (s âˆ© B n)) = 0 := by\n      refine measure_iUnion_null fun n =>\n        H _ (hs.inter (convex_ball _ _)) ?_ (isBounded_ball.subset inter_subset_right)\n      rw [interior_inter, isOpen_ball.interior_eq]\n      exact âŸ¨hx, mem_ball_self (add_pos_of_nonneg_of_pos n.cast_nonneg zero_lt_one)âŸ©\n    refine measure_mono_null (fun y hy => ?_) this; clear this\n    set N : â„• := âŒŠdist y xâŒ‹â‚Š\n    refine mem_iUnion.2 âŸ¨N, ?_âŸ©\n    have hN : y âˆˆ B N := by simp [B, N, Nat.lt_floor_add_one]\n    suffices y âˆˆ frontier (s âˆ© B N) âˆ© B N from this.1\n    rw [frontier_inter_open_inter isOpen_ball]\n    exact âŸ¨hy, hNâŸ©\n  intro s hs hx hb\n  /- Since `s` is bounded, we have `Î¼ (interior s) â‰  âˆ`, hence it suffices to prove\n    `Î¼ (closure s) â‰¤ Î¼ (interior s)`. -/\n  replace hb : Î¼ (interior s) â‰  âˆ := (hb.subset interior_subset).measure_lt_top.ne\n  suffices Î¼ (closure s) â‰¤ Î¼ (interior s) by\n    rwa [frontier, measure_diff interior_subset_closure isOpen_interior.nullMeasurableSet hb,\n      tsub_eq_zero_iff_le]\n  /- Due to `Convex.closure_subset_image_homothety_interior_of_one_lt`, for any `r > 1` we have\n    `closure s âŠ† homothety x r '' interior s`, hence `Î¼ (closure s) â‰¤ r ^ d * Î¼ (interior s)`,\n    where `d = finrank â„ E`. -/\n  set d : â„• := Module.finrank â„ E\n  have : âˆ€ r : â„â‰¥0, 1 < r â†’ Î¼ (closure s) â‰¤ â†‘(r ^ d) * Î¼ (interior s) := fun r hr â†¦ by\n    refine (measure_mono <|\n      hs.closure_subset_image_homothety_interior_of_one_lt hx r hr).trans_eq ?_\n    rw [addHaar_image_homothety, â† NNReal.coe_pow, NNReal.abs_eq, ENNReal.ofReal_coe_nnreal]\n  have : âˆ€á¶  (r : â„â‰¥0) in ğ“[>] 1, Î¼ (closure s) â‰¤ â†‘(r ^ d) * Î¼ (interior s) :=\n    mem_of_superset self_mem_nhdsWithin this\n  -- Taking the limit as `r â†’ 1`, we get `Î¼ (closure s) â‰¤ Î¼ (interior s)`.\n  refine ge_of_tendsto ?_ this\n  refine (((ENNReal.continuous_mul_const hb).comp\n    (ENNReal.continuous_coe.comp (continuous_pow d))).tendsto' _ _ ?_).mono_left nhdsWithin_le_nhds\n  simp\n\n"}
{"name":"Convex.nullMeasurableSet","module":"Mathlib.Analysis.Convex.Measure","initialProofState":"E : Type u_1\ninstâœâµ : NormedAddCommGroup E\ninstâœâ´ : NormedSpace Real E\ninstâœÂ³ : MeasurableSpace E\ninstâœÂ² : BorelSpace E\ninstâœÂ¹ : FiniteDimensional Real E\nÎ¼ : MeasureTheory.Measure E\ninstâœ : Î¼.IsAddHaarMeasure\ns : Set E\nhs : Convex Real s\nâŠ¢ MeasureTheory.NullMeasurableSet s Î¼","decl":"/-- A convex set in a finite dimensional real vector space is null measurable with respect to an\nadditive Haar measure on this space. -/\nprotected theorem nullMeasurableSet (hs : Convex â„ s) : NullMeasurableSet s Î¼ :=\n  nullMeasurableSet_of_null_frontier (hs.addHaar_frontier Î¼)\n\n"}
