{"name":"IsometricContinuousFunctionalCalculus.isometric","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁸ : CommSemiring R\ninst✝⁷ : StarRing R\ninst✝⁶ : MetricSpace R\ninst✝⁵ : TopologicalSemiring R\ninst✝⁴ : ContinuousStar R\ninst✝³ : Ring A\ninst✝² : StarRing A\ninst✝¹ : MetricSpace A\ninst✝ : Algebra R A\nself : IsometricContinuousFunctionalCalculus R A p\na : A\nha : p a\n⊢ Isometry ⇑(cfcHom ha)","decl":"/-- An extension of the `ContinuousFunctionalCalculus` requiring that `cfcHom` is an isometry. -/\nclass IsometricContinuousFunctionalCalculus (R A : Type*) (p : outParam (A → Prop))\n    [CommSemiring R] [StarRing R] [MetricSpace R] [TopologicalSemiring R] [ContinuousStar R]\n    [Ring A] [StarRing A] [MetricSpace A] [Algebra R A]\n    extends ContinuousFunctionalCalculus R p : Prop where\n  isometric (a : A) (ha : p a) : Isometry (cfcHom ha (R := R))\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.toContinuousFunctionalCalculus","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁸ : CommSemiring R\ninst✝⁷ : StarRing R\ninst✝⁶ : MetricSpace R\ninst✝⁵ : TopologicalSemiring R\ninst✝⁴ : ContinuousStar R\ninst✝³ : Ring A\ninst✝² : StarRing A\ninst✝¹ : MetricSpace A\ninst✝ : Algebra R A\nself : IsometricContinuousFunctionalCalculus R A p\n⊢ ContinuousFunctionalCalculus R p","decl":"/-- An extension of the `ContinuousFunctionalCalculus` requiring that `cfcHom` is an isometry. -/\nclass IsometricContinuousFunctionalCalculus (R A : Type*) (p : outParam (A → Prop))\n    [CommSemiring R] [StarRing R] [MetricSpace R] [TopologicalSemiring R] [ContinuousStar R]\n    [Ring A] [StarRing A] [MetricSpace A] [Algebra R A]\n    extends ContinuousFunctionalCalculus R p : Prop where\n  isometric (a : A) (ha : p a) : Isometry (cfcHom ha (R := R))\n\n"}
{"name":"isometry_cfcHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁹ : CommSemiring R\ninst✝⁸ : StarRing R\ninst✝⁷ : MetricSpace R\ninst✝⁶ : TopologicalSemiring R\ninst✝⁵ : ContinuousStar R\ninst✝⁴ : Ring A\ninst✝³ : StarRing A\ninst✝² : MetricSpace A\ninst✝¹ : Algebra R A\ninst✝ : IsometricContinuousFunctionalCalculus R A p\na : A\nha : autoParam (p a) _auto✝\n⊢ Isometry ⇑(cfcHom ⋯)","decl":"lemma isometry_cfcHom {R A : Type*} {p : outParam (A → Prop)} [CommSemiring R] [StarRing R]\n    [MetricSpace R] [TopologicalSemiring R] [ContinuousStar R] [Ring A] [StarRing A]\n    [MetricSpace A] [Algebra R A] [IsometricContinuousFunctionalCalculus R A p]\n    (a : A) (ha : p a := by cfc_tac) :\n    Isometry (cfcHom (show p a from ha) (R := R)) :=\n  IsometricContinuousFunctionalCalculus.isometric a ha\n\n"}
{"name":"norm_cfcHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nf : ContinuousMap (↑(spectrum 𝕜 a)) 𝕜\nha : autoParam (p a) _auto✝\n⊢ Eq (Norm.norm ((cfcHom ⋯) f)) (Norm.norm f)","decl":"lemma norm_cfcHom (a : A) (f : C(σ 𝕜 a, 𝕜)) (ha : p a := by cfc_tac) :\n    ‖cfcHom (show p a from ha) f‖ = ‖f‖ := by\n  refine isometry_cfcHom a |>.norm_map_of_map_zero (map_zero _) f\n\n"}
{"name":"nnnorm_cfcHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nf : ContinuousMap (↑(spectrum 𝕜 a)) 𝕜\nha : autoParam (p a) _auto✝\n⊢ Eq (NNNorm.nnnorm ((cfcHom ⋯) f)) (NNNorm.nnnorm f)","decl":"lemma nnnorm_cfcHom (a : A) (f : C(σ 𝕜 a, 𝕜)) (ha : p a := by cfc_tac) :\n    ‖cfcHom (show p a from ha) f‖₊ = ‖f‖₊ :=\n  Subtype.ext <| norm_cfcHom a f ha\n\n"}
{"name":"IsGreatest.norm_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁵ : RCLike 𝕜\ninst✝⁴ : NormedRing A\ninst✝³ : StarRing A\ninst✝² : NormedAlgebra 𝕜 A\ninst✝¹ : IsometricContinuousFunctionalCalculus 𝕜 A p\ninst✝ : Nontrivial A\nf : 𝕜 → 𝕜\na : A\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => Norm.norm (f x)) (spectrum 𝕜 a)) (Norm.norm (cfc f a))","decl":"lemma IsGreatest.norm_cfc [Nontrivial A] (f : 𝕜 → 𝕜) (a : A)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac) (ha : p a := by cfc_tac) :\n    IsGreatest ((fun x ↦ ‖f x‖) '' spectrum 𝕜 a) ‖cfc f a‖ := by\n  obtain ⟨x, hx⟩ := ContinuousFunctionalCalculus.isCompact_spectrum a\n    |>.image_of_continuousOn hf.norm |>.exists_isGreatest <|\n    (ContinuousFunctionalCalculus.spectrum_nonempty a ha).image _\n  obtain ⟨x, hx', rfl⟩ := hx.1\n  convert hx\n  rw [cfc_apply f a, norm_cfcHom a _]\n  apply le_antisymm\n  · apply ContinuousMap.norm_le _ (norm_nonneg _) |>.mpr\n    rintro ⟨y, hy⟩\n    exact hx.2 ⟨y, hy, rfl⟩\n  · exact le_trans (by simp) <| ContinuousMap.norm_coe_le_norm _ (⟨x, hx'⟩ : σ 𝕜 a)\n\n"}
{"name":"IsGreatest.nnnorm_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁵ : RCLike 𝕜\ninst✝⁴ : NormedRing A\ninst✝³ : StarRing A\ninst✝² : NormedAlgebra 𝕜 A\ninst✝¹ : IsometricContinuousFunctionalCalculus 𝕜 A p\ninst✝ : Nontrivial A\nf : 𝕜 → 𝕜\na : A\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => NNNorm.nnnorm (f x)) (spectrum 𝕜 a)) (NNNorm.nnnorm (cfc f a))","decl":"lemma IsGreatest.nnnorm_cfc [Nontrivial A] (f : 𝕜 → 𝕜) (a : A)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac) (ha : p a := by cfc_tac) :\n    IsGreatest ((fun x ↦ ‖f x‖₊) '' σ 𝕜 a) ‖cfc f a‖₊ := by\n  convert Real.toNNReal_mono.map_isGreatest (.norm_cfc f a)\n  all_goals simp [Set.image_image, norm_toNNReal]\n\n"}
{"name":"norm_apply_le_norm_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nx : 𝕜\nhx : Membership.mem (spectrum 𝕜 a) x\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ LE.le (Norm.norm (f x)) (Norm.norm (cfc f a))","decl":"lemma norm_apply_le_norm_cfc (f : 𝕜 → 𝕜) (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σ 𝕜 a)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac) (ha : p a := by cfc_tac) :\n    ‖f x‖ ≤ ‖cfc f a‖ := by\n  revert hx\n  nontriviality A\n  exact (IsGreatest.norm_cfc f a hf ha |>.2 ⟨x, ·, rfl⟩)\n\n"}
{"name":"nnnorm_apply_le_nnnorm_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nx : 𝕜\nhx : Membership.mem (spectrum 𝕜 a) x\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ LE.le (NNNorm.nnnorm (f x)) (NNNorm.nnnorm (cfc f a))","decl":"lemma nnnorm_apply_le_nnnorm_cfc (f : 𝕜 → 𝕜) (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σ 𝕜 a)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac) (ha : p a := by cfc_tac) :\n    ‖f x‖₊ ≤ ‖cfc f a‖₊ :=\n  norm_apply_le_norm_cfc f a hx\n\n"}
{"name":"norm_cfc_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhc : LE.le 0 c\nh : ∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LE.le (Norm.norm (f x)) c\n⊢ LE.le (Norm.norm (cfc f a)) c","decl":"lemma norm_cfc_le {f : 𝕜 → 𝕜} {a : A} {c : ℝ} (hc : 0 ≤ c) (h : ∀ x ∈ σ 𝕜 a, ‖f x‖ ≤ c) :\n    ‖cfc f a‖ ≤ c := by\n  obtain (_ | _) := subsingleton_or_nontrivial A\n  · simpa [Subsingleton.elim (cfc f a) 0]\n  · refine cfc_cases (‖·‖ ≤ c) a f (by simpa) fun hf ha ↦ ?_\n    simp only [← cfc_apply f a, isLUB_le_iff (IsGreatest.norm_cfc f a hf ha |>.isLUB)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"norm_cfc_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhc : LE.le 0 c\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LE.le (Norm.norm (cfc f a)) c) (∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LE.le (Norm.norm (f x)) c)","decl":"lemma norm_cfc_le_iff (f : 𝕜 → 𝕜) (a : A) {c : ℝ} (hc : 0 ≤ c)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac)\n    (ha : p a := by cfc_tac) : ‖cfc f a‖ ≤ c ↔ ∀ x ∈ σ 𝕜 a, ‖f x‖ ≤ c :=\n  ⟨fun h _ hx ↦ norm_apply_le_norm_cfc f a hx hf ha |>.trans h, norm_cfc_le hc⟩\n\n"}
{"name":"norm_cfc_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhc : LT.lt 0 c\nh : ∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LT.lt (Norm.norm (f x)) c\n⊢ LT.lt (Norm.norm (cfc f a)) c","decl":"lemma norm_cfc_lt {f : 𝕜 → 𝕜} {a : A} {c : ℝ} (hc : 0 < c) (h : ∀ x ∈ σ 𝕜 a, ‖f x‖ < c) :\n    ‖cfc f a‖ < c := by\n  obtain (_ | _) := subsingleton_or_nontrivial A\n  · simpa [Subsingleton.elim (cfc f a) 0]\n  · refine cfc_cases (‖·‖ < c) a f (by simpa) fun hf ha ↦ ?_\n    simp only [← cfc_apply f a, (IsGreatest.norm_cfc f a hf ha |>.lt_iff)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"norm_cfc_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhc : LT.lt 0 c\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LT.lt (Norm.norm (cfc f a)) c) (∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LT.lt (Norm.norm (f x)) c)","decl":"lemma norm_cfc_lt_iff (f : 𝕜 → 𝕜) (a : A) {c : ℝ} (hc : 0 < c)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac)\n    (ha : p a := by cfc_tac) : ‖cfc f a‖ < c ↔ ∀ x ∈ σ 𝕜 a, ‖f x‖ < c :=\n  ⟨fun h _ hx ↦ norm_apply_le_norm_cfc f a hx hf ha |>.trans_lt h, norm_cfc_lt hc⟩\n\n"}
{"name":"nnnorm_cfc_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nh : ∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LE.le (NNNorm.nnnorm (f x)) c\n⊢ LE.le (NNNorm.nnnorm (cfc f a)) c","decl":"lemma nnnorm_cfc_le {f : 𝕜 → 𝕜} {a : A} (c : ℝ≥0) (h : ∀ x ∈ σ 𝕜 a, ‖f x‖₊ ≤ c) :\n    ‖cfc f a‖₊ ≤ c :=\n  norm_cfc_le c.2 h\n\n"}
{"name":"nnnorm_cfc_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LE.le (NNNorm.nnnorm (cfc f a)) c) (∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LE.le (NNNorm.nnnorm (f x)) c)","decl":"lemma nnnorm_cfc_le_iff (f : 𝕜 → 𝕜) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac)\n    (ha : p a := by cfc_tac) : ‖cfc f a‖₊ ≤ c ↔ ∀ x ∈ σ 𝕜 a, ‖f x‖₊ ≤ c :=\n  norm_cfc_le_iff f a c.2\n\n"}
{"name":"nnnorm_cfc_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nhc : LT.lt 0 c\nh : ∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LT.lt (NNNorm.nnnorm (f x)) c\n⊢ LT.lt (NNNorm.nnnorm (cfc f a)) c","decl":"lemma nnnorm_cfc_lt {f : 𝕜 → 𝕜} {a : A} {c : ℝ≥0} (hc : 0 < c) (h : ∀ x ∈ σ 𝕜 a, ‖f x‖₊ < c) :\n    ‖cfc f a‖₊ < c :=\n  norm_cfc_lt hc h\n\n"}
{"name":"nnnorm_cfc_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nhc : LT.lt 0 c\nhf : autoParam (ContinuousOn f (spectrum 𝕜 a)) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LT.lt (NNNorm.nnnorm (cfc f a)) c) (∀ (x : 𝕜), Membership.mem (spectrum 𝕜 a) x → LT.lt (NNNorm.nnnorm (f x)) c)","decl":"lemma nnnorm_cfc_lt_iff (f : 𝕜 → 𝕜) (a : A) {c : ℝ≥0} (hc : 0 < c)\n    (hf : ContinuousOn f (σ 𝕜 a) := by cfc_cont_tac)\n    (ha : p a := by cfc_tac) : ‖cfc f a‖₊ < c ↔ ∀ x ∈ σ 𝕜 a, ‖f x‖₊ < c :=\n  norm_cfc_lt_iff f a hc\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.isGreatest_norm_spectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁵ : RCLike 𝕜\ninst✝⁴ : NormedRing A\ninst✝³ : StarRing A\ninst✝² : NormedAlgebra 𝕜 A\ninst✝¹ : IsometricContinuousFunctionalCalculus 𝕜 A p\ninst✝ : Nontrivial A\na : A\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => Norm.norm x) (spectrum 𝕜 a)) (Norm.norm a)","decl":"lemma isGreatest_norm_spectrum [Nontrivial A] (a : A) (ha : p a := by cfc_tac) :\n    IsGreatest ((‖·‖) '' spectrum 𝕜 a) ‖a‖ := by\n  simpa only [cfc_id 𝕜 a] using IsGreatest.norm_cfc (id : 𝕜 → 𝕜) a\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.norm_spectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nx : 𝕜\nhx : Membership.mem (spectrum 𝕜 a) x\nha : autoParam (p a) _auto✝\n⊢ LE.le (Norm.norm x) (Norm.norm a)","decl":"lemma norm_spectrum_le (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σ 𝕜 a) (ha : p a := by cfc_tac) :\n    ‖x‖ ≤ ‖a‖ := by\n  simpa only [cfc_id 𝕜 a] using norm_apply_le_norm_cfc (id : 𝕜 → 𝕜) a hx\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.isGreatest_nnnorm_spectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁵ : RCLike 𝕜\ninst✝⁴ : NormedRing A\ninst✝³ : StarRing A\ninst✝² : NormedAlgebra 𝕜 A\ninst✝¹ : IsometricContinuousFunctionalCalculus 𝕜 A p\ninst✝ : Nontrivial A\na : A\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => NNNorm.nnnorm x) (spectrum 𝕜 a)) (NNNorm.nnnorm a)","decl":"lemma isGreatest_nnnorm_spectrum [Nontrivial A] (a : A) (ha : p a := by cfc_tac) :\n    IsGreatest ((‖·‖₊) '' spectrum 𝕜 a) ‖a‖₊ := by\n  simpa only [cfc_id 𝕜 a] using IsGreatest.nnnorm_cfc (id : 𝕜 → 𝕜) a\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.nnnorm_spectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nx : 𝕜\nhx : Membership.mem (spectrum 𝕜 a) x\nha : autoParam (p a) _auto✝\n⊢ LE.le (NNNorm.nnnorm x) (NNNorm.nnnorm a)","decl":"lemma nnnorm_spectrum_le (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σ 𝕜 a) (ha : p a := by cfc_tac) :\n    ‖x‖₊ ≤ ‖a‖₊ := by\n  simpa only [cfc_id 𝕜 a] using nnnorm_apply_le_nnnorm_cfc (id : 𝕜 → 𝕜) a hx\n\n"}
{"name":"SpectrumRestricts.isometric_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nS : Type u_2\nA : Type u_3\np q : A → Prop\ninst✝²¹ : Semifield R\ninst✝²⁰ : StarRing R\ninst✝¹⁹ : MetricSpace R\ninst✝¹⁸ : TopologicalSemiring R\ninst✝¹⁷ : ContinuousStar R\ninst✝¹⁶ : Semifield S\ninst✝¹⁵ : StarRing S\ninst✝¹⁴ : MetricSpace S\ninst✝¹³ : TopologicalSemiring S\ninst✝¹² : ContinuousStar S\ninst✝¹¹ : Ring A\ninst✝¹⁰ : StarRing A\ninst✝⁹ : Algebra S A\ninst✝⁸ : Algebra R S\ninst✝⁷ : Algebra R A\ninst✝⁶ : IsScalarTower R S A\ninst✝⁵ : StarModule R S\ninst✝⁴ : ContinuousSMul R S\ninst✝³ : MetricSpace A\ninst✝² : IsometricContinuousFunctionalCalculus S A q\ninst✝¹ : CompleteSpace R\ninst✝ : ContinuousMap.UniqueHom R A\nf : ContinuousMap S R\nhalg : Isometry ⇑(algebraMap R S)\nh0 : p 0\nh : ∀ (a : A), Iff (p a) (And (q a) (SpectrumRestricts a ⇑f))\n⊢ IsometricContinuousFunctionalCalculus R A p","decl":"open scoped ContinuousFunctionalCalculus in\nprotected theorem isometric_cfc (f : C(S, R)) (halg : Isometry (algebraMap R S)) (h0 : p 0)\n    (h : ∀ a, p a ↔ q a ∧ SpectrumRestricts a f) :\n    IsometricContinuousFunctionalCalculus R A p where\n  toContinuousFunctionalCalculus := SpectrumRestricts.cfc f halg.isUniformEmbedding h0 h\n  isometric a ha := by\n    obtain ⟨ha', haf⟩ := h a |>.mp ha\n    have _inst (a : A) : CompactSpace (σ R a) := by\n      rw [← isCompact_iff_compactSpace, ← spectrum.preimage_algebraMap S]\n      exact halg.isClosedEmbedding.isCompact_preimage <|\n        ContinuousFunctionalCalculus.isCompact_spectrum a\n    have := SpectrumRestricts.cfc f halg.isUniformEmbedding h0 h\n    rw [cfcHom_eq_restrict f halg.isUniformEmbedding ha ha' haf]\n    refine .of_dist_eq fun g₁ g₂ ↦ ?_\n    simp only [starAlgHom_apply, isometry_cfcHom a ha' |>.dist_eq]\n    refine le_antisymm ?_ ?_\n    all_goals refine ContinuousMap.dist_le dist_nonneg |>.mpr fun x ↦ ?_\n    · simpa [halg.dist_eq] using ContinuousMap.dist_apply_le_dist _\n    · let x' : σ S a := Subtype.map (algebraMap R S) (fun _ ↦ spectrum.algebraMap_mem S) x\n      apply le_of_eq_of_le ?_ <| ContinuousMap.dist_apply_le_dist x'\n      simp only [ContinuousMap.comp_apply, ContinuousMap.coe_mk, StarAlgHom.ofId_apply,\n        halg.dist_eq, x']\n      congr!\n      all_goals ext; exact haf.left_inv _ |>.symm\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.isometric","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝¹¹ : CommSemiring R\ninst✝¹⁰ : Nontrivial R\ninst✝⁹ : StarRing R\ninst✝⁸ : MetricSpace R\ninst✝⁷ : TopologicalSemiring R\ninst✝⁶ : ContinuousStar R\ninst✝⁵ : NonUnitalRing A\ninst✝⁴ : StarRing A\ninst✝³ : MetricSpace A\ninst✝² : Module R A\ninst✝¹ : IsScalarTower R A A\ninst✝ : SMulCommClass R A A\nself : NonUnitalIsometricContinuousFunctionalCalculus R A p\na : A\nha : p a\n⊢ Isometry ⇑(cfcₙHom ha)","decl":"/-- An extension of the `NonUnitalContinuousFunctionalCalculus` requiring that `cfcₙHom` is an\nisometry. -/\nclass NonUnitalIsometricContinuousFunctionalCalculus (R A : Type*) (p : outParam (A → Prop))\n    [CommSemiring R] [Nontrivial R] [StarRing R] [MetricSpace R] [TopologicalSemiring R]\n    [ContinuousStar R] [NonUnitalRing A] [StarRing A] [MetricSpace A] [Module R A]\n    [IsScalarTower R A A] [SMulCommClass R A A]\n    extends NonUnitalContinuousFunctionalCalculus R p : Prop where\n  isometric (a : A) (ha : p a) : Isometry (cfcₙHom ha (R := R))\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.toNonUnitalContinuousFunctionalCalculus","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝¹¹ : CommSemiring R\ninst✝¹⁰ : Nontrivial R\ninst✝⁹ : StarRing R\ninst✝⁸ : MetricSpace R\ninst✝⁷ : TopologicalSemiring R\ninst✝⁶ : ContinuousStar R\ninst✝⁵ : NonUnitalRing A\ninst✝⁴ : StarRing A\ninst✝³ : MetricSpace A\ninst✝² : Module R A\ninst✝¹ : IsScalarTower R A A\ninst✝ : SMulCommClass R A A\nself : NonUnitalIsometricContinuousFunctionalCalculus R A p\n⊢ NonUnitalContinuousFunctionalCalculus R p","decl":"/-- An extension of the `NonUnitalContinuousFunctionalCalculus` requiring that `cfcₙHom` is an\nisometry. -/\nclass NonUnitalIsometricContinuousFunctionalCalculus (R A : Type*) (p : outParam (A → Prop))\n    [CommSemiring R] [Nontrivial R] [StarRing R] [MetricSpace R] [TopologicalSemiring R]\n    [ContinuousStar R] [NonUnitalRing A] [StarRing A] [MetricSpace A] [Module R A]\n    [IsScalarTower R A A] [SMulCommClass R A A]\n    extends NonUnitalContinuousFunctionalCalculus R p : Prop where\n  isometric (a : A) (ha : p a) : Isometry (cfcₙHom ha (R := R))\n\n"}
{"name":"isometry_cfcₙHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝¹² : CommSemiring R\ninst✝¹¹ : Nontrivial R\ninst✝¹⁰ : StarRing R\ninst✝⁹ : MetricSpace R\ninst✝⁸ : TopologicalSemiring R\ninst✝⁷ : ContinuousStar R\ninst✝⁶ : NonUnitalRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : MetricSpace A\ninst✝³ : Module R A\ninst✝² : IsScalarTower R A A\ninst✝¹ : SMulCommClass R A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus R A p\na : A\nha : autoParam (p a) _auto✝\n⊢ Isometry ⇑(cfcₙHom ⋯)","decl":"lemma isometry_cfcₙHom (a : A) (ha : p a := by cfc_tac) :\n    Isometry (cfcₙHom (show p a from ha) (R := R)) :=\n  NonUnitalIsometricContinuousFunctionalCalculus.isometric a ha\n\n"}
{"name":"norm_cfcₙHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nf : ContinuousMapZero (↑(quasispectrum 𝕜 a)) 𝕜\nha : autoParam (p a) _auto✝\n⊢ Eq (Norm.norm ((cfcₙHom ⋯) f)) (Norm.norm f)","decl":"lemma norm_cfcₙHom (a : A) (f : C(σₙ 𝕜 a, 𝕜)₀) (ha : p a := by cfc_tac) :\n    ‖cfcₙHom (show p a from ha) f‖ = ‖f‖ := by\n  refine isometry_cfcₙHom a |>.norm_map_of_map_zero (map_zero _) f\n\n"}
{"name":"nnnorm_cfcₙHom","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nf : ContinuousMapZero (↑(quasispectrum 𝕜 a)) 𝕜\nha : autoParam (p a) _auto✝\n⊢ Eq (NNNorm.nnnorm ((cfcₙHom ⋯) f)) (NNNorm.nnnorm f)","decl":"lemma nnnorm_cfcₙHom (a : A) (f : C(σₙ 𝕜 a, 𝕜)₀) (ha : p a := by cfc_tac) :\n    ‖cfcₙHom (show p a from ha) f‖₊ = ‖f‖₊ :=\n  Subtype.ext <| norm_cfcₙHom a f ha\n\n"}
{"name":"IsGreatest.norm_cfcₙ","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => Norm.norm (f x)) (quasispectrum 𝕜 a)) (Norm.norm (cfcₙ f a))","decl":"lemma IsGreatest.norm_cfcₙ (f : 𝕜 → 𝕜) (a : A)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : IsGreatest ((fun x ↦ ‖f x‖) '' σₙ 𝕜 a) ‖cfcₙ f a‖ := by\n  obtain ⟨x, hx⟩ := NonUnitalContinuousFunctionalCalculus.isCompact_quasispectrum a\n      |>.image_of_continuousOn hf.norm |>.exists_isGreatest <|\n      (quasispectrum.nonempty 𝕜 a).image _\n  obtain ⟨x, hx', rfl⟩ := hx.1\n  convert hx\n  rw [cfcₙ_apply f a, norm_cfcₙHom a _]\n  apply le_antisymm\n  · apply ContinuousMap.norm_le _ (norm_nonneg _) |>.mpr\n    rintro ⟨y, hy⟩\n    exact hx.2 ⟨y, hy, rfl⟩\n  · exact le_trans (by simp) <| ContinuousMap.norm_coe_le_norm _ (⟨x, hx'⟩ : σₙ 𝕜 a)\n\n"}
{"name":"IsGreatest.nnnorm_cfcₙ","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => NNNorm.nnnorm (f x)) (quasispectrum 𝕜 a)) (NNNorm.nnnorm (cfcₙ f a))","decl":"lemma IsGreatest.nnnorm_cfcₙ (f : 𝕜 → 𝕜) (a : A)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : IsGreatest ((fun x ↦ ‖f x‖₊) '' σₙ 𝕜 a) ‖cfcₙ f a‖₊ := by\n  convert Real.toNNReal_mono.map_isGreatest (.norm_cfcₙ f a)\n  all_goals simp [Set.image_image, norm_toNNReal]\n\n"}
{"name":"norm_apply_le_norm_cfcₙ","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nx : 𝕜\nhx : Membership.mem (quasispectrum 𝕜 a) x\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ LE.le (Norm.norm (f x)) (Norm.norm (cfcₙ f a))","decl":"lemma norm_apply_le_norm_cfcₙ (f : 𝕜 → 𝕜) (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σₙ 𝕜 a)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖f x‖ ≤ ‖cfcₙ f a‖ :=\n  IsGreatest.norm_cfcₙ f a hf hf₀ ha |>.2 ⟨x, hx, rfl⟩\n\n"}
{"name":"nnnorm_apply_le_nnnorm_cfcₙ","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nx : 𝕜\nhx : Membership.mem (quasispectrum 𝕜 a) x\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ LE.le (NNNorm.nnnorm (f x)) (NNNorm.nnnorm (cfcₙ f a))","decl":"lemma nnnorm_apply_le_nnnorm_cfcₙ (f : 𝕜 → 𝕜) (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σₙ 𝕜 a)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖f x‖₊ ≤ ‖cfcₙ f a‖₊ :=\n  IsGreatest.nnnorm_cfcₙ f a hf hf₀ ha |>.2 ⟨x, hx, rfl⟩\n\n"}
{"name":"norm_cfcₙ_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nh : ∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LE.le (Norm.norm (f x)) c\n⊢ LE.le (Norm.norm (cfcₙ f a)) c","decl":"lemma norm_cfcₙ_le {f : 𝕜 → 𝕜} {a : A} {c : ℝ} (h : ∀ x ∈ σₙ 𝕜 a, ‖f x‖ ≤ c) :\n    ‖cfcₙ f a‖ ≤ c := by\n  refine cfcₙ_cases (‖·‖ ≤ c) a f ?_ fun hf hf0 ha ↦ ?_\n  · simpa using (norm_nonneg _).trans <| h 0 (quasispectrum.zero_mem 𝕜 a)\n  · simp only [← cfcₙ_apply f a, isLUB_le_iff (IsGreatest.norm_cfcₙ f a hf hf0 ha |>.isLUB)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"norm_cfcₙ_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LE.le (Norm.norm (cfcₙ f a)) c) (∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LE.le (Norm.norm (f x)) c)","decl":"lemma norm_cfcₙ_le_iff (f : 𝕜 → 𝕜) (a : A) (c : ℝ)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖cfcₙ f a‖ ≤ c ↔ ∀ x ∈ σₙ 𝕜 a, ‖f x‖ ≤ c :=\n  ⟨fun h _ hx ↦ norm_apply_le_norm_cfcₙ f a hx hf hf₀ ha |>.trans h, norm_cfcₙ_le⟩\n\n"}
{"name":"norm_cfcₙ_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nh : ∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LT.lt (Norm.norm (f x)) c\n⊢ LT.lt (Norm.norm (cfcₙ f a)) c","decl":"lemma norm_cfcₙ_lt {f : 𝕜 → 𝕜} {a : A} {c : ℝ} (h : ∀ x ∈ σₙ 𝕜 a, ‖f x‖ < c) :\n    ‖cfcₙ f a‖ < c := by\n  refine cfcₙ_cases (‖·‖ < c) a f ?_ fun hf hf0 ha ↦ ?_\n  · simpa using (norm_nonneg _).trans_lt <| h 0 (quasispectrum.zero_mem 𝕜 a)\n  · simp only [← cfcₙ_apply f a, (IsGreatest.norm_cfcₙ f a hf hf0 ha |>.lt_iff)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"norm_cfcₙ_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : Real\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LT.lt (Norm.norm (cfcₙ f a)) c) (∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LT.lt (Norm.norm (f x)) c)","decl":"lemma norm_cfcₙ_lt_iff (f : 𝕜 → 𝕜) (a : A) (c : ℝ)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖cfcₙ f a‖ < c ↔ ∀ x ∈ σₙ 𝕜 a, ‖f x‖ < c :=\n  ⟨fun h _ hx ↦ norm_apply_le_norm_cfcₙ f a hx hf hf₀ ha |>.trans_lt h, norm_cfcₙ_lt⟩\n\n"}
{"name":"nnnorm_cfcₙ_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nh : ∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LE.le (NNNorm.nnnorm (f x)) c\n⊢ LE.le (NNNorm.nnnorm (cfcₙ f a)) c","decl":"lemma nnnorm_cfcₙ_le {f : 𝕜 → 𝕜} {a : A} {c : ℝ≥0} (h : ∀ x ∈ σₙ 𝕜 a, ‖f x‖₊ ≤ c) :\n    ‖cfcₙ f a‖₊ ≤ c :=\n  norm_cfcₙ_le h\n\n"}
{"name":"nnnorm_cfcₙ_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LE.le (NNNorm.nnnorm (cfcₙ f a)) c) (∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LE.le (NNNorm.nnnorm (f x)) c)","decl":"lemma nnnorm_cfcₙ_le_iff (f : 𝕜 → 𝕜) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖cfcₙ f a‖₊ ≤ c ↔ ∀ x ∈ σₙ 𝕜 a, ‖f x‖₊ ≤ c :=\n  norm_cfcₙ_le_iff f a c.1 hf hf₀ ha\n\n"}
{"name":"nnnorm_cfcₙ_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nh : ∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LT.lt (NNNorm.nnnorm (f x)) c\n⊢ LT.lt (NNNorm.nnnorm (cfcₙ f a)) c","decl":"lemma nnnorm_cfcₙ_lt {f : 𝕜 → 𝕜} {a : A} {c : ℝ≥0} (h : ∀ x ∈ σₙ 𝕜 a, ‖f x‖₊ < c) :\n    ‖cfcₙ f a‖₊ < c :=\n  norm_cfcₙ_lt h\n\n"}
{"name":"nnnorm_cfcₙ_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\nf : 𝕜 → 𝕜\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (quasispectrum 𝕜 a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (p a) _auto✝\n⊢ Iff (LT.lt (NNNorm.nnnorm (cfcₙ f a)) c) (∀ (x : 𝕜), Membership.mem (quasispectrum 𝕜 a) x → LT.lt (NNNorm.nnnorm (f x)) c)","decl":"lemma nnnorm_cfcₙ_lt_iff (f : 𝕜 → 𝕜) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σₙ 𝕜 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : p a := by cfc_tac) : ‖cfcₙ f a‖₊ < c ↔ ∀ x ∈ σₙ 𝕜 a, ‖f x‖₊ < c :=\n  norm_cfcₙ_lt_iff f a c.1 hf hf₀ ha\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.isGreatest_norm_quasispectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => Norm.norm x) (quasispectrum 𝕜 a)) (Norm.norm a)","decl":"lemma isGreatest_norm_quasispectrum (a : A) (ha : p a := by cfc_tac) :\n    IsGreatest ((‖·‖) '' σₙ 𝕜 a) ‖a‖ := by\n  simpa only [cfcₙ_id 𝕜 a] using IsGreatest.norm_cfcₙ (id : 𝕜 → 𝕜) a\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.norm_quasispectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nx : 𝕜\nhx : Membership.mem (quasispectrum 𝕜 a) x\nha : autoParam (p a) _auto✝\n⊢ LE.le (Norm.norm x) (Norm.norm a)","decl":"lemma norm_quasispectrum_le (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σₙ 𝕜 a) (ha : p a := by cfc_tac) :\n    ‖x‖ ≤ ‖a‖ := by\n  simpa only [cfcₙ_id 𝕜 a] using norm_apply_le_norm_cfcₙ (id : 𝕜 → 𝕜) a hx\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.isGreatest_nnnorm_quasispectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nha : autoParam (p a) _auto✝\n⊢ IsGreatest (Set.image (fun x => NNNorm.nnnorm x) (quasispectrum 𝕜 a)) (NNNorm.nnnorm a)","decl":"lemma isGreatest_nnnorm_quasispectrum (a : A) (ha : p a := by cfc_tac) :\n    IsGreatest ((‖·‖₊) '' σₙ 𝕜 a) ‖a‖₊ := by\n  simpa only [cfcₙ_id 𝕜 a] using IsGreatest.nnnorm_cfcₙ (id : 𝕜 → 𝕜) a\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.nnnorm_quasispectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁶ : RCLike 𝕜\ninst✝⁵ : NonUnitalNormedRing A\ninst✝⁴ : StarRing A\ninst✝³ : NormedSpace 𝕜 A\ninst✝² : IsScalarTower 𝕜 A A\ninst✝¹ : SMulCommClass 𝕜 A A\ninst✝ : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p\na : A\nx : 𝕜\nhx : Membership.mem (quasispectrum 𝕜 a) x\nha : autoParam (p a) _auto✝\n⊢ LE.le (NNNorm.nnnorm x) (NNNorm.nnnorm a)","decl":"lemma nnnorm_quasispectrum_le (a : A) ⦃x : 𝕜⦄ (hx : x ∈ σₙ 𝕜 a) (ha : p a := by cfc_tac) :\n    ‖x‖₊ ≤ ‖a‖₊ := by\n  simpa only [cfcₙ_id 𝕜 a] using nnnorm_apply_le_nnnorm_cfcₙ (id : 𝕜 → 𝕜) a hx\n\n"}
{"name":"QuasispectrumRestricts.isometric_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"R : Type u_1\nS : Type u_2\nA : Type u_3\np q : A → Prop\ninst✝²⁵ : Semifield R\ninst✝²⁴ : StarRing R\ninst✝²³ : MetricSpace R\ninst✝²² : TopologicalSemiring R\ninst✝²¹ : ContinuousStar R\ninst✝²⁰ : Field S\ninst✝¹⁹ : StarRing S\ninst✝¹⁸ : MetricSpace S\ninst✝¹⁷ : TopologicalRing S\ninst✝¹⁶ : ContinuousStar S\ninst✝¹⁵ : NonUnitalRing A\ninst✝¹⁴ : StarRing A\ninst✝¹³ : Module S A\ninst✝¹² : IsScalarTower S A A\ninst✝¹¹ : SMulCommClass S A A\ninst✝¹⁰ : Algebra R S\ninst✝⁹ : Module R A\ninst✝⁸ : IsScalarTower R S A\ninst✝⁷ : StarModule R S\ninst✝⁶ : ContinuousSMul R S\ninst✝⁵ : IsScalarTower R A A\ninst✝⁴ : SMulCommClass R A A\ninst✝³ : MetricSpace A\ninst✝² : NonUnitalIsometricContinuousFunctionalCalculus S A q\ninst✝¹ : CompleteSpace R\ninst✝ : ContinuousMapZero.UniqueHom R A\nf : ContinuousMap S R\nhalg : Isometry ⇑(algebraMap R S)\nh0 : p 0\nh : ∀ (a : A), Iff (p a) (And (q a) (QuasispectrumRestricts a ⇑f))\n⊢ NonUnitalIsometricContinuousFunctionalCalculus R A p","decl":"open scoped NonUnitalContinuousFunctionalCalculus in\nprotected theorem isometric_cfc (f : C(S, R)) (halg : Isometry (algebraMap R S)) (h0 : p 0)\n    (h : ∀ a, p a ↔ q a ∧ QuasispectrumRestricts a f) :\n    NonUnitalIsometricContinuousFunctionalCalculus R A p where\n  toNonUnitalContinuousFunctionalCalculus := QuasispectrumRestricts.cfc f\n    halg.isUniformEmbedding h0 h\n  isometric a ha := by\n    obtain ⟨ha', haf⟩ := h a |>.mp ha\n    have _inst (a : A) : CompactSpace (σₙ R a) := by\n      rw [← isCompact_iff_compactSpace, ← quasispectrum.preimage_algebraMap S]\n      exact halg.isClosedEmbedding.isCompact_preimage <|\n        NonUnitalContinuousFunctionalCalculus.isCompact_quasispectrum a\n    have := QuasispectrumRestricts.cfc f halg.isUniformEmbedding h0 h\n    rw [cfcₙHom_eq_restrict f halg.isUniformEmbedding ha ha' haf]\n    refine .of_dist_eq fun g₁ g₂ ↦ ?_\n    simp only [nonUnitalStarAlgHom_apply, isometry_cfcₙHom a ha' |>.dist_eq]\n    refine le_antisymm ?_ ?_\n    all_goals refine ContinuousMap.dist_le dist_nonneg |>.mpr fun x ↦ ?_\n    · simpa [halg.dist_eq] using ContinuousMap.dist_apply_le_dist _\n    · let x' : σₙ S a := Subtype.map (algebraMap R S) (fun _ ↦ quasispectrum.algebraMap_mem S) x\n      apply le_of_eq_of_le ?_ <| ContinuousMap.dist_apply_le_dist x'\n      simp only [ContinuousMap.coe_coe, ContinuousMapZero.comp_apply, ContinuousMapZero.coe_mk,\n        ContinuousMap.coe_mk, StarAlgHom.ofId_apply, halg.dist_eq, x']\n      congr! 2\n      all_goals ext; exact haf.left_inv _ |>.symm\n\n"}
{"name":"Nonneg.instIsometricContinuousFunctionalCalculus","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : PartialOrder A\ninst✝⁴ : StarRing A\ninst✝³ : StarOrderedRing A\ninst✝² : NormedAlgebra Real A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\n⊢ IsometricContinuousFunctionalCalculus NNReal A fun x => LE.le 0 x","decl":"open NNReal in\ninstance Nonneg.instIsometricContinuousFunctionalCalculus :\n    IsometricContinuousFunctionalCalculus ℝ≥0 A (0 ≤ ·) :=\n  SpectrumRestricts.isometric_cfc (q := IsSelfAdjoint) ContinuousMap.realToNNReal\n    isometry_subtype_coe le_rfl (fun _ ↦ nonneg_iff_isSelfAdjoint_and_spectrumRestricts)\n\n"}
{"name":"Nonneg.instNonUnitalIsometricContinuousFunctionalCalculus","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : PartialOrder A\ninst✝⁶ : StarRing A\ninst✝⁵ : StarOrderedRing A\ninst✝⁴ : NormedSpace Real A\ninst✝³ : IsScalarTower Real A A\ninst✝² : SMulCommClass Real A A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\n⊢ NonUnitalIsometricContinuousFunctionalCalculus NNReal A fun x => LE.le 0 x","decl":"open NNReal in\ninstance Nonneg.instNonUnitalIsometricContinuousFunctionalCalculus :\n    NonUnitalIsometricContinuousFunctionalCalculus ℝ≥0 A (0 ≤ ·) :=\n  QuasispectrumRestricts.isometric_cfc (q := IsSelfAdjoint) ContinuousMap.realToNNReal\n    isometry_subtype_coe le_rfl (fun _ ↦ nonneg_iff_isSelfAdjoint_and_quasispectrumRestricts)\n\n"}
{"name":"IsGreatest.nnnorm_cfc_nnreal","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁷ : NormedRing A\ninst✝⁶ : StarRing A\ninst✝⁵ : NormedAlgebra Real A\ninst✝⁴ : PartialOrder A\ninst✝³ : StarOrderedRing A\ninst✝² : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝¹ : NonnegSpectrumClass Real A\ninst✝ : Nontrivial A\nf : NNReal → NNReal\na : A\nhf : autoParam (ContinuousOn f (spectrum NNReal a)) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ IsGreatest (Set.image f (spectrum NNReal a)) (NNNorm.nnnorm (cfc f a))","decl":"lemma IsGreatest.nnnorm_cfc_nnreal [Nontrivial A] (f : ℝ≥0 → ℝ≥0) (a : A)\n    (hf : ContinuousOn f (σ ℝ≥0 a) := by cfc_cont_tac) (ha : 0 ≤ a := by cfc_tac) :\n    IsGreatest (f '' σ ℝ≥0 a) ‖cfc f a‖₊ := by\n  rw [cfc_nnreal_eq_real]\n  obtain ⟨-, ha'⟩ := nonneg_iff_isSelfAdjoint_and_spectrumRestricts.mp ha\n  convert IsGreatest.nnnorm_cfc (fun x : ℝ ↦ (f x.toNNReal : ℝ)) a ?hf_cont\n  case hf_cont => exact continuous_subtype_val.comp_continuousOn <|\n    ContinuousOn.comp ‹_› continuous_real_toNNReal.continuousOn <| ha'.image ▸ Set.mapsTo_image ..\n  ext x\n  constructor\n  all_goals rintro ⟨x, hx, rfl⟩\n  · exact ⟨x, spectrum.algebraMap_mem ℝ hx, by simp⟩\n  · exact ⟨x.toNNReal, ha'.apply_mem hx, by simp⟩\n\n"}
{"name":"apply_le_nnnorm_cfc_nnreal","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nx : NNReal\nhx : Membership.mem (spectrum NNReal a) x\nhf : autoParam (ContinuousOn f (spectrum NNReal a)) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ LE.le (f x) (NNNorm.nnnorm (cfc f a))","decl":"lemma apply_le_nnnorm_cfc_nnreal (f : ℝ≥0 → ℝ≥0) (a : A) ⦃x : ℝ≥0⦄ (hx : x ∈ σ ℝ≥0 a)\n    (hf : ContinuousOn f (σ ℝ≥0 a) := by cfc_cont_tac) (ha : 0 ≤ a := by cfc_tac) :\n    f x ≤ ‖cfc f a‖₊ := by\n  revert hx\n  nontriviality A\n  exact (IsGreatest.nnnorm_cfc_nnreal f a hf ha |>.2 ⟨x, ·, rfl⟩)\n\n"}
{"name":"nnnorm_cfc_nnreal_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nh : ∀ (x : NNReal), Membership.mem (spectrum NNReal a) x → LE.le (f x) c\n⊢ LE.le (NNNorm.nnnorm (cfc f a)) c","decl":"lemma nnnorm_cfc_nnreal_le {f : ℝ≥0 → ℝ≥0} {a : A} {c : ℝ≥0} (h : ∀ x ∈ σ ℝ≥0 a, f x ≤ c) :\n    ‖cfc f a‖₊ ≤ c := by\n  obtain (_ | _) := subsingleton_or_nontrivial A\n  · rw [Subsingleton.elim (cfc f a) 0]\n    simp\n  · refine cfc_cases (‖·‖₊ ≤ c) a f (by simp) fun hf ha ↦ ?_\n    simp only [← cfc_apply f a, isLUB_le_iff (IsGreatest.nnnorm_cfc_nnreal f a hf ha |>.isLUB)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"nnnorm_cfc_nnreal_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (spectrum NNReal a)) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Iff (LE.le (NNNorm.nnnorm (cfc f a)) c) (∀ (x : NNReal), Membership.mem (spectrum NNReal a) x → LE.le (f x) c)","decl":"lemma nnnorm_cfc_nnreal_le_iff (f : ℝ≥0 → ℝ≥0) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σ ℝ≥0 a) := by cfc_cont_tac)\n    (ha : 0 ≤ a := by cfc_tac) : ‖cfc f a‖₊ ≤ c ↔ ∀ x ∈ σ ℝ≥0 a, f x ≤ c :=\n  ⟨fun h _ hx ↦ apply_le_nnnorm_cfc_nnreal f a hx hf ha |>.trans h, nnnorm_cfc_nnreal_le⟩\n\n"}
{"name":"nnnorm_cfc_nnreal_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nhc : LT.lt 0 c\nh : ∀ (x : NNReal), Membership.mem (spectrum NNReal a) x → LT.lt (f x) c\n⊢ LT.lt (NNNorm.nnnorm (cfc f a)) c","decl":"lemma nnnorm_cfc_nnreal_lt {f : ℝ≥0 → ℝ≥0} {a : A} {c : ℝ≥0} (hc : 0 < c)\n    (h : ∀ x ∈ σ ℝ≥0 a, f x < c) : ‖cfc f a‖₊ < c := by\n  obtain (_ | _) := subsingleton_or_nontrivial A\n  · rw [Subsingleton.elim (cfc f a) 0]\n    simpa\n  · refine cfc_cases (‖·‖₊ < c) a f (by simpa) fun hf ha ↦ ?_\n    simp only [← cfc_apply f a, (IsGreatest.nnnorm_cfc_nnreal f a hf ha |>.lt_iff)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"nnnorm_cfc_nnreal_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nhc : LT.lt 0 c\nhf : autoParam (ContinuousOn f (spectrum NNReal a)) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Iff (LT.lt (NNNorm.nnnorm (cfc f a)) c) (∀ (x : NNReal), Membership.mem (spectrum NNReal a) x → LT.lt (f x) c)","decl":"lemma nnnorm_cfc_nnreal_lt_iff (f : ℝ≥0 → ℝ≥0) (a : A) {c : ℝ≥0} (hc : 0 < c)\n    (hf : ContinuousOn f (σ ℝ≥0 a) := by cfc_cont_tac)\n    (ha : 0 ≤ a := by cfc_tac) : ‖cfc f a‖₊ < c ↔ ∀ x ∈ σ ℝ≥0 a, f x < c :=\n  ⟨fun h _ hx ↦ apply_le_nnnorm_cfc_nnreal f a hx hf ha |>.trans_lt h, nnnorm_cfc_nnreal_lt hc⟩\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.isGreatest_spectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁷ : NormedRing A\ninst✝⁶ : StarRing A\ninst✝⁵ : NormedAlgebra Real A\ninst✝⁴ : PartialOrder A\ninst✝³ : StarOrderedRing A\ninst✝² : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝¹ : NonnegSpectrumClass Real A\ninst✝ : Nontrivial A\na : A\nha : autoParam (LE.le 0 a) _auto✝\n⊢ IsGreatest (spectrum NNReal a) (NNNorm.nnnorm a)","decl":"lemma isGreatest_spectrum [Nontrivial A] (a : A) (ha : 0 ≤ a := by cfc_tac) :\n    IsGreatest (σ ℝ≥0 a) ‖a‖₊ := by\n  simpa [cfc_id ℝ≥0 a] using IsGreatest.nnnorm_cfc_nnreal id a\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.spectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁶ : NormedRing A\ninst✝⁵ : StarRing A\ninst✝⁴ : NormedAlgebra Real A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\na : A\nx : NNReal\nhx : Membership.mem (spectrum NNReal a) x\nha : autoParam (LE.le 0 a) _auto✝\n⊢ LE.le x (NNNorm.nnnorm a)","decl":"lemma spectrum_le (a : A) ⦃x : ℝ≥0⦄ (hx : x ∈ σ ℝ≥0 a) (ha : 0 ≤ a := by cfc_tac) :\n    x ≤ ‖a‖₊ := by\n  simpa [cfc_id ℝ≥0 a] using apply_le_nnnorm_cfc_nnreal id a hx\n\n"}
{"name":"MonotoneOn.nnnorm_cfc","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁷ : NormedRing A\ninst✝⁶ : StarRing A\ninst✝⁵ : NormedAlgebra Real A\ninst✝⁴ : PartialOrder A\ninst✝³ : StarOrderedRing A\ninst✝² : IsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝¹ : NonnegSpectrumClass Real A\ninst✝ : Nontrivial A\nf : NNReal → NNReal\na : A\nhf : MonotoneOn f (spectrum NNReal a)\nhf₂ : autoParam (ContinuousOn f (spectrum NNReal a)) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Eq (NNNorm.nnnorm (cfc f a)) (f (NNNorm.nnnorm a))","decl":"open IsometricContinuousFunctionalCalculus in\nlemma MonotoneOn.nnnorm_cfc [Nontrivial A] (f : ℝ≥0 → ℝ≥0) (a : A)\n    (hf : MonotoneOn f (σ ℝ≥0 a)) (hf₂ : ContinuousOn f (σ ℝ≥0 a) := by cfc_cont_tac)\n    (ha : 0 ≤ a := by cfc_tac) : ‖cfc f a‖₊ = f ‖a‖₊ :=\n  IsGreatest.nnnorm_cfc_nnreal f a |>.unique <| hf.map_isGreatest (isGreatest_spectrum a)\n\n"}
{"name":"IsGreatest.nnnorm_cfcₙ_nnreal","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nhf : autoParam (ContinuousOn f (quasispectrum NNReal a)) _auto✝\nhf0 : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ IsGreatest (Set.image f (quasispectrum NNReal a)) (NNNorm.nnnorm (cfcₙ f a))","decl":"lemma IsGreatest.nnnorm_cfcₙ_nnreal (f : ℝ≥0 → ℝ≥0) (a : A)\n    (hf : ContinuousOn f (σₙ ℝ≥0 a) := by cfc_cont_tac) (hf0 : f 0 = 0 := by cfc_zero_tac)\n    (ha : 0 ≤ a := by cfc_tac) : IsGreatest (f '' σₙ ℝ≥0 a) ‖cfcₙ f a‖₊ := by\n  rw [cfcₙ_nnreal_eq_real]\n  obtain ⟨-, ha'⟩ := nonneg_iff_isSelfAdjoint_and_quasispectrumRestricts.mp ha\n  convert IsGreatest.nnnorm_cfcₙ (fun x : ℝ ↦ (f x.toNNReal : ℝ)) a ?hf_cont (by simpa)\n  case hf_cont => exact continuous_subtype_val.comp_continuousOn <|\n    ContinuousOn.comp ‹_› continuous_real_toNNReal.continuousOn <| ha'.image ▸ Set.mapsTo_image ..\n  ext x\n  constructor\n  all_goals rintro ⟨x, hx, rfl⟩\n  · exact ⟨x, quasispectrum.algebraMap_mem ℝ hx, by simp⟩\n  · exact ⟨x.toNNReal, ha'.apply_mem hx, by simp⟩\n\n"}
{"name":"apply_le_nnnorm_cfcₙ_nnreal","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nx : NNReal\nhx : Membership.mem (quasispectrum NNReal a) x\nhf : autoParam (ContinuousOn f (quasispectrum NNReal a)) _auto✝\nhf0 : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ LE.le (f x) (NNNorm.nnnorm (cfcₙ f a))","decl":"lemma apply_le_nnnorm_cfcₙ_nnreal (f : ℝ≥0 → ℝ≥0) (a : A) ⦃x : ℝ≥0⦄ (hx : x ∈ σₙ ℝ≥0 a)\n    (hf : ContinuousOn f (σₙ ℝ≥0 a) := by cfc_cont_tac) (hf0 : f 0 = 0 := by cfc_zero_tac)\n    (ha : 0 ≤ a := by cfc_tac) : f x ≤ ‖cfcₙ f a‖₊ := by\n  revert hx\n  exact (IsGreatest.nnnorm_cfcₙ_nnreal f a hf hf0 ha |>.2 ⟨x, ·, rfl⟩)\n\n"}
{"name":"nnnorm_cfcₙ_nnreal_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nh : ∀ (x : NNReal), Membership.mem (quasispectrum NNReal a) x → LE.le (f x) c\n⊢ LE.le (NNNorm.nnnorm (cfcₙ f a)) c","decl":"lemma nnnorm_cfcₙ_nnreal_le {f : ℝ≥0 → ℝ≥0} {a : A} {c : ℝ≥0} (h : ∀ x ∈ σₙ ℝ≥0 a, f x ≤ c) :\n    ‖cfcₙ f a‖₊ ≤ c := by\n  refine cfcₙ_cases (‖·‖₊ ≤ c) a f (by simp) fun hf hf0 ha ↦ ?_\n  simp only [← cfcₙ_apply f a, isLUB_le_iff (IsGreatest.nnnorm_cfcₙ_nnreal f a hf hf0 ha |>.isLUB)]\n  rintro - ⟨x, hx, rfl⟩\n  exact h x hx\n\n"}
{"name":"nnnorm_cfcₙ_nnreal_le_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (quasispectrum NNReal a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Iff (LE.le (NNNorm.nnnorm (cfcₙ f a)) c) (∀ (x : NNReal), Membership.mem (quasispectrum NNReal a) x → LE.le (f x) c)","decl":"lemma nnnorm_cfcₙ_nnreal_le_iff (f : ℝ≥0 → ℝ≥0) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σₙ ℝ≥0 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : 0 ≤ a := by cfc_tac) : ‖cfcₙ f a‖₊ ≤ c ↔ ∀ x ∈ σₙ ℝ≥0 a, f x ≤ c :=\n  ⟨fun h _ hx ↦ apply_le_nnnorm_cfcₙ_nnreal f a hx hf hf₀ ha |>.trans h, nnnorm_cfcₙ_nnreal_le⟩\n\n"}
{"name":"nnnorm_cfcₙ_nnreal_lt","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nh : ∀ (x : NNReal), Membership.mem (quasispectrum NNReal a) x → LT.lt (f x) c\n⊢ LT.lt (NNNorm.nnnorm (cfcₙ f a)) c","decl":"lemma nnnorm_cfcₙ_nnreal_lt {f : ℝ≥0 → ℝ≥0} {a : A} {c : ℝ≥0} (h : ∀ x ∈ σₙ ℝ≥0 a, f x < c) :\n    ‖cfcₙ f a‖₊ < c := by\n  refine cfcₙ_cases (‖·‖₊ < c) a f ?_ fun hf hf0 ha ↦ ?_\n  · simpa using zero_le (f 0) |>.trans_lt <| h 0 (quasispectrum.zero_mem ℝ≥0 _)\n  · simp only [← cfcₙ_apply f a, (IsGreatest.nnnorm_cfcₙ_nnreal f a hf hf0 ha |>.lt_iff)]\n    rintro - ⟨x, hx, rfl⟩\n    exact h x hx\n\n"}
{"name":"nnnorm_cfcₙ_nnreal_lt_iff","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nc : NNReal\nhf : autoParam (ContinuousOn f (quasispectrum NNReal a)) _auto✝\nhf₀ : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Iff (LT.lt (NNNorm.nnnorm (cfcₙ f a)) c) (∀ (x : NNReal), Membership.mem (quasispectrum NNReal a) x → LT.lt (f x) c)","decl":"lemma nnnorm_cfcₙ_nnreal_lt_iff (f : ℝ≥0 → ℝ≥0) (a : A) (c : ℝ≥0)\n    (hf : ContinuousOn f (σₙ ℝ≥0 a) := by cfc_cont_tac) (hf₀ : f 0 = 0 := by cfc_zero_tac)\n    (ha : 0 ≤ a := by cfc_tac) : ‖cfcₙ f a‖₊ < c ↔ ∀ x ∈ σₙ ℝ≥0 a, f x < c :=\n  ⟨fun h _ hx ↦ apply_le_nnnorm_cfcₙ_nnreal f a hx hf hf₀ ha |>.trans_lt h, nnnorm_cfcₙ_nnreal_lt⟩\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.isGreatest_quasispectrum","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\na : A\nha : autoParam (LE.le 0 a) _auto✝\n⊢ IsGreatest (quasispectrum NNReal a) (NNNorm.nnnorm a)","decl":"lemma isGreatest_quasispectrum (a : A) (ha : 0 ≤ a := by cfc_tac) :\n    IsGreatest (σₙ ℝ≥0 a) ‖a‖₊ := by\n  simpa [cfcₙ_id ℝ≥0 a] using IsGreatest.nnnorm_cfcₙ_nnreal id a\n\n"}
{"name":"NonUnitalIsometricContinuousFunctionalCalculus.quasispectrum_le","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\na : A\nx : NNReal\nhx : Membership.mem (quasispectrum NNReal a) x\nha : autoParam (LE.le 0 a) _auto✝\n⊢ LE.le x (NNNorm.nnnorm a)","decl":"lemma quasispectrum_le (a : A) ⦃x : ℝ≥0⦄ (hx : x ∈ σₙ ℝ≥0 a) (ha : 0 ≤ a := by cfc_tac) :\n    x ≤ ‖a‖₊ := by\n  simpa [cfcₙ_id ℝ≥0 a] using apply_le_nnnorm_cfcₙ_nnreal id a hx\n\n"}
{"name":"MonotoneOn.nnnorm_cfcₙ","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"A : Type u_1\ninst✝⁸ : NonUnitalNormedRing A\ninst✝⁷ : StarRing A\ninst✝⁶ : NormedSpace Real A\ninst✝⁵ : IsScalarTower Real A A\ninst✝⁴ : SMulCommClass Real A A\ninst✝³ : PartialOrder A\ninst✝² : StarOrderedRing A\ninst✝¹ : NonUnitalIsometricContinuousFunctionalCalculus Real A IsSelfAdjoint\ninst✝ : NonnegSpectrumClass Real A\nf : NNReal → NNReal\na : A\nhf : MonotoneOn f (quasispectrum NNReal a)\nhf₂ : autoParam (ContinuousOn f (quasispectrum NNReal a)) _auto✝\nhf0 : autoParam (Eq (f 0) 0) _auto✝\nha : autoParam (LE.le 0 a) _auto✝\n⊢ Eq (NNNorm.nnnorm (cfcₙ f a)) (f (NNNorm.nnnorm a))","decl":"open NonUnitalIsometricContinuousFunctionalCalculus in\nlemma MonotoneOn.nnnorm_cfcₙ (f : ℝ≥0 → ℝ≥0) (a : A)\n    (hf : MonotoneOn f (σₙ ℝ≥0 a)) (hf₂ : ContinuousOn f (σₙ ℝ≥0 a) := by cfc_cont_tac)\n    (hf0 : f 0 = 0 := by cfc_zero_tac) (ha : 0 ≤ a := by cfc_tac) :\n    ‖cfcₙ f a‖₊ = f ‖a‖₊ :=\n  IsGreatest.nnnorm_cfcₙ_nnreal f a |>.unique <| hf.map_isGreatest (isGreatest_quasispectrum a)\n\n"}
{"name":"IsometricContinuousFunctionalCalculus.toNonUnital","module":"Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Isometric","initialProofState":"𝕜 : Type u_1\nA : Type u_2\np : outParam (A → Prop)\ninst✝⁴ : RCLike 𝕜\ninst✝³ : NormedRing A\ninst✝² : StarRing A\ninst✝¹ : NormedAlgebra 𝕜 A\ninst✝ : IsometricContinuousFunctionalCalculus 𝕜 A p\n⊢ NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p","decl":"open scoped ContinuousFunctionalCalculus in\n/-- An isometric continuous functional calculus on a unital algebra yields to a non-unital one. -/\ninstance toNonUnital : NonUnitalIsometricContinuousFunctionalCalculus 𝕜 A p where\n  isometric a ha := by\n    have : CompactSpace (σₙ 𝕜 a) := by\n      have h_cpct : CompactSpace (spectrum 𝕜 a) := inferInstance\n      simp only [← isCompact_iff_compactSpace, quasispectrum_eq_spectrum_union_zero] at h_cpct ⊢\n      exact h_cpct |>.union isCompact_singleton\n    rw [cfcₙHom_eq_cfcₙHom_of_cfcHom, cfcₙHom_of_cfcHom]\n    refine isometry_cfcHom a |>.comp ?_\n    simp only [MulHom.coe_coe, NonUnitalStarAlgHom.coe_toNonUnitalAlgHom,\n      NonUnitalStarAlgHom.coe_coe]\n    refine AddMonoidHomClass.isometry_of_norm _ fun f ↦ ?_\n    let ι : C(σ 𝕜 a, σₙ 𝕜 a) := ⟨_, continuous_inclusion <| spectrum_subset_quasispectrum 𝕜 a⟩\n    show ‖(f : C(σₙ 𝕜 a, 𝕜)).comp ι‖ = ‖(f : C(σₙ 𝕜 a, 𝕜))‖\n    apply le_antisymm (ContinuousMap.norm_le _ (by positivity) |>.mpr ?_)\n      (ContinuousMap.norm_le _ (by positivity) |>.mpr ?_)\n    · rintro ⟨x, hx⟩\n      exact (f : C(σₙ 𝕜 a, 𝕜)).norm_coe_le_norm ⟨x, spectrum_subset_quasispectrum 𝕜 a hx⟩\n    · rintro ⟨x, hx⟩\n      obtain (rfl | hx') : x = 0 ∨ x ∈ σ 𝕜 a := by\n        simpa [quasispectrum_eq_spectrum_union_zero] using hx\n      · show ‖f 0‖ ≤ _\n        simp\n      · exact (f : C(σₙ 𝕜 a, 𝕜)).comp ι |>.norm_coe_le_norm ⟨x, hx'⟩\n\n"}
