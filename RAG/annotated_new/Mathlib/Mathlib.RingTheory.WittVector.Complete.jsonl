{"name":"WittVector.le_coeff_eq_iff_le_sub_coeff_eq_zero","module":"Mathlib.RingTheory.WittVector.Complete","initialProofState":"p : Nat\nhp : Fact (Nat.Prime p)\nk : Type u_1\ninst✝ : CommRing k\nx y : WittVector p k\nn : Nat\n⊢ Iff (∀ (i : Nat), LT.lt i n → Eq (x.coeff i) (y.coeff i)) (∀ (i : Nat), LT.lt i n → Eq ((HSub.hSub x y).coeff i) 0)","decl":"theorem le_coeff_eq_iff_le_sub_coeff_eq_zero {x y : 𝕎 k} {n : ℕ} :\n    (∀ i < n, x.coeff i = y.coeff i) ↔ ∀ i < n, (x - y).coeff i = 0 := by\n  calc\n  _ ↔ x.truncate n = y.truncate n := by\n    refine ⟨fun h => ?_, fun h i hi => ?_⟩\n    · ext i\n      simp [h i]\n    · rw [← coeff_truncate x ⟨i, hi⟩, ← coeff_truncate y ⟨i, hi⟩, h]\n  _ ↔ (x - y).truncate n = 0 := by\n    simp only [map_sub, sub_eq_zero]\n  _ ↔ _ := by simp only [← mem_ker_truncate, RingHom.mem_ker]\n\n"}
{"name":"WittVector.eq_zero_of_p_mul_eq_zero","module":"Mathlib.RingTheory.WittVector.Complete","initialProofState":"p : Nat\nhp : Fact (Nat.Prime p)\nk : Type u_1\ninst✝² : CommRing k\ninst✝¹ : CharP k p\ninst✝ : PerfectRing k p\nx : WittVector p k\nh : Eq (HMul.hMul x ↑p) 0\n⊢ Eq x 0","decl":"/--\nIf `k` is a perfect ring of characteristic `p`, then the ring of Witt vectors `𝕎 k` is\n`p`-torsion free.\n-/\ntheorem eq_zero_of_p_mul_eq_zero (x : 𝕎 k) (h : x * p = 0) : x = 0 := by\n  rwa [← frobenius_verschiebung, map_eq_zero_iff _ (frobenius_bijective p k).injective,\n      map_eq_zero_iff _ (verschiebung_injective p k)] at h\n\n"}
{"name":"WittVector.mem_span_p_iff_coeff_zero_eq_zero","module":"Mathlib.RingTheory.WittVector.Complete","initialProofState":"p : Nat\nhp : Fact (Nat.Prime p)\nk : Type u_1\ninst✝² : CommRing k\ninst✝¹ : CharP k p\ninst✝ : PerfectRing k p\nx : WittVector p k\n⊢ Iff (Membership.mem (Ideal.span (Singleton.singleton ↑p)) x) (Eq (x.coeff 0) 0)","decl":"/--\nIf `k` is a perfect ring of characteristic `p`, a Witt vector `x : 𝕎 k` falls in ideal generated by\n`p` if and only if its zeroth coefficient is `0`.\n-/\ntheorem mem_span_p_iff_coeff_zero_eq_zero (x : 𝕎 k) :\n    x ∈ (Ideal.span {(p : 𝕎 k)}) ↔ x.coeff 0 = 0 := by\n  simp_rw [Ideal.mem_span_singleton, dvd_def, mul_comm]\n  refine ⟨fun ⟨u, hu⟩ ↦ ?_, fun h ↦ ?_⟩\n  · rw [hu, mul_charP_coeff_zero]\n  · use (frobeniusEquiv p k).symm (x.shift 1)\n    calc\n    _ = verschiebung (x.shift 1) := by\n      simpa using eq_iterate_verschiebung (n := 1) (by simp [h])\n    _ = _ := by\n      rw [← verschiebung_frobenius, ← frobeniusEquiv_apply,\n          RingEquiv.apply_symm_apply (frobeniusEquiv p k) _]\n\n"}
{"name":"WittVector.mem_span_p_pow_iff_le_coeff_eq_zero","module":"Mathlib.RingTheory.WittVector.Complete","initialProofState":"p : Nat\nhp : Fact (Nat.Prime p)\nk : Type u_1\ninst✝² : CommRing k\ninst✝¹ : CharP k p\ninst✝ : PerfectRing k p\nx : WittVector p k\nn : Nat\n⊢ Iff (Membership.mem (Ideal.span (Singleton.singleton (HPow.hPow (↑p) n))) x) (∀ (m : Nat), LT.lt m n → Eq (x.coeff m) 0)","decl":"/--\nIf `k` is a perfect ring of characteristic `p`, a Witt vector `x : 𝕎 k` falls in ideal generated by\n`p ^ n` if and only if its initial `n` coefficients are `0`.\n-/\ntheorem mem_span_p_pow_iff_le_coeff_eq_zero (x : 𝕎 k) (n : ℕ) :\n    x ∈ (Ideal.span {(p ^ n : 𝕎 k)}) ↔ ∀ m, m < n → x.coeff m = 0 := by\n  simp_rw [Ideal.mem_span_singleton, dvd_def, mul_comm]\n  refine ⟨fun ⟨u, hu⟩ m hm ↦ ?_, fun h ↦ ?_⟩\n  · rw [hu, mul_pow_charP_coeff_zero _ hm]\n  · use (frobeniusEquiv p k).symm^[n] (x.shift n)\n    rw [← iterate_verschiebung_iterate_frobenius]\n    calc\n    _ = verschiebung^[n] (x.shift n) := by\n      simpa using eq_iterate_verschiebung (x := x) (n := n) h\n    _ = _ := by\n      congr\n      rw [← Function.comp_apply (f := frobenius^[n]), ← Function.Commute.comp_iterate]\n      · rw [← WittVector.frobeniusEquiv_apply, ← RingEquiv.coe_trans]\n        simp\n      · rw [Function.Commute, Function.Semiconj, ← WittVector.frobeniusEquiv_apply]\n        simp only [RingEquiv.apply_symm_apply, RingEquiv.symm_apply_apply, implies_true]\n\n"}
{"name":"WittVector.isAdicCompleteIdealSpanP","module":"Mathlib.RingTheory.WittVector.Complete","initialProofState":"p : Nat\nhp : Fact (Nat.Prime p)\nk : Type u_1\ninst✝ : CommRing k\n⊢ IsAdicComplete (Ideal.span (Singleton.singleton ↑p)) (WittVector p k)","decl":"/--\nIf `k` is a perfect ring of characteristic `p`, then the ring of Witt vectors `𝕎 k`\nis `p`-adically complete.\n-/\ninstance isAdicCompleteIdealSpanP : IsAdicComplete (Ideal.span {(p : 𝕎 k)}) (𝕎 k) where\n  haus' := by\n    intro _ h\n    ext n\n    simp at h\n    have := h (n + 1)\n    simp only [Ideal.span_singleton_pow, smul_eq_mul, Ideal.mul_top, SModEq.zero,\n        mem_span_p_pow_iff_le_coeff_eq_zero] at this\n    simpa using this n\n  prec' := by\n    intro x h\n    -- construct the limit Witt vector w diagonally\n    use .mk p (fun n ↦ (x (n + 1)).coeff n)\n    intro n\n    simp only [Ideal.span_singleton_pow, smul_eq_mul, Ideal.mul_top, SModEq.sub_mem,\n      mem_span_p_pow_iff_le_coeff_eq_zero, ← le_coeff_eq_iff_le_sub_coeff_eq_zero] at h ⊢\n    intro i hi\n    exact (h hi i (Nat.lt_succ_self i)).symm\n\n"}
