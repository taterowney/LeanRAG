{"name":"starConvex_iff_segment_subset","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns : Set E\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒy : Eâ¦„, Membership.mem s y â†’ HasSubset.Subset (segment ğ•œ x y) s)","decl":"theorem starConvex_iff_segment_subset : StarConvex ğ•œ x s â†” âˆ€ â¦ƒyâ¦„, y âˆˆ s â†’ [x -[ğ•œ] y] âŠ† s := by\n  constructor\n  Â· rintro h y hy z âŸ¨a, b, ha, hb, hab, rflâŸ©\n    exact h hy ha hb hab\n  Â· rintro h y hy a b ha hb hab\n    exact h hy âŸ¨a, b, ha, hb, hab, rflâŸ©\n\n"}
{"name":"StarConvex.segment_subset","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns : Set E\nh : StarConvex ğ•œ x s\ny : E\nhy : Membership.mem s y\nâŠ¢ HasSubset.Subset (segment ğ•œ x y) s","decl":"theorem StarConvex.segment_subset (h : StarConvex ğ•œ x s) {y : E} (hy : y âˆˆ s) : [x -[ğ•œ] y] âŠ† s :=\n  starConvex_iff_segment_subset.1 h hy\n\n"}
{"name":"StarConvex.openSegment_subset","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns : Set E\nh : StarConvex ğ•œ x s\ny : E\nhy : Membership.mem s y\nâŠ¢ HasSubset.Subset (openSegment ğ•œ x y) s","decl":"theorem StarConvex.openSegment_subset (h : StarConvex ğ•œ x s) {y : E} (hy : y âˆˆ s) :\n    openSegment ğ•œ x y âŠ† s :=\n  (openSegment_subset_segment ğ•œ x y).trans (h.segment_subset hy)\n\n"}
{"name":"starConvex_iff_pointwise_add_subset","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns : Set E\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒa b : ğ•œâ¦„, LE.le 0 a â†’ LE.le 0 b â†’ Eq (HAdd.hAdd a b) 1 â†’ HasSubset.Subset (HAdd.hAdd (HSMul.hSMul a (Singleton.singleton x)) (HSMul.hSMul b s)) s)","decl":"/-- Alternative definition of star-convexity, in terms of pointwise set operations. -/\ntheorem starConvex_iff_pointwise_add_subset :\n    StarConvex ğ•œ x s â†” âˆ€ â¦ƒa b : ğ•œâ¦„, 0 â‰¤ a â†’ 0 â‰¤ b â†’ a + b = 1 â†’ a â€¢ {x} + b â€¢ s âŠ† s := by\n  refine\n    âŸ¨?_, fun h y hy a b ha hb hab =>\n      h ha hb hab (add_mem_add (smul_mem_smul_set <| mem_singleton _) âŸ¨_, hy, rflâŸ©)âŸ©\n  rintro hA a b ha hb hab w âŸ¨au, âŸ¨u, rfl : u = x, rflâŸ©, bv, âŸ¨v, hv, rflâŸ©, rflâŸ©\n  exact hA hv ha hb hab\n\n"}
{"name":"starConvex_empty","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nâŠ¢ StarConvex ğ•œ x EmptyCollection.emptyCollection","decl":"theorem starConvex_empty (x : E) : StarConvex ğ•œ x âˆ… := fun _ hy => hy.elim\n\n"}
{"name":"starConvex_univ","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nâŠ¢ StarConvex ğ•œ x Set.univ","decl":"theorem starConvex_univ (x : E) : StarConvex ğ•œ x univ := fun _ _ _ _ _ _ _ => trivial\n\n"}
{"name":"StarConvex.inter","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns t : Set E\nhs : StarConvex ğ•œ x s\nht : StarConvex ğ•œ x t\nâŠ¢ StarConvex ğ•œ x (Inter.inter s t)","decl":"theorem StarConvex.inter (hs : StarConvex ğ•œ x s) (ht : StarConvex ğ•œ x t) : StarConvex ğ•œ x (s âˆ© t) :=\n  fun _ hy _ _ ha hb hab => âŸ¨hs hy.left ha hb hab, ht hy.right ha hb habâŸ©\n\n"}
{"name":"starConvex_sInter","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nS : Set (Set E)\nh : âˆ€ (s : Set E), Membership.mem S s â†’ StarConvex ğ•œ x s\nâŠ¢ StarConvex ğ•œ x S.sInter","decl":"theorem starConvex_sInter {S : Set (Set E)} (h : âˆ€ s âˆˆ S, StarConvex ğ•œ x s) :\n    StarConvex ğ•œ x (â‹‚â‚€ S) := fun _ hy _ _ ha hb hab s hs => h s hs (hy s hs) ha hb hab\n\n"}
{"name":"starConvex_iInter","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nÎ¹ : Sort u_4\ns : Î¹ â†’ Set E\nh : âˆ€ (i : Î¹), StarConvex ğ•œ x (s i)\nâŠ¢ StarConvex ğ•œ x (Set.iInter fun i => s i)","decl":"theorem starConvex_iInter {Î¹ : Sort*} {s : Î¹ â†’ Set E} (h : âˆ€ i, StarConvex ğ•œ x (s i)) :\n    StarConvex ğ•œ x (â‹‚ i, s i) :=\n  sInter_range s â–¸ starConvex_sInter <| forall_mem_range.2 h\n\n"}
{"name":"StarConvex.union","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\ns t : Set E\nhs : StarConvex ğ•œ x s\nht : StarConvex ğ•œ x t\nâŠ¢ StarConvex ğ•œ x (Union.union s t)","decl":"theorem StarConvex.union (hs : StarConvex ğ•œ x s) (ht : StarConvex ğ•œ x t) :\n    StarConvex ğ•œ x (s âˆª t) := by\n  rintro y (hy | hy) a b ha hb hab\n  Â· exact Or.inl (hs hy ha hb hab)\n  Â· exact Or.inr (ht hy ha hb hab)\n\n"}
{"name":"starConvex_iUnion","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nÎ¹ : Sort u_4\ns : Î¹ â†’ Set E\nhs : âˆ€ (i : Î¹), StarConvex ğ•œ x (s i)\nâŠ¢ StarConvex ğ•œ x (Set.iUnion fun i => s i)","decl":"theorem starConvex_iUnion {Î¹ : Sort*} {s : Î¹ â†’ Set E} (hs : âˆ€ i, StarConvex ğ•œ x (s i)) :\n    StarConvex ğ•œ x (â‹ƒ i, s i) := by\n  rintro y hy a b ha hb hab\n  rw [mem_iUnion] at hy âŠ¢\n  obtain âŸ¨i, hyâŸ© := hy\n  exact âŸ¨i, hs i hy ha hb habâŸ©\n\n"}
{"name":"starConvex_sUnion","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMul ğ•œ E\nx : E\nS : Set (Set E)\nhS : âˆ€ (s : Set E), Membership.mem S s â†’ StarConvex ğ•œ x s\nâŠ¢ StarConvex ğ•œ x S.sUnion","decl":"theorem starConvex_sUnion {S : Set (Set E)} (hS : âˆ€ s âˆˆ S, StarConvex ğ•œ x s) :\n    StarConvex ğ•œ x (â‹ƒâ‚€ S) := by\n  rw [sUnion_eq_iUnion]\n  exact starConvex_iUnion fun s => hS _ s.2\n\n"}
{"name":"StarConvex.prod","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedSemiring ğ•œ\ninstâœÂ³ : AddCommMonoid E\ninstâœÂ² : AddCommMonoid F\ninstâœÂ¹ : SMul ğ•œ E\ninstâœ : SMul ğ•œ F\nx : E\ny : F\ns : Set E\nt : Set F\nhs : StarConvex ğ•œ x s\nht : StarConvex ğ•œ y t\nâŠ¢ StarConvex ğ•œ { fst := x, snd := y } (SProd.sprod s t)","decl":"theorem StarConvex.prod {y : F} {s : Set E} {t : Set F} (hs : StarConvex ğ•œ x s)\n    (ht : StarConvex ğ•œ y t) : StarConvex ğ•œ (x, y) (s Ã—Ë¢ t) := fun _ hy _ _ ha hb hab =>\n  âŸ¨hs hy.1 ha hb hab, ht hy.2 ha hb habâŸ©\n\n"}
{"name":"starConvex_pi","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\ninstâœÂ² : OrderedSemiring ğ•œ\nÎ¹ : Type u_4\nE : Î¹ â†’ Type u_5\ninstâœÂ¹ : (i : Î¹) â†’ AddCommMonoid (E i)\ninstâœ : (i : Î¹) â†’ SMul ğ•œ (E i)\nx : (i : Î¹) â†’ E i\ns : Set Î¹\nt : (i : Î¹) â†’ Set (E i)\nht : âˆ€ â¦ƒi : Î¹â¦„, Membership.mem s i â†’ StarConvex ğ•œ (x i) (t i)\nâŠ¢ StarConvex ğ•œ x (s.pi t)","decl":"theorem starConvex_pi {Î¹ : Type*} {E : Î¹ â†’ Type*} [âˆ€ i, AddCommMonoid (E i)] [âˆ€ i, SMul ğ•œ (E i)]\n    {x : âˆ€ i, E i} {s : Set Î¹} {t : âˆ€ i, Set (E i)} (ht : âˆ€ â¦ƒiâ¦„, i âˆˆ s â†’ StarConvex ğ•œ (x i) (t i)) :\n    StarConvex ğ•œ x (s.pi t) := fun _ hy _ _ ha hb hab i hi => ht hi (hy i hi) ha hb hab\n\n"}
{"name":"StarConvex.mem","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nh : s.Nonempty\nâŠ¢ Membership.mem s x","decl":"theorem StarConvex.mem (hs : StarConvex ğ•œ x s) (h : s.Nonempty) : x âˆˆ s := by\n  obtain âŸ¨y, hyâŸ© := h\n  convert hs hy zero_le_one le_rfl (add_zero 1)\n  rw [one_smul, zero_smul, add_zero]\n\n"}
{"name":"starConvex_iff_forall_pos","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhx : Membership.mem s x\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒy : Eâ¦„, Membership.mem s y â†’ âˆ€ â¦ƒa b : ğ•œâ¦„, LT.lt 0 a â†’ LT.lt 0 b â†’ Eq (HAdd.hAdd a b) 1 â†’ Membership.mem s (HAdd.hAdd (HSMul.hSMul a x) (HSMul.hSMul b y)))","decl":"theorem starConvex_iff_forall_pos (hx : x âˆˆ s) : StarConvex ğ•œ x s â†”\n    âˆ€ â¦ƒyâ¦„, y âˆˆ s â†’ âˆ€ â¦ƒa b : ğ•œâ¦„, 0 < a â†’ 0 < b â†’ a + b = 1 â†’ a â€¢ x + b â€¢ y âˆˆ s := by\n  refine âŸ¨fun h y hy a b ha hb hab => h hy ha.le hb.le hab, ?_âŸ©\n  intro h y hy a b ha hb hab\n  obtain rfl | ha := ha.eq_or_lt\n  Â· rw [zero_add] at hab\n    rwa [hab, one_smul, zero_smul, zero_add]\n  obtain rfl | hb := hb.eq_or_lt\n  Â· rw [add_zero] at hab\n    rwa [hab, one_smul, zero_smul, add_zero]\n  exact h hy ha hb hab\n\n"}
{"name":"starConvex_iff_forall_ne_pos","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhx : Membership.mem s x\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒy : Eâ¦„, Membership.mem s y â†’ Ne x y â†’ âˆ€ â¦ƒa b : ğ•œâ¦„, LT.lt 0 a â†’ LT.lt 0 b â†’ Eq (HAdd.hAdd a b) 1 â†’ Membership.mem s (HAdd.hAdd (HSMul.hSMul a x) (HSMul.hSMul b y)))","decl":"theorem starConvex_iff_forall_ne_pos (hx : x âˆˆ s) :\n    StarConvex ğ•œ x s â†”\n      âˆ€ â¦ƒyâ¦„, y âˆˆ s â†’ x â‰  y â†’ âˆ€ â¦ƒa b : ğ•œâ¦„, 0 < a â†’ 0 < b â†’ a + b = 1 â†’ a â€¢ x + b â€¢ y âˆˆ s := by\n  refine âŸ¨fun h y hy _ a b ha hb hab => h hy ha.le hb.le hab, ?_âŸ©\n  intro h y hy a b ha hb hab\n  obtain rfl | ha' := ha.eq_or_lt\n  Â· rw [zero_add] at hab\n    rwa [hab, zero_smul, one_smul, zero_add]\n  obtain rfl | hb' := hb.eq_or_lt\n  Â· rw [add_zero] at hab\n    rwa [hab, zero_smul, one_smul, add_zero]\n  obtain rfl | hxy := eq_or_ne x y\n  Â· rwa [Convex.combo_self hab]\n  exact h hy hxy ha' hb' hab\n\n"}
{"name":"starConvex_iff_openSegment_subset","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhx : Membership.mem s x\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒy : Eâ¦„, Membership.mem s y â†’ HasSubset.Subset (openSegment ğ•œ x y) s)","decl":"theorem starConvex_iff_openSegment_subset (hx : x âˆˆ s) :\n    StarConvex ğ•œ x s â†” âˆ€ â¦ƒyâ¦„, y âˆˆ s â†’ openSegment ğ•œ x y âŠ† s :=\n  starConvex_iff_segment_subset.trans <|\n    forallâ‚‚_congr fun _ hy => (openSegment_subset_iff_segment_subset hx hy).symm\n\n"}
{"name":"starConvex_singleton","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\nâŠ¢ StarConvex ğ•œ x (Singleton.singleton x)","decl":"theorem starConvex_singleton (x : E) : StarConvex ğ•œ x {x} := by\n  rintro y (rfl : y = x) a b _ _ hab\n  exact Convex.combo_self hab _\n\n"}
{"name":"StarConvex.linear_image","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedSemiring ğ•œ\ninstâœÂ³ : AddCommMonoid E\ninstâœÂ² : AddCommMonoid F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nf : LinearMap (RingHom.id ğ•œ) E F\nâŠ¢ StarConvex ğ•œ (f x) (Set.image (â‡‘f) s)","decl":"theorem StarConvex.linear_image (hs : StarConvex ğ•œ x s) (f : E â†’â‚—[ğ•œ] F) :\n    StarConvex ğ•œ (f x) (f '' s) := by\n  rintro _ âŸ¨y, hy, rflâŸ© a b ha hb hab\n  exact âŸ¨a â€¢ x + b â€¢ y, hs hy ha hb hab, by rw [f.map_add, f.map_smul, f.map_smul]âŸ©\n\n"}
{"name":"StarConvex.is_linear_image","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedSemiring ğ•œ\ninstâœÂ³ : AddCommMonoid E\ninstâœÂ² : AddCommMonoid F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nf : E â†’ F\nhf : IsLinearMap ğ•œ f\nâŠ¢ StarConvex ğ•œ (f x) (Set.image f s)","decl":"theorem StarConvex.is_linear_image (hs : StarConvex ğ•œ x s) {f : E â†’ F} (hf : IsLinearMap ğ•œ f) :\n    StarConvex ğ•œ (f x) (f '' s) :=\n  hs.linear_image <| hf.mk' f\n\n"}
{"name":"StarConvex.linear_preimage","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedSemiring ğ•œ\ninstâœÂ³ : AddCommMonoid E\ninstâœÂ² : AddCommMonoid F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\ns : Set F\nf : LinearMap (RingHom.id ğ•œ) E F\nhs : StarConvex ğ•œ (f x) s\nâŠ¢ StarConvex ğ•œ x (Set.preimage (â‡‘f) s)","decl":"theorem StarConvex.linear_preimage {s : Set F} (f : E â†’â‚—[ğ•œ] F) (hs : StarConvex ğ•œ (f x) s) :\n    StarConvex ğ•œ x (f â»Â¹' s) := by\n  intro y hy a b ha hb hab\n  rw [mem_preimage, f.map_add, f.map_smul, f.map_smul]\n  exact hs hy ha hb hab\n\n"}
{"name":"StarConvex.is_linear_preimage","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedSemiring ğ•œ\ninstâœÂ³ : AddCommMonoid E\ninstâœÂ² : AddCommMonoid F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\ns : Set F\nf : E â†’ F\nhs : StarConvex ğ•œ (f x) s\nhf : IsLinearMap ğ•œ f\nâŠ¢ StarConvex ğ•œ x (Set.preimage f s)","decl":"theorem StarConvex.is_linear_preimage {s : Set F} {f : E â†’ F} (hs : StarConvex ğ•œ (f x) s)\n    (hf : IsLinearMap ğ•œ f) : StarConvex ğ•œ x (preimage f s) :=\n  hs.linear_preimage <| hf.mk' f\n\n"}
{"name":"StarConvex.add","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx y : E\ns t : Set E\nhs : StarConvex ğ•œ x s\nht : StarConvex ğ•œ y t\nâŠ¢ StarConvex ğ•œ (HAdd.hAdd x y) (HAdd.hAdd s t)","decl":"theorem StarConvex.add {t : Set E} (hs : StarConvex ğ•œ x s) (ht : StarConvex ğ•œ y t) :\n    StarConvex ğ•œ (x + y) (s + t) := by\n  rw [â† add_image_prod]\n  exact (hs.prod ht).is_linear_image IsLinearMap.isLinearMap_add\n\n"}
{"name":"StarConvex.add_left","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nz : E\nâŠ¢ StarConvex ğ•œ (HAdd.hAdd z x) (Set.image (fun x => HAdd.hAdd z x) s)","decl":"theorem StarConvex.add_left (hs : StarConvex ğ•œ x s) (z : E) :\n    StarConvex ğ•œ (z + x) ((fun x => z + x) '' s) := by\n  intro y hy a b ha hb hab\n  obtain âŸ¨y', hy', rflâŸ© := hy\n  refine âŸ¨a â€¢ x + b â€¢ y', hs hy' ha hb hab, ?_âŸ©\n  match_scalars <;> simp [hab]\n\n"}
{"name":"StarConvex.add_right","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nz : E\nâŠ¢ StarConvex ğ•œ (HAdd.hAdd x z) (Set.image (fun x => HAdd.hAdd x z) s)","decl":"theorem StarConvex.add_right (hs : StarConvex ğ•œ x s) (z : E) :\n    StarConvex ğ•œ (x + z) ((fun x => x + z) '' s) := by\n  intro y hy a b ha hb hab\n  obtain âŸ¨y', hy', rflâŸ© := hy\n  refine âŸ¨a â€¢ x + b â€¢ y', hs hy' ha hb hab, ?_âŸ©\n  match_scalars <;> simp [hab]\n\n"}
{"name":"StarConvex.preimage_add_right","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx z : E\ns : Set E\nhs : StarConvex ğ•œ (HAdd.hAdd z x) s\nâŠ¢ StarConvex ğ•œ x (Set.preimage (fun x => HAdd.hAdd z x) s)","decl":"/-- The translation of a star-convex set is also star-convex. -/\ntheorem StarConvex.preimage_add_right (hs : StarConvex ğ•œ (z + x) s) :\n    StarConvex ğ•œ x ((fun x => z + x) â»Â¹' s) := by\n  intro y hy a b ha hb hab\n  have h := hs hy ha hb hab\n  rwa [smul_add, smul_add, add_add_add_comm, â† add_smul, hab, one_smul] at h\n\n"}
{"name":"StarConvex.preimage_add_left","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx z : E\ns : Set E\nhs : StarConvex ğ•œ (HAdd.hAdd x z) s\nâŠ¢ StarConvex ğ•œ x (Set.preimage (fun x => HAdd.hAdd x z) s)","decl":"/-- The translation of a star-convex set is also star-convex. -/\ntheorem StarConvex.preimage_add_left (hs : StarConvex ğ•œ (x + z) s) :\n    StarConvex ğ•œ x ((fun x => x + z) â»Â¹' s) := by\n  rw [add_comm] at hs\n  simpa only [add_comm] using hs.preimage_add_right\n\n"}
{"name":"StarConvex.sub'","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedSemiring ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx y : E\ns : Set (Prod E E)\nhs : StarConvex ğ•œ { fst := x, snd := y } s\nâŠ¢ StarConvex ğ•œ (HSub.hSub x y) (Set.image (fun x => HSub.hSub x.1 x.2) s)","decl":"theorem StarConvex.sub' {s : Set (E Ã— E)} (hs : StarConvex ğ•œ (x, y) s) :\n    StarConvex ğ•œ (x - y) ((fun x : E Ã— E => x.1 - x.2) '' s) :=\n  hs.is_linear_image IsLinearMap.isLinearMap_sub\n\n"}
{"name":"StarConvex.smul","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedCommSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nc : ğ•œ\nâŠ¢ StarConvex ğ•œ (HSMul.hSMul c x) (HSMul.hSMul c s)","decl":"theorem StarConvex.smul (hs : StarConvex ğ•œ x s) (c : ğ•œ) : StarConvex ğ•œ (c â€¢ x) (c â€¢ s) :=\n  hs.linear_image <| LinearMap.lsmul _ _ c\n\n"}
{"name":"StarConvex.preimage_smul","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedCommSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nc : ğ•œ\nhs : StarConvex ğ•œ (HSMul.hSMul c x) s\nâŠ¢ StarConvex ğ•œ x (Set.preimage (fun z => HSMul.hSMul c z) s)","decl":"theorem StarConvex.preimage_smul {c : ğ•œ} (hs : StarConvex ğ•œ (c â€¢ x) s) :\n    StarConvex ğ•œ x ((fun z => c â€¢ z) â»Â¹' s) :=\n  hs.linear_preimage (LinearMap.lsmul _ _ c)\n\n"}
{"name":"StarConvex.affinity","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedCommSemiring ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nz : E\nc : ğ•œ\nâŠ¢ StarConvex ğ•œ (HAdd.hAdd z (HSMul.hSMul c x)) (Set.image (fun x => HAdd.hAdd z (HSMul.hSMul c x)) s)","decl":"theorem StarConvex.affinity (hs : StarConvex ğ•œ x s) (z : E) (c : ğ•œ) :\n    StarConvex ğ•œ (z + c â€¢ x) ((fun x => z + c â€¢ x) '' s) := by\n  have h := (hs.smul c).add_left z\n  rwa [â† image_smul, image_image] at h\n\n"}
{"name":"starConvex_zero_iff","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommMonoid E\ninstâœ : SMulWithZero ğ•œ E\ns : Set E\nâŠ¢ Iff (StarConvex ğ•œ 0 s) (âˆ€ â¦ƒx : Eâ¦„, Membership.mem s x â†’ âˆ€ â¦ƒa : ğ•œâ¦„, LE.le 0 a â†’ LE.le a 1 â†’ Membership.mem s (HSMul.hSMul a x))","decl":"theorem starConvex_zero_iff :\n    StarConvex ğ•œ 0 s â†” âˆ€ â¦ƒx : Eâ¦„, x âˆˆ s â†’ âˆ€ â¦ƒa : ğ•œâ¦„, 0 â‰¤ a â†’ a â‰¤ 1 â†’ a â€¢ x âˆˆ s := by\n  refine\n    forall_congr' fun x => forall_congr' fun _ => âŸ¨fun h a haâ‚€ haâ‚ => ?_, fun h a b ha hb hab => ?_âŸ©\n  Â· simpa only [sub_add_cancel, eq_self_iff_true, forall_true_left, zero_add, smul_zero] using\n      h (sub_nonneg_of_le haâ‚) haâ‚€\n  Â· rw [smul_zero, zero_add]\n    exact h hb (by rw [â† hab]; exact le_add_of_nonneg_left ha)\n\n"}
{"name":"StarConvex.add_smul_mem","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx y : E\ns : Set E\nhs : StarConvex ğ•œ x s\nhy : Membership.mem s (HAdd.hAdd x y)\nt : ğ•œ\nhtâ‚€ : LE.le 0 t\nhtâ‚ : LE.le t 1\nâŠ¢ Membership.mem s (HAdd.hAdd x (HSMul.hSMul t y))","decl":"theorem StarConvex.add_smul_mem (hs : StarConvex ğ•œ x s) (hy : x + y âˆˆ s) {t : ğ•œ} (htâ‚€ : 0 â‰¤ t)\n    (htâ‚ : t â‰¤ 1) : x + t â€¢ y âˆˆ s := by\n  have h : x + t â€¢ y = (1 - t) â€¢ x + t â€¢ (x + y) := by\n    rw [smul_add, â† add_assoc, â† add_smul, sub_add_cancel, one_smul]\n  rw [h]\n  exact hs hy (sub_nonneg_of_le htâ‚) htâ‚€ (sub_add_cancel _ _)\n\n"}
{"name":"StarConvex.smul_mem","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ 0 s\nhx : Membership.mem s x\nt : ğ•œ\nhtâ‚€ : LE.le 0 t\nhtâ‚ : LE.le t 1\nâŠ¢ Membership.mem s (HSMul.hSMul t x)","decl":"theorem StarConvex.smul_mem (hs : StarConvex ğ•œ 0 s) (hx : x âˆˆ s) {t : ğ•œ} (htâ‚€ : 0 â‰¤ t)\n    (htâ‚ : t â‰¤ 1) : t â€¢ x âˆˆ s := by simpa using hs.add_smul_mem (by simpa using hx) htâ‚€ htâ‚\n\n"}
{"name":"StarConvex.add_smul_sub_mem","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx y : E\ns : Set E\nhs : StarConvex ğ•œ x s\nhy : Membership.mem s y\nt : ğ•œ\nhtâ‚€ : LE.le 0 t\nhtâ‚ : LE.le t 1\nâŠ¢ Membership.mem s (HAdd.hAdd x (HSMul.hSMul t (HSub.hSub y x)))","decl":"theorem StarConvex.add_smul_sub_mem (hs : StarConvex ğ•œ x s) (hy : y âˆˆ s) {t : ğ•œ} (htâ‚€ : 0 â‰¤ t)\n    (htâ‚ : t â‰¤ 1) : x + t â€¢ (y - x) âˆˆ s := by\n  apply hs.segment_subset hy\n  rw [segment_eq_image']\n  exact mem_image_of_mem _ âŸ¨htâ‚€, htâ‚âŸ©\n\n"}
{"name":"StarConvex.affine_preimage","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedRing ğ•œ\ninstâœÂ³ : AddCommGroup E\ninstâœÂ² : AddCommGroup F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\nf : AffineMap ğ•œ E F\ns : Set F\nhs : StarConvex ğ•œ (f x) s\nâŠ¢ StarConvex ğ•œ x (Set.preimage (â‡‘f) s)","decl":"/-- The preimage of a star-convex set under an affine map is star-convex. -/\ntheorem StarConvex.affine_preimage (f : E â†’áµƒ[ğ•œ] F) {s : Set F} (hs : StarConvex ğ•œ (f x) s) :\n    StarConvex ğ•œ x (f â»Â¹' s) := by\n  intro y hy a b ha hb hab\n  rw [mem_preimage, Convex.combo_affine_apply hab]\n  exact hs hy ha hb hab\n\n"}
{"name":"StarConvex.affine_image","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\nF : Type u_3\ninstâœâ´ : OrderedRing ğ•œ\ninstâœÂ³ : AddCommGroup E\ninstâœÂ² : AddCommGroup F\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : Module ğ•œ F\nx : E\nf : AffineMap ğ•œ E F\ns : Set E\nhs : StarConvex ğ•œ x s\nâŠ¢ StarConvex ğ•œ (f x) (Set.image (â‡‘f) s)","decl":"/-- The image of a star-convex set under an affine map is star-convex. -/\ntheorem StarConvex.affine_image (f : E â†’áµƒ[ğ•œ] F) {s : Set E} (hs : StarConvex ğ•œ x s) :\n    StarConvex ğ•œ (f x) (f '' s) := by\n  rintro y âŸ¨y', âŸ¨hy', hy'fâŸ©âŸ© a b ha hb hab\n  refine âŸ¨a â€¢ x + b â€¢ y', âŸ¨hs hy' ha hb hab, ?_âŸ©âŸ©\n  rw [Convex.combo_affine_apply hab, hy'f]\n\n"}
{"name":"StarConvex.neg","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ x s\nâŠ¢ StarConvex ğ•œ (Neg.neg x) (Neg.neg s)","decl":"theorem StarConvex.neg (hs : StarConvex ğ•œ x s) : StarConvex ğ•œ (-x) (-s) := by\n  rw [â† image_neg_eq_neg]\n  exact hs.is_linear_image IsLinearMap.isLinearMap_neg\n\n"}
{"name":"StarConvex.sub","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : OrderedRing ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx y : E\ns t : Set E\nhs : StarConvex ğ•œ x s\nht : StarConvex ğ•œ y t\nâŠ¢ StarConvex ğ•œ (HSub.hSub x y) (HSub.hSub s t)","decl":"theorem StarConvex.sub (hs : StarConvex ğ•œ x s) (ht : StarConvex ğ•œ y t) :\n    StarConvex ğ•œ (x - y) (s - t) := by\n  simp_rw [sub_eq_add_neg]\n  exact hs.add ht.neg\n\n"}
{"name":"starConvex_compl_Iic","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ³ : OrderedRing ğ•œ\ninstâœÂ² : OrderedAddCommGroup E\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : OrderedSMul ğ•œ E\nx y : E\nh : LT.lt x y\nâŠ¢ StarConvex ğ•œ y (HasCompl.compl (Set.Iic x))","decl":"/-- If `x < y`, then `(Set.Iic x)á¶œ` is star convex at `y`. -/\nlemma starConvex_compl_Iic (h : x < y) : StarConvex ğ•œ y (Iic x)á¶œ := by\n  refine (starConvex_iff_forall_pos <| by simp [h.not_le]).mpr fun z hz a b ha hb hab â†¦ ?_\n  rw [mem_compl_iff, mem_Iic] at hz âŠ¢\n  contrapose! hz\n  refine (lt_of_smul_lt_smul_of_nonneg_left ?_ hb.le).le\n  calc\n    b â€¢ z â‰¤ (a + b) â€¢ x - a â€¢ y := by rwa [le_sub_iff_add_le', hab, one_smul]\n    _ < b â€¢ x := by\n      rw [add_smul, sub_lt_iff_lt_add']\n      gcongr\n\n"}
{"name":"starConvex_compl_Ici","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ³ : OrderedRing ğ•œ\ninstâœÂ² : OrderedAddCommGroup E\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : OrderedSMul ğ•œ E\nx y : E\nh : LT.lt x y\nâŠ¢ StarConvex ğ•œ x (HasCompl.compl (Set.Ici y))","decl":"/-- If `x < y`, then `(Set.Ici y)á¶œ` is star convex at `x`. -/\nlemma starConvex_compl_Ici (h : x < y) : StarConvex ğ•œ x (Ici y)á¶œ :=\n  starConvex_compl_Iic (E := Eáµ’áµˆ) h\n\n"}
{"name":"starConvex_iff_div","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : LinearOrderedField ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nâŠ¢ Iff (StarConvex ğ•œ x s) (âˆ€ â¦ƒy : Eâ¦„, Membership.mem s y â†’ âˆ€ â¦ƒa b : ğ•œâ¦„, LE.le 0 a â†’ LE.le 0 b â†’ LT.lt 0 (HAdd.hAdd a b) â†’ Membership.mem s (HAdd.hAdd (HSMul.hSMul (HDiv.hDiv a (HAdd.hAdd a b)) x) (HSMul.hSMul (HDiv.hDiv b (HAdd.hAdd a b)) y)))","decl":"/-- Alternative definition of star-convexity, using division. -/\ntheorem starConvex_iff_div : StarConvex ğ•œ x s â†” âˆ€ â¦ƒyâ¦„, y âˆˆ s â†’\n    âˆ€ â¦ƒa b : ğ•œâ¦„, 0 â‰¤ a â†’ 0 â‰¤ b â†’ 0 < a + b â†’ (a / (a + b)) â€¢ x + (b / (a + b)) â€¢ y âˆˆ s :=\n  âŸ¨fun h y hy a b ha hb hab => by\n    apply h hy\n    Â· positivity\n    Â· positivity\n    Â· rw [â† add_div]\n      exact div_self hab.ne',\n  fun h y hy a b ha hb hab => by\n    have h' := h hy ha hb\n    rw [hab, div_one, div_one] at h'\n    exact h' zero_lt_oneâŸ©\n\n"}
{"name":"StarConvex.mem_smul","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ² : LinearOrderedField ğ•œ\ninstâœÂ¹ : AddCommGroup E\ninstâœ : Module ğ•œ E\nx : E\ns : Set E\nhs : StarConvex ğ•œ 0 s\nhx : Membership.mem s x\nt : ğ•œ\nht : LE.le 1 t\nâŠ¢ Membership.mem (HSMul.hSMul t s) x","decl":"theorem StarConvex.mem_smul (hs : StarConvex ğ•œ 0 s) (hx : x âˆˆ s) {t : ğ•œ} (ht : 1 â‰¤ t) :\n    x âˆˆ t â€¢ s := by\n  rw [mem_smul_set_iff_inv_smul_memâ‚€ (zero_lt_one.trans_le ht).ne']\n  exact hs.smul_mem hx (by positivity) (inv_le_one_of_one_leâ‚€ ht)\n\n"}
{"name":"Set.OrdConnected.starConvex","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\nE : Type u_2\ninstâœÂ³ : OrderedSemiring ğ•œ\ninstâœÂ² : OrderedAddCommMonoid E\ninstâœÂ¹ : Module ğ•œ E\ninstâœ : OrderedSMul ğ•œ E\nx : E\ns : Set E\nhs : s.OrdConnected\nhx : Membership.mem s x\nh : âˆ€ (y : E), Membership.mem s y â†’ Or (LE.le x y) (LE.le y x)\nâŠ¢ StarConvex ğ•œ x s","decl":"/-- If `s` is an order-connected set in an ordered module over an ordered semiring\nand all elements of `s` are comparable with `x âˆˆ s`, then `s` is `StarConvex` at `x`. -/\ntheorem Set.OrdConnected.starConvex [OrderedSemiring ğ•œ] [OrderedAddCommMonoid E] [Module ğ•œ E]\n    [OrderedSMul ğ•œ E] {x : E} {s : Set E} (hs : s.OrdConnected) (hx : x âˆˆ s)\n    (h : âˆ€ y âˆˆ s, x â‰¤ y âˆ¨ y â‰¤ x) : StarConvex ğ•œ x s := by\n  intro y hy a b ha hb hab\n  obtain hxy | hyx := h _ hy\n  Â· refine hs.out hx hy (mem_Icc.2 âŸ¨?_, ?_âŸ©)\n    Â· calc\n        x = a â€¢ x + b â€¢ x := (Convex.combo_self hab _).symm\n        _ â‰¤ a â€¢ x + b â€¢ y := by gcongr\n    calc\n      a â€¢ x + b â€¢ y â‰¤ a â€¢ y + b â€¢ y := by gcongr\n      _ = y := Convex.combo_self hab _\n  Â· refine hs.out hy hx (mem_Icc.2 âŸ¨?_, ?_âŸ©)\n    Â· calc\n        y = a â€¢ y + b â€¢ y := (Convex.combo_self hab _).symm\n        _ â‰¤ a â€¢ x + b â€¢ y := by gcongr\n    calc\n      a â€¢ x + b â€¢ y â‰¤ a â€¢ x + b â€¢ x := by gcongr\n      _ = x := Convex.combo_self hab _\n\n"}
{"name":"starConvex_iff_ordConnected","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\nx : ğ•œ\ns : Set ğ•œ\nhx : Membership.mem s x\nâŠ¢ Iff (StarConvex ğ•œ x s) s.OrdConnected","decl":"theorem starConvex_iff_ordConnected [LinearOrderedField ğ•œ] {x : ğ•œ} {s : Set ğ•œ} (hx : x âˆˆ s) :\n    StarConvex ğ•œ x s â†” s.OrdConnected := by\n  simp_rw [ordConnected_iff_uIcc_subset_left hx, starConvex_iff_segment_subset, segment_eq_uIcc]\n\n"}
{"name":"StarConvex.ordConnected","module":"Mathlib.Analysis.Convex.Star","initialProofState":"ğ•œ : Type u_1\ninstâœ : LinearOrderedField ğ•œ\nx : ğ•œ\ns : Set ğ•œ\nhx : Membership.mem s x\naâœ : StarConvex ğ•œ x s\nâŠ¢ s.OrdConnected","decl":"alias âŸ¨StarConvex.ordConnected, _âŸ© := starConvex_iff_ordConnected\n\n"}
