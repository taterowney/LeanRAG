{"name":"NumberField.instFreeIntSubtypeMemSubmoduleRingOfIntegersCoeToSubmodule","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœ : Field K\nI : FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K\nâŠ¢ Module.Free Int (Subtype fun x => Membership.mem (â†‘I) x)","decl":"instance (I : FractionalIdeal (ğ“ K)â° K) : Module.Free â„¤ I := by\n  refine Free.of_equiv (LinearEquiv.restrictScalars â„¤ (I.equivNum ?_)).symm\n  exact nonZeroDivisors.coe_ne_zero I.den\n\n"}
{"name":"NumberField.instFiniteIntSubtypeMemSubmoduleRingOfIntegersCoeToSubmodule","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœ : Field K\nI : FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K\nâŠ¢ Module.Finite Int (Subtype fun x => Membership.mem (â†‘I) x)","decl":"instance (I : FractionalIdeal (ğ“ K)â° K) : Module.Finite â„¤ I := by\n  refine Module.Finite.of_surjective\n    (LinearEquiv.restrictScalars â„¤ (I.equivNum ?_)).symm.toLinearMap (LinearEquiv.surjective _)\n  exact nonZeroDivisors.coe_ne_zero I.den\n\n"}
{"name":"NumberField.instIsLocalizedModuleIntNonZeroDivisorsSubtypeMemSubmoduleRingOfIntegersCoeToSubmoduleValFractionalIdealRestrictScalarsSubtype","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœÂ¹ : Field K\ninstâœ : NumberField K\nI : Units (FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K)\nâŠ¢ IsLocalizedModule (nonZeroDivisors Int) (â†‘Int (â†‘â†‘I).subtype)","decl":"instance (I : (FractionalIdeal (ğ“ K)â° K)Ë£) :\n    IsLocalizedModule â„¤â° ((Submodule.subtype (I : Submodule (ğ“ K) K)).restrictScalars â„¤) where\n  map_units x := by\n    rw [â† (Algebra.lmul _ _).commutes, Algebra.lmul_isUnit_iff, isUnit_iff_ne_zero, eq_intCast,\n      Int.cast_ne_zero]\n    exact nonZeroDivisors.coe_ne_zero x\n  surj' x := by\n    obtain âŸ¨âŸ¨a, _, d, hd, rflâŸ©, hâŸ© := IsLocalization.surj (Algebra.algebraMapSubmonoid (ğ“ K) â„¤â°) x\n    refine âŸ¨âŸ¨âŸ¨Ideal.absNorm I.1.num * (algebraMap _ K a), I.1.num_le ?_âŸ©, d * Ideal.absNorm I.1.num,\n      ?_âŸ© , ?_âŸ©\n    Â· simp_rw [FractionalIdeal.val_eq_coe, FractionalIdeal.coe_coeIdeal]\n      refine (IsLocalization.mem_coeSubmodule _ _).mpr âŸ¨Ideal.absNorm I.1.num * a, ?_, ?_âŸ©\n      Â· exact Ideal.mul_mem_right _ _ I.1.num.absNorm_mem\n      Â· rw [map_mul, map_natCast]\n    Â· refine Submonoid.mul_mem _ hd (mem_nonZeroDivisors_of_ne_zero ?_)\n      rw [Nat.cast_ne_zero, ne_eq, Ideal.absNorm_eq_zero_iff]\n      exact FractionalIdeal.num_eq_zero_iff.not.mpr <| Units.ne_zero I\n    Â· simp_rw [LinearMap.coe_restrictScalars, Submodule.coe_subtype] at h âŠ¢\n      rw [â† h]\n      simp only [Submonoid.mk_smul, zsmul_eq_mul, Int.cast_mul, Int.cast_natCast, algebraMap_int_eq,\n        eq_intCast, map_intCast]\n      ring\n  exists_of_eq h :=\n    âŸ¨1, by rwa [one_smul, one_smul, â† (Submodule.injective_subtype I.1.coeToSubmodule).eq_iff]âŸ©\n\n"}
{"name":"NumberField.basisOfFractionalIdeal_apply","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœÂ¹ : Field K\ninstâœ : NumberField K\nI : Units (FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K)\ni : Module.Free.ChooseBasisIndex Int (Subtype fun x => Membership.mem (â†‘â†‘I) x)\nâŠ¢ Eq ((NumberField.basisOfFractionalIdeal K I) i) â†‘((NumberField.fractionalIdealBasis K â†‘I) i)","decl":"theorem basisOfFractionalIdeal_apply (I : (FractionalIdeal (ğ“ K)â° K)Ë£)\n    (i : Free.ChooseBasisIndex â„¤ I) :\n    basisOfFractionalIdeal K I i = fractionalIdealBasis K I.1 i :=\n  (fractionalIdealBasis K I.1).ofIsLocalizedModule_apply â„š â„¤â° _ i\n\n"}
{"name":"NumberField.mem_span_basisOfFractionalIdeal","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœÂ¹ : Field K\ninstâœ : NumberField K\nI : Units (FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K)\nx : K\nâŠ¢ Iff (Membership.mem (Submodule.span Int (Set.range â‡‘(NumberField.basisOfFractionalIdeal K I))) x) (Membership.mem (â†‘â†‘I) x)","decl":"theorem mem_span_basisOfFractionalIdeal {I : (FractionalIdeal (ğ“ K)â° K)Ë£} {x : K} :\n    x âˆˆ Submodule.span â„¤ (Set.range (basisOfFractionalIdeal K I)) â†” x âˆˆ (I : Set K) := by\n  rw [basisOfFractionalIdeal, (fractionalIdealBasis K I.1).ofIsLocalizedModule_span â„š â„¤â° _]\n  simp\n\n"}
{"name":"NumberField.fractionalIdeal_rank","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœÂ¹ : Field K\ninstâœ : NumberField K\nI : Units (FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K)\nâŠ¢ Eq (Module.finrank Int (Subtype fun x => Membership.mem (â†‘â†‘I) x)) (Module.finrank Int (NumberField.RingOfIntegers K))","decl":"open Module in\ntheorem fractionalIdeal_rank (I : (FractionalIdeal (ğ“ K)â° K)Ë£) :\n    finrank â„¤ I = finrank â„¤ (ğ“ K) := by\n  rw [finrank_eq_card_chooseBasisIndex, RingOfIntegers.rank,\n    finrank_eq_card_basis (basisOfFractionalIdeal K I)]\n\n"}
{"name":"NumberField.det_basisOfFractionalIdeal_eq_absNorm","module":"Mathlib.NumberTheory.NumberField.FractionalIdeal","initialProofState":"K : Type u_1\ninstâœÂ¹ : Field K\ninstâœ : NumberField K\nI : Units (FractionalIdeal (nonZeroDivisors (NumberField.RingOfIntegers K)) K)\ne : Equiv (Module.Free.ChooseBasisIndex Int (NumberField.RingOfIntegers K)) (Module.Free.ChooseBasisIndex Int (Subtype fun x => Membership.mem (â†‘â†‘I) x))\nâŠ¢ Eq (abs ((NumberField.integralBasis K).det â‡‘((NumberField.basisOfFractionalIdeal K I).reindex e.symm))) (FractionalIdeal.absNorm â†‘I)","decl":"/-- The absolute value of the determinant of the base change from `integralBasis` to\n`basisOfFractionalIdeal I` is equal to the norm of `I`. -/\ntheorem det_basisOfFractionalIdeal_eq_absNorm (I : (FractionalIdeal (ğ“ K)â° K)Ë£)\n    (e : (Free.ChooseBasisIndex â„¤ (ğ“ K)) â‰ƒ (Free.ChooseBasisIndex â„¤ I)) :\n    |(integralBasis K).det ((basisOfFractionalIdeal K I).reindex e.symm)| =\n      FractionalIdeal.absNorm I.1 := by\n  rw [â† FractionalIdeal.abs_det_basis_change (RingOfIntegers.basis K) I.1\n    ((fractionalIdealBasis K I.1).reindex e.symm)]\n  congr\n  ext\n  simpa using basisOfFractionalIdeal_apply K I _\n\n"}
